!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return r(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(t,e)||u(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){if(Array.isArray(t))return t}function i(t){return function(t){if(Array.isArray(t))return s(t)}(t)||o(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,_(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,t)})(t)}function l(t,e,n){return(l=w()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&y(i,n.prototype),i}).apply(null,arguments)}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=w();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService({instanceIdentifier:i});if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],s=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:s});u.resolve(c)}catch(l){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?"[DEFAULT]":e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){v(n,t);var e=g(n);function n(t,r){return h(this,n),e.call(this)}return p(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(o){return o.pipe(a(function(n,o){return Object(i.a)(t(n,o)).pipe(Object(r.a)(function(t,r){return e(n,t,o,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new u(t,n))})}var u=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;h(this,t),this.project=e,this.concurrent=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.project,this.concurrent))}}]),t}(),s=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return h(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return p(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new o.a(this),n=this.destination;n.add(e);var r=Object(o.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.b)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),u=n("2fFW"),s=n("NJ4a"),c=function(t){v(n,t);var e=g(n);function n(t,r,o){var a;switch(h(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(b(a))):(a.syncErrorThrowable=!0,a.destination=new l(b(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(b(a),t,r,o)}return a}return p(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,f(_(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){v(n,t);var e=g(n);function n(t,o,a,u){var s,c;h(this,n),(s=e.call(this))._parentSubscriber=t;var l=b(s);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,u=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&s.add(l.unsubscribe.bind(l)),l.unsubscribe=s.unsubscribe.bind(b(s)))),s._context=l,s._next=c,s._error=a,s._complete=u,s}return p(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(s.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(s.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(s.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(s.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),u=n("jZKg"),s=n("Lhse"),c=n("c2HN"),l=n("I55L");function f(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[s.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a"),i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),u=n("kJWO"),s=n("SpAZ"),c=n("2fFW"),l=((r=function(){function t(e){h(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return p(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,u=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(u.add(r?r.call(u,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),c.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=f(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:u.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?s.a:1===r.length?r[0]:function(t){return r.reduce(function(t,e){return e(t)},t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=f(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}()).create=function(t){return new r(t)},r);function f(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;h(this,t),this.SchedulerAction=e,this.now=n}return p(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){v(n,t);var e=g(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return h(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==b(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):f(_(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),u=n("I55L"),s=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(s.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,f=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(f," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var u=Number.POSITIVE_INFINITY,s=null,c=e[e.length-1];return Object(i.a)(c)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(u=e.pop())):"number"==typeof c&&(u=e.pop()),null===s&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(u)(Object(a.a)(e,s))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),u=n("Ylt2"),s=n("2QA8"),c=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){v(n,t);var e=g(n);function n(){var t;return h(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return p(n,[{key:s.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new d(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return f(_(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new d(t,e)},t}(),d=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).destination=t,i.source=r,i}return p(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return p(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,n,r){"use strict";r.d(n,"a",function(){return gn}),r.d(n,"b",function(){return os}),r.d(n,"c",function(){return ts}),r.d(n,"d",function(){return Zu}),r.d(n,"e",function(){return $u}),r.d(n,"f",function(){return Zs}),r.d(n,"g",function(){return Bs}),r.d(n,"h",function(){return ou}),r.d(n,"i",function(){return ys}),r.d(n,"j",function(){return Pa}),r.d(n,"k",function(){return ss}),r.d(n,"l",function(){return La}),r.d(n,"m",function(){return Cr}),r.d(n,"n",function(){return Pu}),r.d(n,"o",function(){return co}),r.d(n,"p",function(){return In}),r.d(n,"q",function(){return yn}),r.d(n,"r",function(){return To}),r.d(n,"s",function(){return $a}),r.d(n,"t",function(){return tu}),r.d(n,"u",function(){return us}),r.d(n,"v",function(){return vu}),r.d(n,"w",function(){return Ks}),r.d(n,"x",function(){return pu}),r.d(n,"y",function(){return Ls}),r.d(n,"z",function(){return bs}),r.d(n,"A",function(){return Cn}),r.d(n,"B",function(){return is}),r.d(n,"C",function(){return rs}),r.d(n,"D",function(){return Ua}),r.d(n,"E",function(){return Ma}),r.d(n,"F",function(){return Pr}),r.d(n,"G",function(){return Va}),r.d(n,"H",function(){return Or}),r.d(n,"I",function(){return An}),r.d(n,"J",function(){return Ws}),r.d(n,"K",function(){return fu}),r.d(n,"L",function(){return Es}),r.d(n,"M",function(){return mn}),r.d(n,"N",function(){return Ba}),r.d(n,"O",function(){return qa}),r.d(n,"P",function(){return gu}),r.d(n,"Q",function(){return J}),r.d(n,"R",function(){return Ms}),r.d(n,"S",function(){return Ns}),r.d(n,"T",function(){return R}),r.d(n,"U",function(){return Rs}),r.d(n,"V",function(){return Xs}),r.d(n,"W",function(){return Cs}),r.d(n,"X",function(){return as}),r.d(n,"Y",function(){return fo}),r.d(n,"Z",function(){return wa}),r.d(n,"ab",function(){return _r}),r.d(n,"bb",function(){return ir}),r.d(n,"cb",function(){return Wn}),r.d(n,"db",function(){return Yn}),r.d(n,"eb",function(){return $n}),r.d(n,"fb",function(){return Jn}),r.d(n,"gb",function(){return Xn}),r.d(n,"hb",function(){return Zn}),r.d(n,"ib",function(){return ya}),r.d(n,"jb",function(){return Ys}),r.d(n,"kb",function(){return ga}),r.d(n,"lb",function(){return ma}),r.d(n,"mb",function(){return Qn}),r.d(n,"nb",function(){return nt}),r.d(n,"ob",function(){return No}),r.d(n,"pb",function(){return Qo}),r.d(n,"qb",function(){return Wo}),r.d(n,"rb",function(){return va}),r.d(n,"sb",function(){return Bt}),r.d(n,"tb",function(){return A}),r.d(n,"ub",function(){return Gn}),r.d(n,"vb",function(){return Io}),r.d(n,"wb",function(){return Mt}),r.d(n,"xb",function(){return xa}),r.d(n,"yb",function(){return di}),r.d(n,"zb",function(){return Mo}),r.d(n,"Ab",function(){return na}),r.d(n,"Bb",function(){return Gu}),r.d(n,"Cb",function(){return dt}),r.d(n,"Db",function(){return wt}),r.d(n,"Eb",function(){return L}),r.d(n,"Fb",function(){return M}),r.d(n,"Gb",function(){return gt}),r.d(n,"Hb",function(){return _t}),r.d(n,"Ib",function(){return Vo}),r.d(n,"Jb",function(){return zo}),r.d(n,"Kb",function(){return Ko}),r.d(n,"Lb",function(){return Ho}),r.d(n,"Mb",function(){return Go}),r.d(n,"Nb",function(){return dn}),r.d(n,"Ob",function(){return fa}),r.d(n,"Pb",function(){return Mn}),r.d(n,"Qb",function(){return pn}),r.d(n,"Rb",function(){return Ju}),r.d(n,"Sb",function(){return Yo}),r.d(n,"Tb",function(){return Wu}),r.d(n,"Ub",function(){return Ae}),r.d(n,"Vb",function(){return xe}),r.d(n,"Wb",function(){return Zo}),r.d(n,"Xb",function(){return qo}),r.d(n,"Yb",function(){return ju}),r.d(n,"Zb",function(){return Ku}),r.d(n,"ac",function(){return Fo}),r.d(n,"bc",function(){return ae}),r.d(n,"cc",function(){return Sr}),r.d(n,"dc",function(){return mt}),r.d(n,"ec",function(){return Uo}),r.d(n,"fc",function(){return ua}),r.d(n,"gc",function(){return sa}),r.d(n,"hc",function(){return ca}),r.d(n,"ic",function(){return la}),r.d(n,"jc",function(){return zu});var o=r("XNiG"),u=r("quSY"),s=r("HDdC"),d=r("VRyK"),y=r("7o/Q");function m(){return function(t){return t.lift(new k(t))}}var w,k=function(){function t(e){h(this,t),this.connectable=e}return p(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new O(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),O=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(y.a),S=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return p(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new u.a).add(this.source.subscribe(new E(this.getSubject(),this))),t.closed&&(this._connection=null,t=u.a.EMPTY)),t}},{key:"refCount",value:function(){return m()(this)}}]),n}(s.a),T={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(w=S.prototype)._subscribe},_isComplete:{value:w._isComplete,writable:!0},getSubject:{value:w.getSubject},connect:{value:w.connect},refCount:{value:w.refCount}},E=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_error",value:function(t){this._unsubscribe(),f(_(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),f(_(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(o.b);function I(){return new o.a}function C(t){for(var e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function x(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function A(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(A).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function j(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var P=C({__forward_ref__:C});function R(t){return t.__forward_ref__=R,t.toString=function(){return A(this())},t}function N(t){return D(t)?t():t}function D(t){return"function"==typeof t&&t.hasOwnProperty(P)&&t.__forward_ref__===R}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function M(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function U(t){return F(t,B)||F(t,K)}function F(t,e){return t.hasOwnProperty(e)?t[e]:null}function V(t){return t&&(t.hasOwnProperty(H)||t.hasOwnProperty(z))?t[H]:null}var q,B=C({"\u0275prov":C}),H=C({"\u0275inj":C}),K=C({ngInjectableDef:C}),z=C({ngInjectorDef:C}),G=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function W(t){var e=q;return q=t,e}function Q(t,e,n){var r=U(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&G.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(A(t),"]"))}function Y(t){return{toString:t}.toString()}var X=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),J=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Z="undefined"!=typeof globalThis&&globalThis,$="undefined"!=typeof window&&window,tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,et="undefined"!=typeof global&&global,nt=Z||et||$||tt,rt={},it=[],ot=C({"\u0275cmp":C}),at=C({"\u0275dir":C}),ut=C({"\u0275pipe":C}),st=C({"\u0275mod":C}),ct=C({"\u0275loc":C}),lt=C({"\u0275fac":C}),ft=C({__NG_ELEMENT_ID__:C}),ht=0;function dt(t){return Y(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===X.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||it,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||J.Emulated,id:"c",styles:t.styles||it,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ht++,n.inputs=bt(t.inputs,e),n.outputs=bt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(pt)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(vt)}:null,n})}function pt(t){return kt(t)||function(t){return t[at]||null}(t)}function vt(t){return function(t){return t[ut]||null}(t)}var yt={};function gt(t){var e={type:t.type,bootstrap:t.bootstrap||it,declarations:t.declarations||it,imports:t.imports||it,exports:t.exports||it,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Y(function(){yt[t.id]=t.type}),e}function mt(t,e){return Y(function(){var n=Ot(t,!0);n.declarations=e.declarations||it,n.imports=e.imports||it,n.exports=e.exports||it})}function bt(t,e){if(null==t)return rt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var wt=dt;function _t(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function kt(t){return t[ot]||null}function Ot(t,e){var n=t[st]||null;if(!n&&!0===e)throw new Error("Type ".concat(A(t)," does not have '\u0275mod' property."));return n}function St(t){return Array.isArray(t)&&"object"==typeof t[1]}function Tt(t){return Array.isArray(t)&&!0===t[1]}function Et(t){return 0!=(8&t.flags)}function It(t){return 2==(2&t.flags)}function Ct(t){return 1==(1&t.flags)}function xt(t){return null!==t.template}function At(t,e){return t.hasOwnProperty(lt)?t[lt]:null}var jt=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(c(Error));function Pt(t){return"string"==typeof t?t:null==t?"":String(t)}function Rt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Pt(t)}function Nt(t,e){var n=e?" in ".concat(e):"";throw new jt("201","No provider for ".concat(Rt(t)," found").concat(n))}var Dt,Lt=function(){function t(e,n,r){h(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return p(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Mt(){return Ut}function Ut(t){return t.type.prototype.ngOnChanges&&(t.setInput=Vt),Ft}function Ft(){var t=qt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===rt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Vt(t,e,n,r){var i=qt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:rt,current:null}),o=i.current||(i.current={}),a=i.previous,u=this.declaredInputs[n],s=a[u];o[u]=new Lt(s&&s.currentValue,e,a===rt),t[r]=e}function qt(t){return t.__ngSimpleChanges__||null}function Bt(t){Dt=t}function Ht(t){return!!t.listen}Mt.ngInherit=!0;var Kt={createRenderer:function(t,e){return void 0!==Dt?Dt:"undefined"!=typeof document?document:void 0}};function zt(t){for(;Array.isArray(t);)t=t[0];return t}function Gt(t,e){return zt(e[t])}function Wt(t,e){return zt(e[t.index])}function Qt(t,e){return t.data[e]}function Yt(t,e){var n=e[t];return St(n)?n:n[0]}function Xt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Jt(t){return 4==(4&t[2])}function Zt(t){return 128==(128&t[2])}function $t(t,e){return null==e?null:t[e]}function te(t){t[18]=0}function ee(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var ne={lFrame:ke(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function re(){return ne.bindingsEnabled}function ie(){return ne.lFrame.lView}function oe(){return ne.lFrame.tView}function ae(t){ne.lFrame.contextLView=t}function ue(){for(var t=se();null!==t&&64===t.type;)t=t.parent;return t}function se(){return ne.lFrame.currentTNode}function ce(t,e){var n=ne.lFrame;n.currentTNode=t,n.isParent=e}function le(){return ne.lFrame.isParent}function fe(){return ne.isInCheckNoChangesMode}function he(t){ne.isInCheckNoChangesMode=t}function de(){return ne.lFrame.bindingIndex++}function pe(t){var e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ve(t){ne.lFrame.currentDirectiveIndex=t}function ye(){return ne.lFrame.currentQueryIndex}function ge(t){ne.lFrame.currentQueryIndex=t}function me(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function be(t,e,n){if(n&G.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&G.Host||(r=me(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=ne.lFrame=_e();return o.currentTNode=e,o.lView=t,!0}function we(t){var e=_e(),n=t[1];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _e(){var t=ne.lFrame,e=null===t?null:t.child;return null===e?ke(t):e}function ke(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Oe(){var t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Se=Oe;function Te(){var t=Oe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ee(){return ne.lFrame.selectedIndex}function Ie(t){ne.lFrame.selectedIndex=t}function Ce(){var t=ne.lFrame;return Qt(t.tView,t.selectedIndex)}function xe(){ne.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Ae(){ne.lFrame.currentNamespace=null}function je(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,u=i.ngAfterViewInit,s=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Pe(t,e,n){De(t,e,3,n)}function Re(t,e,n,r){(3&t[2])===n&&De(t,e,n,r)}function Ne(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function De(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<i||-1==i)&&(Le(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Le(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Me=function t(e,n,r){h(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Ue(t,e,n){for(var r=Ht(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],u=n[i++],s=n[i++];r?t.setAttribute(e,u,s,a):e.setAttributeNS(a,u,s)}else{var c=o,l=n[++i];Ve(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Fe(t){return 3===t||4===t||6===t}function Ve(t){return 64===t.charCodeAt(0)}function qe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Be(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Be(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var u=t[o++];if("number"==typeof u){if(u===e){a=-1;break}if(u>e){a=o-1;break}}}for(;o<t.length;){var s=t[o];if("number"==typeof s)break;if(s===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function He(t){return-1!==t}function Ke(t){return 32767&t}function ze(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var Ge=!0;function We(t){var e=Ge;return Ge=t,e}var Qe=0;function Ye(t,e){var n=Je(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Xe(r.data,t),Xe(e,null),Xe(r.blueprint,null));var i=Ze(t,e),o=t.injectorIndex;if(He(i))for(var a=Ke(i),u=ze(i,e),s=u[1].data,c=0;c<8;c++)e[o+c]=u[a+c]|s[a+c];return e[o+8]=i,o}function Xe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Je(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ze(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function $e(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ft)&&(r=n[ft]),null==r&&(r=n[ft]=Qe++);var i=255&r,o=1<<i,a=64&i,u=32&i,s=e.data;128&i?a?u?s[t+7]|=o:s[t+6]|=o:u?s[t+5]|=o:s[t+4]|=o:a?u?s[t+3]|=o:s[t+2]|=o:u?s[t+1]|=o:s[t]|=o}(t,e,n)}function tn(t,e,n){if(n&G.Optional)return t;Nt(e,"NodeInjector")}function en(t,e,n,r){if(n&G.Optional&&void 0===r&&(r=null),0==(n&(G.Self|G.Host))){var i=t[9],o=W(void 0);try{return i?i.get(e,r,n&G.Optional):Q(e,r,n&G.Optional)}finally{W(o)}}return tn(r,e,n)}function nn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:G.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(ft)?t[ft]:void 0;return"number"==typeof e?e>=0?255&e:on:e}(n);if("function"==typeof o){if(!be(e,t,r))return r&G.Host?tn(i,n,r):en(e,n,r,i);try{var a=o();if(null!=a||r&G.Optional)return a;Nt(n)}finally{Se()}}else if("number"==typeof o){var u=null,s=Je(t,e),c=-1,l=r&G.Host?e[16][6]:null;for((-1===s||r&G.SkipSelf)&&(-1!==(c=-1===s?Ze(t,e):e[s+8])&&ln(r,!1)?(u=e[1],s=Ke(c),e=ze(c,e)):s=-1);-1!==s;){var f=e[1];if(cn(o,s,f.data)){var h=an(s,e,n,u,r,l);if(h!==rn)return h}-1!==(c=e[s+8])&&ln(r,e[1].data[s+8]===l)&&cn(o,s,e)?(u=f,s=Ke(c),e=ze(c,e)):s=-1}}}return en(e,n,r,i)}var rn={};function on(){return new fn(ue(),ie())}function an(t,e,n,r,i,o){var a=e[1],u=a.data[t+8],s=un(u,a,n,null==r?It(u)&&Ge:r!=a&&0!=(3&u.type),i&G.Host&&o===u);return null!==s?sn(e,a,s,u):rn}function un(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,u=1048575&o,s=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd,f=r?u:u+c;f<l;f++){var h=a[f];if(f<s&&n===h||f>=s&&h.type===n)return f}if(i){var d=a[s];if(d&&xt(d)&&d.type===n)return s}return null}function sn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Me){var a=i;a.resolving&&function(t,e){throw new jt("200","Circular dependency in DI detected for ".concat(t))}(Rt(o[n]));var u=We(a.canSeeViewProviders);a.resolving=!0;var s=a.injectImpl?W(a.injectImpl):null;be(t,r,G.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var u=Ut(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,u)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==s&&W(s),We(u),a.resolving=!1,Se()}}return i}function cn(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function ln(t,e){return!(t&G.Self||t&G.Host&&e)}var fn=function(){function t(e,n){h(this,t),this._tNode=e,this._lView=n}return p(t,[{key:"get",value:function(t,e){return nn(this._tNode,this._lView,t,void 0,e)}}]),t}();function hn(t){var e=t;if(D(t))return function(){var t=hn(N(e));return t?t():null};var n=At(e);if(null===n){var r=V(e);n=r&&r.factory}return n||null}function dn(t){return Y(function(){for(var e=t.prototype.constructor,n=e[lt]||hn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[lt]||hn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function pn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Fe(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(ue(),t)}function vn(t,e,n){return Y(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=l(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var yn=function(){function t(e,n){h(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return p(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),gn=new yn("AnalyzeForEntryComponents"),mn=Function;function bn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),bn(r,e)):e!==t&&e.push(r)}return e}function wn(t,e){t.forEach(function(t){return Array.isArray(t)?wn(t,e):e(t)})}function _n(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function kn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function On(t,e){var n=Sn(t,e);if(n>=0)return t[1|n]}function Sn(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var Tn,En,In=vn("Inject",function(t){return{token:t}}),Cn=vn("Optional"),xn=vn("Self"),An=vn("SkipSelf"),jn=vn("Host"),Pn={},Rn=/\n/gm,Nn=C({provide:String,useValue:C});function Dn(t){var e=Tn;return Tn=t,e}function Ln(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.Default;if(void 0===Tn)throw new Error("inject() must be called from an injection context");return null===Tn?Q(t,void 0,e):Tn.get(t,e&G.Optional?null:void 0,e)}function Mn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.Default;return(q||Ln)(N(t),e)}function Un(t){for(var e=[],n=0;n<t.length;n++){var r=N(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=G.Default,a=0;a<r.length;a++){var u=r[a];u instanceof Cn||"Optional"===u.ngMetadataName||u===Cn?o|=G.Optional:u instanceof An||"SkipSelf"===u.ngMetadataName||u===An?o|=G.SkipSelf:u instanceof xn||"Self"===u.ngMetadataName||u===xn?o|=G.Self:u instanceof jn||"Host"===u.ngMetadataName||u===jn?o|=G.Host:i=u instanceof In||u===In?u.token:u}e.push(Mn(i,o))}else e.push(Mn(r))}return e}function Fn(t){var e;return(null===(e=function(){if(void 0===En&&(En=null,nt.trustedTypes))try{En=nt.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return En}())||void 0===e?void 0:e.createHTML(t))||t}var Vn=function(){function t(e){h(this,t),this.changingThisBreaksApplicationSecurity=e}return p(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),qn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Vn),Bn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Vn),Hn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Vn),Kn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Vn),zn=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Vn);function Gn(t){return t instanceof Vn?t.changingThisBreaksApplicationSecurity:t}function Wn(t,e){var n=Qn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Qn(t){return t instanceof Vn&&t.getTypeName()||null}function Yn(t){return new qn(t)}function Xn(t){return new Bn(t)}function Jn(t){return new Hn(t)}function Zn(t){return new Kn(t)}function $n(t){return new zn(t)}var tr=function(){function t(e){h(this,t),this.inertDocumentHelper=e}return p(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(Fn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),er=function(){function t(e){if(h(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return p(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Fn(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=Fn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),nr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ir(t){return(t=String(t)).match(nr)||t.match(rr)?t:"unsafe:"+t}function or(t){var e,n={},r=a(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function ar(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var u in a)a.hasOwnProperty(u)&&(t[u]=!0)}return t}var ur,sr=or("area,br,col,hr,img,wbr"),cr=or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lr=or("rp,rt"),fr=ar(lr,cr),hr=ar(sr,ar(cr,or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ar(lr,or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fr),dr=or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pr=or("srcset"),vr=ar(dr,pr,or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yr=or("script,style,template"),gr=function(){function t(){h(this,t),this.sanitizedSomething=!1,this.buf=[]}return p(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!hr.hasOwnProperty(e))return this.sanitizedSomething=!0,!yr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,u=a.toLowerCase();if(vr.hasOwnProperty(u)){var s=o.value;dr[u]&&(s=ir(s)),pr[u]&&(n=s,s=(n=String(n)).split(",").map(function(t){return ir(t.trim())}).join(", ")),this.buf.push(" ",a,'="',wr(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();hr.hasOwnProperty(e)&&!sr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(wr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),mr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,br=/([^\#-~ |!])/g;function wr(t){return t.replace(/&/g,"&amp;").replace(mr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(br,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _r(t,e){var n=null;try{ur=ur||function(t){var e=new er(t);return function(){try{return!!(new window.DOMParser).parseFromString(Fn(""),"text/html")}catch(t){return!1}}()?new tr(e):e}(t);var r=e?String(e):"";n=ur.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ur.getInertBodyElement(r)}while(r!==o);return(new gr).sanitizeChildren(kr(n)||n)}finally{if(n)for(var a=kr(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function kr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Or=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Sr(t){var e,n=(e=ie())&&e[12];return n?n.sanitize(Or.URL,t)||"":Wn(t,"URL")?Gn(t):ir(Pt(t))}function Tr(t){return t.ngDebugContext}function Er(t){return t.ngOriginalError}function Ir(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Cr=function(){function t(){h(this,t),this._console=console}return p(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Ir}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Tr(t)?Tr(t):this._findContext(Er(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Er(t);e&&Er(e);)e=Er(e);return e}}]),t}();function xr(t,e){t.__ngContext__=e}var Ar=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(nt);function jr(t){return t instanceof Function?t():t}var Pr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Rr(t,e){return(void 0)(t,e)}function Nr(t){var e=t[3];return Tt(e)?e[3]:e}function Dr(t){return Mr(t[13])}function Lr(t){return Mr(t[4])}function Mr(t){for(;null!==t&&!Tt(t);)t=t[4];return t}function Ur(t,e,n,r,i){if(null!=r){var o,a=!1;Tt(r)?o=r:St(r)&&(a=!0,r=r[0]);var u=zt(r);0===t&&null!==n?null==i?zr(e,n,u):Kr(e,n,u,i||null,!0):1===t&&null!==n?Kr(e,n,u,i||null,!0):2===t?function(t,e,n){var r=Wr(t,e);r&&function(t,e,n,r){Ht(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,a):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){var o=n[7];o!==zt(n)&&Ur(e,t,r,o,i);for(var a=10;a<n.length;a++){var u=n[a];Zr(u[1],u,t,e,r,o)}}(e,t,o,n,i)}}function Fr(t,e,n){return Ht(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Vr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ee(i,-1)),n.splice(r,1)}function qr(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Vr(o,i),e>0&&(t[r-1][4]=i[4]);var a=kn(t,10+e);Zr(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var u=a[19];null!==u&&u.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Br(t,e){if(!(256&e[2])){var n=e[11];Ht(n)&&n.destroyNode&&Zr(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Hr(t[1],t);for(;e;){var n=null;if(St(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)St(e)&&Hr(e[1],e),e=e[3];null===e&&(e=t),St(e)&&Hr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Hr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Me)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],u="function"==typeof a?a(e):zt(e[a]),s=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?u.removeEventListener(n[o],s,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var f=i+1;f<r.length;f++)(0,r[f])();e[7]=null}}(t,e),1===e[1].type&&Ht(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&Tt(e[3])){n!==e[3]&&Vr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Kr(t,e,n,r,i){Ht(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function zr(t,e,n){Ht(t)?t.appendChild(e,n):e.appendChild(n)}function Gr(t,e,n,r,i){null!==r?Kr(t,e,n,r,i):zr(t,e,n)}function Wr(t,e){return Ht(t)?t.parentNode(e):e.parentNode}function Qr(t,e,n,r){var i=function(t,e,n){return function(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===J.None||i===J.Emulated)return null}return Wt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],a=function(t,e,n){return function(t,e,n){return 40&t.type?Wt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(var u=0;u<n.length;u++)Gr(o,i,n[u],a,!1);else Gr(o,i,n,a,!1)}function Yr(t,e){if(null!==e){var n=e.type;if(3&n)return Wt(e,t);if(4&n)return Xr(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return Yr(t,r);var i=t[e.index];return Tt(i)?Xr(-1,i):zt(i)}if(32&n)return Rr(e,t)()||zt(t[e.index]);var o=t[16],a=o[6],u=Nr(o),s=a.projection[e.projection];return null!=s?Yr(u,s):Yr(t,e.next)}return null}function Xr(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return Yr(r,i)}return e[7]}function Jr(t,e,n,r,i,o,a){for(;null!=n;){var u=r[n.index],s=n.type;if(a&&0===e&&(u&&xr(zt(u),r),n.flags|=4),64!=(64&n.flags))if(8&s)Jr(t,e,n.child,r,i,o,!1),Ur(e,t,i,u,o);else if(32&s){for(var c=Rr(n,r),l=void 0;l=c();)Ur(e,t,i,l,o);Ur(e,t,i,u,o)}else 16&s?$r(t,e,r,n,i,o):Ur(e,t,i,u,o);n=a?n.projectionNext:n.next}}function Zr(t,e,n,r,i,o){Jr(n,r,t.firstChild,e,i,o,!1)}function $r(t,e,n,r,i,o){var a=n[16],u=a[6].projection[r.projection];if(Array.isArray(u))for(var s=0;s<u.length;s++)Ur(e,t,i,u[s],o);else Jr(t,e,u,a[3],i,o,!0)}function ti(t,e,n){Ht(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ei(t,e,n){Ht(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ni(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function ri(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==ni((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ii(t){return 4===t.type&&"ng-template"!==t.value}function oi(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function ai(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Fe(t[e]))return e;return t.length}(i),a=!1,u=0;u<e.length;u++){var s=e[u];if("number"!=typeof s){if(!a)if(4&r){if(r=2|1&r,""!==s&&!oi(t,s,n)||""===s&&1===e.length){if(ui(r))return!1;a=!0}}else{var c=8&r?s:e[++u];if(8&r&&null!==t.attrs){if(!ri(t.attrs,c,n)){if(ui(r))return!1;a=!0}continue}var l=si(8&r?"class":s,i,ii(t),n);if(-1===l){if(ui(r))return!1;a=!0;continue}if(""!==c){var f;f=l>o?"":i[l+1].toLowerCase();var h=8&r?f:null;if(h&&-1!==ni(h,c,0)||2&r&&c!==f){if(ui(r))return!1;a=!0}}}}else{if(!a&&!ui(r)&&!ui(s))return!1;if(a&&ui(s))continue;a=!1,r=s|1&r}}return ui(r)||a}function ui(t){return 0==(1&t)}function si(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var u=e[++i];"string"==typeof u;)u=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ci(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(ai(t,e[r],n))return!0;return!1}function li(t,e){return t?":not("+e.trim()+")":e}function fi(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var u=t[++n];i+="["+a+(u.length>0?'="'+u+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||ui(a)||(e+=li(o,i),i=""),r=a,o=o||!ui(r);n++}return""!==i&&(e+=li(o,i)),e}var hi={};function di(t){pi(oe(),ie(),Ee()+t,fe())}function pi(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Pe(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Re(e,o,0,n)}Ie(n)}function vi(t,e){return t<<17|e<<2}function yi(t){return t>>17&32767}function gi(t){return 2|t}function mi(t){return(131068&t)>>2}function bi(t,e){return-131069&t|e<<2}function wi(t){return 1|t}function _i(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];ge(i),a.contentQueries(2,e[o],o)}}}function ki(t,e,n,r,i,o,a,u,s,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,te(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=u||t&&t[11],l[12]=s||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Oi(t,e,n,r,i){var o,a,u=t.data[e];if(null===u)u=function(t,e,n,r,i){var o=se(),a=le(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(a?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(t,e,n,r,i),ne.lFrame.inI18n&&(u.flags|=64);else if(64&u.type){u.type=n,u.value=r,u.attrs=i;var s=(o=ne.lFrame,a=o.currentTNode,o.isParent?a:a.parent);u.injectorIndex=null===s?-1:s.injectorIndex}return ce(u,!0),u}function Si(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ti(t,e,n){we(e);try{var r=t.viewQuery;null!==r&&to(1,r,n);var i=t.template;null!==i&&Ci(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_i(t,e),t.staticViewQueries&&to(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Yi(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Te()}}function Ei(t,e,n,r){var i=e[2];if(256!=(256&i)){we(e);var o=fe();try{te(e),ne.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ci(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var u=t.preOrderCheckHooks;null!==u&&Pe(e,u,null)}else{var s=t.preOrderHooks;null!==s&&Re(e,s,0,null),Ne(e,0)}if(function(t){for(var e=Dr(t);null!==e;e=Lr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&ee(o,1),i[2]|=1024}}(e),function(t){for(var e=Dr(t);null!==e;e=Lr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Zt(r)&&Ei(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&_i(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Pe(e,c)}else{var l=t.contentHooks;null!==l&&Re(e,l,1),Ne(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var u=o[a];if(u<0)Ie(~u);else{var s=u,c=o[++a],l=o[++a];n=c,r=s,i=void 0,(i=ne.lFrame).bindingIndex=i.bindingRootIndex=n,ve(r),l(2,e[s])}}}finally{Ie(-1)}}(t,e);var f=t.components;null!==f&&function(t,e){for(var n=0;n<e.length;n++)Wi(t,e[n])}(e,f);var h=t.viewQuery;if(null!==h&&to(2,h,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Pe(e,d)}else{var p=t.viewHooks;null!==p&&Re(e,p,2),Ne(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ee(e[3],-1))}finally{Te()}}}function Ii(t,e,n,r){var i=e[10],o=!fe(),a=Jt(e);try{o&&!a&&i.begin&&i.begin(),a&&Ti(t,e,r),Ei(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Ci(t,e,n,r,i){var o=Ee();try{Ie(-1),2&r&&e.length>20&&pi(t,e,20,fe()),n(r,i)}finally{Ie(o)}}function xi(t,e,n){re()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ye(n,e),xr(r,e);for(var a=n.initialInputs,u=i;u<o;u++){var s=t.data[u],c=xt(s);c&&Hi(e,n,s);var l=sn(e,t,u,n);xr(l,e),null!==a&&Ki(0,u-i,l,s,0,a),c&&(Yt(n.index,e)[8]=l)}}(t,e,n,Wt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=ne.lFrame.currentDirectiveIndex;try{Ie(o);for(var u=r;u<i;u++){var s=t.data[u],c=e[u];ve(u),null===s.hostBindings&&0===s.hostVars&&null===s.hostAttrs||Ui(s,c)}}finally{Ie(-1),ve(a)}}(t,e,n))}function Ai(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],u=-1===a?n(e,t):t[a];t[i++]=u}}function ji(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Pi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Pi(t,e,n,r,i,o,a,u,s,c){var l=20+r,f=l+i,h=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:hi);return n}(l,f),d="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:u,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:s,consts:d,incompleteFirstPass:!1}}function Ri(t,e,n,r){var i=no(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ro(t).push(r,i.length-1))}function Ni(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Di(t,e,n,r,i,o,a,u){var s,c,l=Wt(e,n),f=e.inputs;!u&&null!=f&&(s=f[r])?(oo(t,n,s,r,i),It(e)&&function(t,e){var n=Yt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.value||"",r):i,Ht(o)?o.setProperty(l,r,i):Ve(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Li(t,e,n,r){var i=!1;if(re()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];ci(n,a.selectors,!1)&&(i||(i=[]),$e(Ye(n,e),t,a.type),xt(a)?(Fi(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,qi(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var s=o[u];s.providersResolver&&s.providersResolver(s)}for(var c=!1,l=!1,f=Si(t,e,o.length,null),h=0;h<o.length;h++){var d=o[h];n.mergedAttrs=qe(n.mergedAttrs,d.hostAttrs),Bi(t,n,e,f,d),Vi(f,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),f++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,u=null,s=e.directiveStart;s<n;s++){var c=r[s],l=c.inputs,f=null===i||ii(e)?null:zi(l,i);o.push(f),a=Ni(l,s,a),u=Ni(c.outputs,s,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new jt("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=qe(n.mergedAttrs,n.attrs),i}function Mi(t,e,n,r,i,o){var a=o.hostBindings;if(a){var u=t.hostBindingOpCodes;null===u&&(u=t.hostBindingOpCodes=[]);var s=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(u)!=s&&u.push(s),u.push(r,i,a)}}function Ui(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Fi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Vi(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xt(e)&&(n[""]=t)}}function qi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Bi(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=At(i.type)),a=new Me(o,xt(i),null);t.blueprint[r]=a,n[r]=a,Mi(t,e,0,r,Si(t,n,i.hostVars,hi),i)}function Hi(t,e,n){var r=Wt(e,t),i=ji(n),o=t[10],a=Xi(t,ki(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function Ki(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var u=r.setInput,s=0;s<a.length;){var c=a[s++],l=a[s++],f=a[s++];null!==u?r.setInput(n,f,c,l):n[l]=f}}function zi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Gi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Wi(t,e){var n=Yt(e,t);if(Zt(n)){var r=n[1];80&n[2]?Ei(r,n,r.template,n[8]):n[5]>0&&Qi(n)}}function Qi(t){for(var e=Dr(t);null!==e;e=Lr(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Ei(i,r,i.template,r[8])}else r[5]>0&&Qi(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var u=Yt(o[a],t);Zt(u)&&u[5]>0&&Qi(u)}}function Yi(t,e){var n=Yt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ti(r,n,n[8])}function Xi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ji(t){for(;t;){t[2]|=64;var e=Nr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Zi(t,e,n){var r=e[10];r.begin&&r.begin();try{Ei(t,e,t.template,n)}catch(i){throw io(e,i),i}finally{r.end&&r.end()}}function $i(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Xt(n),i=r[1];Ii(i,r,i.template,n)}}(t[8])}function to(t,e,n){ge(0),e(t,n)}var eo=Promise.resolve(null);function no(t){return t[7]||(t[7]=[])}function ro(t){return t.cleanup||(t.cleanup=[])}function io(t,e){var n=t[9],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function oo(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],u=n[o++],s=e[a],c=t.data[a];null!==c.setInput?c.setInput(s,i,r,u):s[u]=i}}function ao(t,e,n){var r=Gt(e,t);!function(t,e,n){Ht(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function uo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var u=e[a];"number"==typeof u?o=u:1==o?i=j(i,u):2==o&&(r=j(r,u+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var so,co=new yn("INJECTOR",-1),lo=function(){function t(){h(this,t)}return p(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn;if(e===Pn){var n=new Error("NullInjectorError: No provider for ".concat(A(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),fo=new yn("Set Injector scope."),ho={},po={},vo=[];function yo(){return void 0===so&&(so=new lo),so}function go(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new mo(t,n,e||yo(),r)}var mo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&wn(n,function(t){return i.processProvider(t,e,n)}),wn([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(co,_o(void 0,this));var u=this.records.get(fo);this.scope=null!=u?u.value:null,this.source=o||("object"==typeof e?null:A(e))}return p(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G.Default;this.assertNotDestroyed();var r,i=Dn(this);try{if(!(n&G.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof yn)&&U(t);o=a&&this.injectableDefInScope(a)?_o(bo(t),ho):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&G.Self?yo():this.parent).get(t,e=n&G.Optional&&e===Pn?null:e)}catch(u){if("NullInjectorError"===u.name){if((u.ngTempTokenPath=u.ngTempTokenPath||[]).unshift(A(t)),i)throw u;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=A(e);if(Array.isArray(e))i=e.map(A).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var u=e[a];o.push(a+":"+("string"==typeof u?JSON.stringify(u):A(u)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(Rn,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(u,t,0,this.source)}throw u}finally{Dn(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(A(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=N(t)))return!1;var i=V(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,u=-1!==n.indexOf(a);if(void 0!==o&&(i=V(o)),null==i)return!1;if(null!=i.imports&&!u){var s;n.push(a);try{wn(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===s&&(s=[]),s.push(t))})}finally{}if(void 0!==s)for(var c=function(t){var e=s[t],n=e.ngModule,i=e.providers;wn(i,function(t){return r.processProvider(t,n,i||vo)})},l=0;l<s.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,_o(i.factory,ho));var f=i.providers;if(null!=f&&!u){var h=t;wn(f,function(t){return r.processProvider(t,h,f)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=Oo(t=N(t))?t:N(t&&t.provide),i=function(t,e,n){return ko(t)?_o(void 0,t.useValue):_o(wo(t),ho)}(t);if(Oo(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=_o(void 0,ho,!0)).factory=function(){return Un(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===ho&&(e.value=po,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function bo(t){var e=U(t),n=null!==e?e.factory:At(t);if(null!==n)return n;var r=V(t);if(null!==r)return r.factory;if(t instanceof yn)throw new Error("Token ".concat(A(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(A(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[B]||t[K]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function wo(t,e,n){var r,o;if(Oo(t)){var a=N(t);return At(a)||bo(a)}if(ko(t))r=function(){return N(t.useValue)};else if((o=t)&&o.useFactory)r=function(){return t.useFactory.apply(t,i(Un(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return Mn(N(t.useExisting))};else{var u=N(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return At(u)||bo(u);r=function(){return l(u,i(Un(t.deps)))}}return r}function _o(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function ko(t){return null!==t&&"object"==typeof t&&Nn in t}function Oo(t){return"function"==typeof t}var So=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=go(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},To=function(){var t=function(){function t(){h(this,t)}return p(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?So(t,e,""):So(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Pn,t.NULL=new lo,t.\u0275prov=L({token:t,providedIn:"any",factory:function(){return Mn(co)}}),t.__NG_ELEMENT_ID__=-1,t}();function Eo(t,e){je(Xt(t)[1],ue())}function Io(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(xt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Co(t.inputs),o.declaredInputs=Co(t.declaredInputs),o.outputs=Co(t.outputs);var a=i.hostBindings;a&&jo(t,a);var u=i.viewQuery,s=i.contentQueries;if(u&&xo(t,u),s&&Ao(t,s),x(t.inputs,i.inputs),x(t.declaredInputs,i.declaredInputs),x(t.outputs,i.outputs),xt(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var f=0;f<l.length;f++){var h=l[f];h&&h.ngInherit&&h(t),h===Io&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qe(i.hostAttrs,n=qe(n,i.hostAttrs))}}(r)}function Co(t){return t===rt?{}:t===it?[]:t}function xo(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Ao(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function jo(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Po=null;function Ro(){if(!Po){var t=nt.Symbol;if(t&&t.iterator)Po=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Po=r)}}return Po}function No(t){return!!Do(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ro()in t)}function Do(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Lo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Mo(t,e,n,r){var i=ie();return Lo(i,de(),e)&&(oe(),function(t,e,n,r,i,o){var a=Wt(t,e);!function(t,e,n,r,i,o,a){if(null==o)Ht(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var u=null==a?Pt(o):a(o,r||"",i);Ht(t)?t.setAttribute(e,i,u,n):n?e.setAttributeNS(n,i,u):e.setAttribute(i,u)}}(e[11],a,o,t.value,n,r,i)}(Ce(),i,t,e,n,r)),Mo}function Uo(t,e,n,r,i,o,a,u){var s=ie(),c=oe(),l=t+20,f=c.firstCreatePass?function(t,e,n,r,i,o,a,u,s){var c=e.consts,l=Oi(e,t,4,a||null,$t(c,u));Li(e,n,l,$t(c,s)),je(e,l);var f=l.tViews=Pi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}(l,c,s,e,n,r,i,o,a):c.data[l];ce(f,!1);var h=s[11].createComment("");Qr(c,s,h,f),xr(h,s),Xi(s,s[l]=Gi(h,s,h,f)),Ct(f)&&xi(c,s,f),null!=a&&Ai(s,f,u)}function Fo(t){return function(t,e){return t[e]}(ne.lFrame.contextLView,20+t)}function Vo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.Default,n=ie();return null===n?Mn(t,e):nn(ue(),n,N(t),e)}function qo(t,e,n){var r=ie();return Lo(r,de(),e)&&Di(oe(),Ce(),r,t,e,r[11],n,!1),qo}function Bo(t,e,n,r,i){var o=i?"class":"style";oo(t,n,e.inputs[o],o,r)}function Ho(t,e,n,r){var i=ie(),o=oe(),a=20+t,u=i[11],s=i[a]=Fr(u,e,ne.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var u=e.consts,s=Oi(e,t,2,i,$t(u,o));return Li(e,n,s,$t(u,a)),null!==s.attrs&&uo(s,s.attrs,!1),null!==s.mergedAttrs&&uo(s,s.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,s),s}(a,o,i,0,e,n,r):o.data[a];ce(c,!0);var l=c.mergedAttrs;null!==l&&Ue(u,s,l);var f=c.classes;null!==f&&ei(u,s,f);var h=c.styles;null!==h&&ti(u,s,h),64!=(64&c.flags)&&Qr(o,i,s,c),0===ne.lFrame.elementDepthCount&&xr(s,i),ne.lFrame.elementDepthCount++,Ct(c)&&(xi(o,i,c),function(t,e,n){if(Et(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&Ai(i,c)}function Ko(){var t=ue();le()?ne.lFrame.isParent=!1:ce(t=t.parent,!1);var e=t;ne.lFrame.elementDepthCount--;var n=oe();n.firstCreatePass&&(je(n,t),Et(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Bo(n,e,ie(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Bo(n,e,ie(),e.stylesWithoutHost,!1)}function zo(t,e,n,r){Ho(t,e,n,r),Ko()}function Go(){return ie()}function Wo(t){return!!t&&"function"==typeof t.then}function Qo(t){return!!t&&"function"==typeof t.subscribe}function Yo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ie(),o=oe(),a=ue();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7?arguments[7]:void 0,s=Ct(r),c=t.firstCreatePass&&ro(t),l=no(e),f=!0;if(3&r.type){var h=Wt(r,e),d=u?u(h):rt,p=d.target||h,v=l.length,y=u?function(t){return u(zt(t[r.index])).target}:r.index;if(Ht(n)){var g=null;if(!u&&s&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var u=e[7],s=i[o+2];return u.length>s?u[s]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,f=!1;else{o=Jo(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=Jo(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}else o=Jo(r,e,o,!1);var b,w=r.outputs;if(f&&null!==w&&(b=w[i])){var _=b.length;if(_)for(var k=0;k<_;k+=2){var O=e[b[k]][b[k+1]].subscribe(o),S=l.length;l.push(o,O),c&&c.push(i,r.index,S,-(S+1))}}}(o,i,i[11],a,t,e,n,r),Yo}function Xo(t,e,n){try{return!1!==e(n)}catch(r){return io(t,r),!1}}function Jo(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?Yt(t.index,e):e;0==(32&e[2])&&Ji(a);for(var u=Xo(e,n,o),s=i.__ngNextListenerFn__;s;)u=Xo(e,s,o)&&u,s=s.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Zo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(ne.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ne.lFrame.contextLView))[8]}(t)}var $o=[];function ta(t,e,n,r,i){for(var o=t[n+1],a=null===e,u=r?yi(o):mi(o),s=!1;0!==u&&(!1===s||a);){var c=t[u+1];ea(t[u],e)&&(s=!0,t[u+1]=r?wi(c):gi(c)),u=r?yi(c):mi(c)}s&&(t[n+1]=r?gi(o):wi(o))}function ea(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Sn(t,e)>=0}function na(t,e){return function(t,e,n,r){var i=ie(),o=oe(),a=pe(2);o.firstUpdatePass&&function(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Ee()],a=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=ne.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=e.residualClasses;if(null===i)0===e.classBindings&&(n=ia(n=ra(null,t,e,n,!0),e.attrs,!0),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=ra(i,t,e,n,!0),null===o){var u=function(t,e,n){var r=e.classBindings;if(0!==mi(r))return t[yi(r)]}(t,e);void 0!==u&&Array.isArray(u)&&function(t,e,n,r){t[yi(e.classBindings)]=r}(t,e,0,u=ia(u=ra(null,t,e,u[1],!0),e.attrs,!0))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=ia(r,t[o].hostAttrs,!0);return ia(r,e.attrs,!0)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e),function(t,e,n,r,i,o){var a=e.classBindings,u=yi(a),s=mi(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var f=n;(null===(c=f[1])||Sn(f,c)>0)&&(l=!0)}else c=n;if(i)if(0!==s){var h=yi(t[u+1]);t[r+1]=vi(h,u),0!==h&&(t[h+1]=bi(t[h+1],r)),t[u+1]=131071&t[u+1]|r<<17}else t[r+1]=vi(u,0),0!==u&&(t[u+1]=bi(t[u+1],r)),u=r;else t[r+1]=vi(s,0),0===u?u=r:t[s+1]=bi(t[s+1],r),s=r;l&&(t[r+1]=gi(t[r+1])),ta(t,c,r,!0),ta(t,c,r,!1),function(t,e,n,r,i){var o=t.residualClasses;null!=o&&"string"==typeof e&&Sn(o,e)>=0&&(n[r+1]=wi(n[r+1]))}(e,c,t,r),a=vi(u,s),e.classBindings=a}(i,o,e,n,a)}}(o,t,a),e!==hi&&Lo(i,a,e)&&function(t,e,n,r,i,o,a,u){if(3&e.type){var s=t.data,c=s[u+1];aa(1==(1&c)?oa(s,e,n,i,mi(c),!0):void 0)||(aa(o)||2==(2&c)&&(o=oa(s,null,n,i,u,!0)),function(t,e,n,r,i){var o=Ht(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Gt(Ee(),n),i,o))}}(o,o.data[Ee()],i,i[11],t,i[a+1]=function(t,e){return null==t||"object"==typeof t&&(t=A(Gn(t))),t}(e),0,a)}(t,e),na}function ra(t,e,n,r,i){var o=null,a=n.directiveEnd,u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<a&&(r=ia(r,(o=e[u]).hostAttrs,i),o!==t);)u++;return null!==t&&(n.directiveStylingLast=u),r}function ia(t,e,n){var r,i,o,a,u=n?1:2,s=-1;if(null!==e)for(var c=0;c<e.length;c++){var l=e[c];"number"==typeof l?s=l:s===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),r=t,i=l,o=!!n||e[++c],a=void 0,(a=Sn(r,i))>=0?r[1|a]=o:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(r,a=~a,i,o))}return void 0===t?null:t}function oa(t,e,n,r,i,o){for(var a,u=null===e;i>0;){var s=t[i],c=Array.isArray(s),l=c?s[1]:s,f=null===l,h=n[i+1];h===hi&&(h=f?$o:void 0);var d=f?On(h,r):l===r?h:void 0;if(c&&!aa(d)&&(d=On(s,r)),aa(d)&&(a=d,u))return a;var p=t[i+1];i=u?yi(p):mi(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=On(v,r))}return a}function aa(t){return void 0!==t}function ua(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=ie(),r=oe(),i=t+20,o=r.firstCreatePass?Oi(r,i,1,e,null):r.data[i],a=n[i]=function(t,e){return Ht(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Qr(r,n,a,o),ce(o,!1)}function sa(t){return ca("",t,""),sa}function ca(t,e,n){var r=ie(),i=function(t,e,n,r){return Lo(t,de(),n)?e+Pt(n)+r:hi}(r,t,e,n);return i!==hi&&ao(r,Ee(),i),ca}function la(t,e,n,r,i){var o=ie(),a=function(t,e,n,r,i,o){var a=function(t,e,n,r){var i=Lo(t,e,n);return Lo(t,e+1,r)||i}(t,ne.lFrame.bindingIndex,n,i);return pe(2),a?e+Pt(n)+r+Pt(i)+o:hi}(o,t,e,n,r,i);return a!==hi&&ao(o,Ee(),a),la}function fa(t,e,n){var r=ie();return Lo(r,de(),e)&&Di(oe(),Ce(),r,t,e,r[11],n,!0),fa}var ha=void 0,da=["en",[["a","p"],["AM","PM"],ha],[["AM","PM"],ha,ha],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ha,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ha,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ha,"{1} 'at' {0}",ha],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],pa={};function va(t,e,n){"string"!=typeof e&&(n=e,e=t[wa.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),pa[e]=t,n&&(pa[e][wa.ExtraData]=n)}function ya(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ba(e);if(n)return n;var r=e.split("-")[0];if(n=ba(r))return n;if("en"===r)return da;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function ga(t){return ya(t)[wa.CurrencyCode]||null}function ma(t){return ya(t)[wa.PluralCase]}function ba(t){return t in pa||(pa[t]=nt.ng&&nt.ng.common&&nt.ng.common.locales&&nt.ng.common.locales[t]),pa[t]}var wa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function _a(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"," [Expected=> null != ").concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}function ka(t,e,n,r,i){if(t=N(t),Array.isArray(t))for(var o=0;o<t.length;o++)ka(t[o],e,n,r,i);else{var a=oe(),u=ie(),s=Oo(t)?t:N(t.provide),c=wo(t),l=ue(),f=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(Oo(t)||!t.multi){var p=new Me(c,i,Vo),v=Ta(s,e,i?f:f+d,h);-1===v?($e(Ye(l,u),a,s),Oa(a,t,e.length),e.push(s),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),u.push(p)):(n[v]=p,u[v]=p)}else{var y=Ta(s,e,f+d,h),g=Ta(s,e,f,f+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){$e(Ye(l,u),a,s);var w=function(t,e,n,r,i){var o=new Me(t,n,Vo);return o.multi=[],o.index=e,o.componentProviders=0,Sa(o,i,r&&!n),o}(i?Ia:Ea,n.length,i,r,c);!i&&b&&(n[g].providerFactory=w),Oa(a,t,e.length,0),e.push(s),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(w),u.push(w)}else Oa(a,t,y>-1?y:g,Sa(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function Oa(t,e,n,r){var i=Oo(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var u=a.indexOf(n);-1===u?a.push(n,[r,o]):a[u+1].push(r,o)}else a.push(n,o)}}}function Sa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ta(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ea(t,e,n,r){return Ca(this.multi,[])}function Ia(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,u=sn(n,n[1],this.providerFactory.index,r);Ca(o,i=u.slice(0,a));for(var s=a;s<u.length;s++)i.push(u[s])}else Ca(o,i=[]);return i}function Ca(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function xa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=oe();if(r.firstCreatePass){var i=xt(t);ka(n,r.data,r.blueprint,i,!0),ka(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var Aa=function t(){h(this,t)},ja=function(){function t(){h(this,t)}return p(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(A(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Pa=function(){var t=function t(){h(this,t)};return t.NULL=new ja,t}();function Ra(){}function Na(t,e){return new La(Wt(t,e))}var Da=function(){return Na(ue(),ie())},La=function(){var t=function t(e){h(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=Da,t}(),Ma=function t(){h(this,t)},Ua=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=function(){return Fa()},t}(),Fa=function(){var t=ie(),e=Yt(ue().index,t);return function(t){return t[11]}(St(e)?e:t)},Va=function(){var t=function t(){h(this,t)};return t.\u0275prov=L({token:t,providedIn:"root",factory:function(){return null}}),t}(),qa=function t(e){h(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Ba=new qa("11.0.9"),Ha=function(){function t(){h(this,t)}return p(t,[{key:"supports",value:function(t){return No(t)}},{key:"create",value:function(t){return new za(t)}}]),t}(),Ka=function(t,e){return e},za=function(){function t(e){h(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ka}return p(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Ya(n,r,i)?e:n,a=Ya(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var s=a-r,c=u-r;if(s!=c){for(var l=0;l<s;l++){var f=l<i.length?i[l]:i[l]=0,h=f+l;c<=h&&h<s&&(i[l]=f+1)}i[o.previousIndex]=c-s}}a!==u&&t(o,a,u)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!No(t))throw new Error("Error trying to diff '".concat(A(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var u=0;u<this.length;u++)r=t[u],i=this._trackByFn(u,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,u)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,u),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Ro()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ga(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Qa),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Ga=function t(e,n){h(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Wa=function(){function t(){h(this,t),this._head=null,this._tail=null}return p(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Qa=function(){function t(){h(this,t),this.map=new Map}return p(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Wa,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Ya(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Xa=function(){function t(){h(this,t)}return p(t,[{key:"supports",value:function(t){return t instanceof Map||Do(t)}},{key:"create",value:function(){return new Ja}}]),t}(),Ja=function(){function t(){h(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return p(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Do(t)))throw new Error("Error trying to diff '".concat(A(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Za(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),Za=function t(e){h(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},$a=function(){var t=function(){function t(e){h(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new An,new Cn]]}}}]),t}();return t.\u0275prov=L({token:t,providedIn:"root",factory:function(){return new t([new Ha])}}),t}(),tu=function(){var t=function(){function t(e){h(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new An,new Cn]]}}}]),t}();return t.\u0275prov=L({token:t,providedIn:"root",factory:function(){return new t([new Xa])}}),t}();function eu(t,e,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=e[n.index];if(null!==a&&r.push(zt(a)),Tt(a))for(var u=10;u<a.length;u++){var s=a[u],c=s[1].firstChild;null!==c&&eu(s[1],s,c,r)}var l=n.type;if(8&l)eu(t,e,n.child,r);else if(32&l)for(var f=Rr(n,e),h=void 0;h=f();)r.push(h);else if(16&l){var d=e[16],p=d[6].projection[n.projection];if(Array.isArray(p))r.push.apply(r,i(p));else{var v=Nr(d);eu(v[1],v,p,r,!0)}}n=o?n.projectionNext:n.next}return r}var nu=function(){function t(e,n){h(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return p(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return eu(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(Tt(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(qr(t,n),kn(e,n))}this._attachedToViewContainer=!1}Br(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){Ri(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){Ji(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Zi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){he(!0);try{Zi(t,e,n)}finally{he(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Zr(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),ru=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t))._view=t,r}return p(n,[{key:"detectChanges",value:function(){$i(this._view)}},{key:"checkNoChanges",value:function(){!function(t){he(!0);try{$i(t)}finally{he(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(nu),iu=au,ou=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=iu,t.__ChangeDetectorRef__=!0,t}();function au(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&It(t)){var r=Yt(t.index,e);return new nu(r,r)}return 47&t.type?new nu(e[16],e):null}(ue(),ie(),t)}var uu=[new Xa],su=new $a([new Ha]),cu=new tu(uu),lu=function(){return du(ue(),ie())},fu=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=lu,t}(),hu=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return p(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=ki(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ti(e,n,t),new nu(n)}}]),n}(fu);function du(t,e){return 4&t.type?new hu(e,t,Na(t,e)):null}var pu=function t(){h(this,t)},vu=function t(){h(this,t)},yu=function(){return _u(ue(),ie())},gu=function(){var t=function t(){h(this,t)};return t.__NG_ELEMENT_ID__=yu,t}(),mu=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return p(n,[{key:"element",get:function(){return Na(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new fn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Ze(this._hostTNode,this._hostLView);if(He(t)){var e=ze(t,this._hostLView),n=Ke(t);return new fn(e[1].data[n+8],e)}return new fn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=bu(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(pu,null);a&&(i=a)}var u=t.create(o,r,void 0,i);return this.insert(u.hostView,e),u}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(Tt(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=r[3],u=new n(a,a[6],a[3]);u.detach(u.indexOf(t))}}var s=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],_n(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var u=e[19];null!==u&&u.insertView(t),e[2]|=128}(i,r,c,s);var l=Xr(s,c),f=r[11],h=Wr(f,c[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Zr(t,r,n,1,i,o)}(i,c[6],f,r,h,l),t.attachToViewContainerRef(),_n(wu(c),s,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=bu(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=qr(this._lContainer,e);n&&(kn(wu(this._lContainer),e),Br(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=qr(this._lContainer,e);return n&&null!=kn(wu(this._lContainer),e)?new nu(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(gu);function bu(t){return t[8]}function wu(t){return t[8]||(t[8]=[])}function _u(t,e){var n,r=e[t.index];if(Tt(r))n=r;else{var i;if(8&t.type)i=zt(r);else{var o=e[11];i=o.createComment("");var a=Wt(t,e);Kr(o,Wr(o,a),i,function(t,e){return Ht(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=Gi(r,e,i,t),Xi(e,n)}return new mu(n,t,e)}var ku={},Ou=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).ngModule=t,r}return p(n,[{key:"resolveComponentFactory",value:function(t){var e=kt(t);return new Eu(e,this.ngModule)}}]),n}(Pa);function Su(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Tu=new yn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ar}}),Eu=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(fi).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return p(n,[{key:"inputs",get:function(){return Su(this.componentDef.inputs)}},{key:"outputs",get:function(){return Su(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,ku,i);return o!==ku||r===ku?o:e.get(n,r,i)}}}(t,r.injector):t,u=a.get(Ma,Kt),s=a.get(Va,null),c=u.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",f=n?function(t,e,n){if(Ht(t))return t.selectRootElement(e,n===J.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Fr(u.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,d={components:[],scheduler:Ar,clean:eo,playerHandler:null,flags:0},p=Pi(0,null,null,1,0,null,null,null,null,null),v=ki(null,p,d,h,null,null,u,c,s,a);we(v);try{var y=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var u=Oi(a,20,2,"#host",null),s=u.mergedAttrs=e.hostAttrs;null!==s&&(uo(u,s,!0),null!==t&&(Ue(i,t,s),null!==u.classes&&ei(i,t,u.classes),null!==u.styles&&ti(i,t,u.styles)));var c=r.createRenderer(t,e),l=ki(n,ji(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return a.firstCreatePass&&($e(Ye(u,n),a,e.type),Fi(a,u),qi(u,n.length,1)),Xi(n,l),n[20]=l}(f,this.componentDef,v,u,c);if(f)if(n)Ue(c,f,["ng-version",Ba.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ui(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=g.attrs,b=g.classes;m&&Ue(c,f,m),b&&b.length>0&&ei(c,f,b.join(" "))}if(o=Qt(p,20),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var k=e[_];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=ue();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Bi(t,r,e,Si(t,e,1,null),n));var i=sn(e,t,r.directiveStart,r);xr(i,e);var o=Wt(r,e);return o&&xr(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var u=ue();e.contentQueries(1,a,u.directiveStart)}var s=ue();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ie(s.index),Mi(n[1],s,0,s.directiveStart,s.directiveEnd,e),Ui(e,a)),a}(y,this.componentDef,v,d,[Eo]),Ti(p,v,null)}finally{Te()}return new Iu(this.componentType,i,Na(o,v),v,o)}}]),n}(Aa),Iu=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a){var u;return h(this,n),(u=e.call(this)).location=i,u._rootLView=o,u._tNode=a,u.instance=r,u.hostView=u.changeDetectorRef=new ru(o),u.componentType=t,u}return p(n,[{key:"injector",get:function(){return new fn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){h(this,t)}}()),Cu=new Map,xu=function(t){v(n,t);var e=g(n);function n(t,r){var i;h(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=b(i),i.destroyCbs=[],i.componentFactoryResolver=new Ou(b(i));var o=Ot(t),a=t[ct]||null;return a&&_a(a),i._bootstrapComponents=jr(o.bootstrap),i._r3Injector=go(t,r,[{provide:pu,useValue:b(i)},{provide:Pa,useValue:i.componentFactoryResolver}],A(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return p(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:To.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G.Default;return t===To||t===pu||t===co?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(pu),Au=function(t){v(n,t);var e=g(n);function n(t){var r,i,o;return h(this,n),(r=e.call(this)).moduleType=t,null!==Ot(t)&&(i=t,o=new Set,function t(e){var n=Ot(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(A(e)," vs ").concat(A(e.name)))}(r,Cu.get(r),e),Cu.set(r,e));var i,u=a(jr(n.imports));try{for(u.s();!(i=u.n()).done;){var s=i.value;o.has(s)||(o.add(s),t(s))}}catch(c){u.e(c)}finally{u.f()}}(i)),r}return p(n,[{key:"create",value:function(t){return new xu(this.moduleType,t)}}]),n}(vu);function ju(t,e,n){var r,i,o=(r=ne.lFrame,-1===(i=r.bindingRootIndex)&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i+t),a=ie();return a[o]===hi?function(t,e,n){return t[e]=n}(a,o,n?e.call(n):e()):function(t,e){return t[e]}(a,o)}var Pu=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return h(this,n),(t=e.call(this)).__isAsync=r,t}return p(n,[{key:"emit",value:function(t){f(_(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},a=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var s=f(_(n.prototype),"subscribe",this).call(this,i,o,a);return t instanceof u.a&&t.add(s),s}}]),n}(o.a);function Ru(){return this._results[Ro()]()}var Nu=function(){function t(){h(this,t),this.dirty=!0,this._results=[],this.changes=new Pu,this.length=0;var e=Ro(),n=t.prototype;n[e]||(n[e]=Ru)}return p(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=bn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Du=function(){function t(e){h(this,t),this.queryList=e,this.matches=null}return p(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Lu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,t),this.queries=e}return p(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Xu(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Mu=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},Uu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];h(this,t),this.queries=e}return p(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Fu=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;h(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return p(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,Vu(e,i)),this.matchTNodeWithReadOption(t,e,un(e,t,i,!1,!1))}else n===fu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,un(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===La||r===gu||r===fu&&4&e.type)this.addMatch(e.index,-2);else{var i=un(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Vu(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function qu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Na(t,e):4&t.type?du(t,e):null}(e,t):-2===n?function(t,e,n){return n===La?Na(e,t):n===fu?du(e,t):n===gu?_u(e,t):void 0}(t,e,r):sn(t,t[1],n,e)}function Bu(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,u=[],s=0;s<a.length;s+=2){var c=a[s];u.push(c<0?null:qu(e,o[c],a[s+1],n.metadata.read))}i.matches=u}return i.matches}function Hu(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=Bu(t,e,i,n),u=0;u<o.length;u+=2){var s=o[u];if(s>0)r.push(a[u/2]);else{for(var c=o[u+1],l=e[-s],f=10;f<l.length;f++){var h=l[f];h[17]===h[3]&&Hu(h[1],h,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];Hu(v[1],v,c,r)}}}return r}function Ku(t){var e=ie(),n=oe(),r=ye();ge(r+1);var i=Xu(n,r);if(t.dirty&&Jt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?Hu(n,e,r,[]):Bu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function zu(t,e,n){!function(t,e,n,r,i,o){t.firstCreatePass&&Yu(t,new Mu(n,r,!1,i),-1),Qu(t,e)}(oe(),ie(),t,e,n)}function Gu(t,e,n,r){!function(t,e,n,r,i,o,a,u){t.firstCreatePass&&(Yu(t,new Mu(n,r,!1,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,u)),Qu(t,e)}(oe(),ie(),e,n,r,0,ue(),t)}function Wu(){return t=ie(),e=ye(),t[19].queries[e].queryList;var t,e}function Qu(t,e){var n=new Nu;Ri(t,e,n,n.destroy),null===e[19]&&(e[19]=new Lu),e[19].queries.push(new Du(n))}function Yu(t,e,n){null===t.queries&&(t.queries=new Uu),t.queries.track(new Fu(e,n))}function Xu(t,e){return t.queries.getByIndex(e)}function Ju(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G.Default,e=au(!0);if(null!=e||t&G.Optional)return e;Nt("ChangeDetectorRef")}var Zu=new yn("Application Initializer"),$u=function(){var t=function(){function t(e){var n=this;h(this,t),this.appInits=e,this.resolve=Ra,this.reject=Ra,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return p(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Wo(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Mn(Zu,8))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t}(),ts=new yn("AppId"),es={provide:ts,useFactory:function(){return"".concat(ns()).concat(ns()).concat(ns())},deps:[]};function ns(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var rs=new yn("Platform Initializer"),is=new yn("Platform ID"),os=new yn("appBootstrapListener"),as=function(){var t=function(){function t(){h(this,t)}return p(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t}(),us=new yn("LocaleId"),ss=new yn("DefaultCurrencyCode"),cs=function t(e,n){h(this,t),this.ngModuleFactory=e,this.componentFactories=n},ls=function(t){return new Au(t)},fs=ls,hs=function(t){return Promise.resolve(ls(t))},ds=function(t){var e=ls(t),n=jr(Ot(t).declarations).reduce(function(t,e){var n=kt(e);return n&&t.push(new Eu(n)),t},[]);return new cs(e,n)},ps=ds,vs=function(t){return Promise.resolve(ds(t))},ys=function(){var t=function(){function t(){h(this,t),this.compileModuleSync=fs,this.compileModuleAsync=hs,this.compileModuleAndAllComponentsSync=ps,this.compileModuleAndAllComponentsAsync=vs}return p(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t}(),gs=Promise.resolve(0);function ms(t){"undefined"==typeof Zone?gs.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var bs=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,u=void 0!==a&&a;if(h(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pu(!1),this.onMicrotaskEmpty=new Pu(!1),this.onStable=new Pu(!1),this.onError=new Pu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=u,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=nt.requestAnimationFrame,e=nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(nt,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,ks(t),_s(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),ks(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,a,u){try{return Os(n),t.invokeTask(i,o,a,u)}finally{r&&"eventTask"===o.type&&r(),Ss(n)}},onInvoke:function(t,e,r,i,o,a,u){try{return Os(n),t.invoke(r,i,o,a,u)}finally{Ss(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,ks(n),_s(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return p(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ws,Ra,Ra);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),ws={};function _s(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function ks(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Os(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ss(t){t._nesting--,_s(t)}var Ts=function(){function t(){h(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pu,this.onMicrotaskEmpty=new Pu,this.onStable=new Pu,this.onError=new Pu}return p(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Es=function(){var t=function(){function t(e){var n=this;h(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return p(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){bs.assertNotInAngularZone(),ms(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())ms(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Mn(bs))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t}(),Is=function(){var t=function(){function t(){h(this,t),this._applications=new Map,As.addToWindow(this)}return p(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return As.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t}();function Cs(t){As=t}var xs,As=new(function(){function t(){h(this,t)}return p(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),js=!0,Ps=!1;function Rs(){return Ps=!0,js}function Ns(){if(Ps)throw new Error("Cannot enable prod mode after platform setup.");js=!1}var Ds=new yn("AllowMultipleToken"),Ls=function t(e,n){h(this,t),this.name=e,this.token=n};function Ms(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new yn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Us();if(!o||o.injector.get(Ds,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:fo,useValue:"platform"});!function(t){if(xs&&!xs.destroyed&&!xs.injector.get(Ds,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");xs=t.get(Fs);var e=t.get(rs,null);e&&e.forEach(function(t){return t()})}(To.create({providers:a,name:r}))}return function(t){var e=Us();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Us(){return xs&&!xs.destroyed?xs:null}var Fs=function(){var t=function(){function t(e){h(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return p(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new Ts:("zone.js"===n?void 0:n)||new bs({enableLongStackTrace:Rs(),shouldCoalesceEventChangeDetection:r})),a=[{provide:bs,useValue:o}];return o.run(function(){var e=To.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Cr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){Hs(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get($u)).runInitializers(),a.donePromise.then(function(){return _a(n.injector.get(us,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return Wo(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(u){throw e.runOutsideAngular(function(){return t.handleError(u)}),u}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Vs({},n);return function(t,e,n){var r=new Au(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Bs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(A(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Mn(To))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t}();function Vs(t,e){return Array.isArray(e)?e.reduce(Vs,t):Object.assign(Object.assign({},t),e)}var qs,Bs=((qs=function(){function t(e,n,r,i,o,a){var u=this;h(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){u._zone.run(function(){u.tick()})}});var c=new s.a(function(t){u._stable=u._zone.isStable&&!u._zone.hasPendingMacrotasks&&!u._zone.hasPendingMicrotasks,u._zone.runOutsideAngular(function(){t.next(u._stable),t.complete()})}),l=new s.a(function(t){var e;u._zone.runOutsideAngular(function(){e=u._zone.onStable.subscribe(function(){bs.assertNotInAngularZone(),ms(function(){u._stable||u._zone.hasPendingMacrotasks||u._zone.hasPendingMicrotasks||(u._stable=!0,t.next(!0))})})});var n=u._zone.onUnstable.subscribe(function(){bs.assertInAngularZone(),u._stable&&(u._stable=!1,u._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(d.a)(c,l.pipe(function(t){return m()((e=I,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,T);return r.source=t,r.subjectFactory=n,r})(t));var e}))}return p(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Aa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(pu),o=n.create(To.NULL,[],e||n.selector,i),a=o.location.nativeElement,u=o.injector.get(Es,null),s=u&&o.injector.get(Is);return u&&s&&s.registerApplication(a,u),o.onDestroy(function(){r.detachView(o.hostView),Hs(r.components,o),s&&s.unregisterApplication(a)}),this._loadComponent(o),Rs()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=a(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Hs(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(os,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||qs)(Mn(bs),Mn(as),Mn(To),Mn(Cr),Mn(Pa),Mn($u))},qs.\u0275prov=L({token:qs,factory:qs.\u0275fac}),qs);function Hs(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Ks=function t(){h(this,t)},zs=function t(){h(this,t)},Gs={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Ws=function(){var t=function(){function t(e,n){h(this,t),this._compiler=e,this._config=n||Gs}return p(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var n=this,i=e(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),r("zn8P")(o).then(function(t){return t[a]}).then(function(t){return Qs(t,o,a)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),i=n[0],o=n[1],a="NgFactory";return void 0===o&&(o="default",a=""),r("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return Qs(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Mn(ys),Mn(zs,8))},t.\u0275prov=L({token:t,factory:t.\u0275fac}),t}();function Qs(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Ys=function(t){return null},Xs=Ms(null,"core",[{provide:is,useValue:"unknown"},{provide:Fs,deps:[To]},{provide:Is,deps:[]},{provide:as,deps:[]}]),Js=[{provide:Bs,useClass:Bs,deps:[bs,as,To,Cr,Pa,$u]},{provide:Tu,deps:[bs],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:$u,useClass:$u,deps:[[new Cn,Zu]]},{provide:ys,useClass:ys,deps:[]},es,{provide:$a,useFactory:function(){return su},deps:[]},{provide:tu,useFactory:function(){return cu},deps:[]},{provide:us,useFactory:function(t){return _a(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new In(us),new Cn,new An]]},{provide:ss,useValue:"USD"}],Zs=function(){var t=function t(e){h(this,t)};return t.\u0275mod=gt({type:t}),t.\u0275inj=M({factory:function(e){return new(e||t)(Mn(Bs))},providers:Js}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){h(this,t),this.project=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||b(o),o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return u}),n.d(e,"g",function(){return s}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{s(r.next(t))}catch(e){o(e)}}function u(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,u)}s((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return f});var r,i=n("7o/Q"),o=n("EY2u"),a=n("LRne"),u=n("HDdC"),s=((r=function(){function t(e,n,r){h(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return p(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return t=this.error,new u.a(function(e){return e.error(t)});case"C":return Object(o.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new f(t,this.scheduler,this.delay))}}]),t}(),f=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return h(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return p(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new d(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(s.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(s.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(s.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(i.a),d=function t(e,n){h(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",function(){return a}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return h}),n.d(e,"d",function(){return d});var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},s=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function h(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return S}),n.d(e,"i",function(){return u}),n.d(e,"j",function(){return l}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return d}),n.d(e,"m",function(){return p}),n.d(e,"n",function(){return s}),n.d(e,"o",function(){return c}),n.d(e,"p",function(){return h}),n.d(e,"q",function(){return v});var r=n("mrSG");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function s(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function h(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return u().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?m(o,r):"Error",u=this.serviceName+": "+a+" ("+i+").",s=new y(i,u,r);return s},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}function S(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?f(_(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?f(_(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?f(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r),o=i},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i,o=n("DH7j"),a=n("XoHu"),u=n("n6bG"),s=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){h(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return p(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f)n[f].remove(this);if(Object(u.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){e=v instanceof s?l(v.errors):[v]}}if(Object(o.a)(c))for(var h=-1,d=c.length;++h<d;){var p=c[h];if(Object(a.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof s?e=e.concat(l(v.errors)):e.push(v)}}if(e)throw new s(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce(function(t,e){return t.concat(e instanceof s?e.errors:e)},[])}},spgP:function(t,e,a){"use strict";(function(t){a.d(e,"a",function(){return R}),a.d(e,"b",function(){return E}),a.d(e,"c",function(){return T}),a.d(e,"d",function(){return w}),a.d(e,"e",function(){return S}),a.d(e,"f",function(){return j}),a.d(e,"g",function(){return C}),a.d(e,"h",function(){return _}),a.d(e,"i",function(){return O}),a.d(e,"j",function(){return x});var s=a("qgXg"),c=a("D0XW"),l=a("vkgz"),f=a("tf+s"),d=a("pxpQ"),v=a("fXoL"),y=a("Jgta");function g(){}var m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.b;h(this,t),this.zone=e,this.delegate=n}return p(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),b=function(){function t(e){h(this,t),this.zone=e,this.task=null}return p(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",g,{},g,g)}),e.pipe(Object(l.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),w=function t(e){h(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new m(Zone.current)}),this.insideAngular=e.run(function(){return new m(Zone.current,c.b)})};function _(t){return function(e){return(e=e.lift(new b(t.ngZone))).pipe(Object(f.a)(t.outsideAngular),Object(d.b)(t.insideAngular))}}var k=["ngOnDestroy"],O=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(o,a){return n.runOutsideAngular(function(){var o;if(t[a])return(null===(o=null==r?void 0:r.spy)||void 0===o?void 0:o.get)&&r.spy.get(a,t[a]),t[a];if(k.indexOf(a)>-1)return function(){};var u=e.toPromise().then(function(t){var e=t&&t[a];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return u[e]},apply:function(t,e,n){return u.then(function(t){var e,o=t&&t.apply(void 0,i(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(a,n,o),o})}})})}})},S=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},T=new v.q("angularfire2.app.options"),E=new v.q("angularfire2.app.nameOrConfig"),I=new v.O("6.1.4");function C(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=y.a.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return y.a.initializeApp(e,i)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&A("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var x=function(){A("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},A=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(v.U)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function j(e,a,s,c,l){var f,h=globalThis.\u0275AngularfireInstanceCache.get(e)||[],d=r(f=h)||o(f)||u(f)||n(),p=d[0],v=d.slice(1);if(p){try{l.some(function(t,e){var n=v[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&A("error","".concat(a," was already initialized on the ").concat(s.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(g){}return p}var y=c();return globalThis.\u0275AngularfireInstanceCache.set(e,[y].concat(i(l))),y}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var P={provide:function t(){h(this,t)},useFactory:C,deps:[T,v.z,[new v.A,E]]},R=function(){var t=function(){function t(e){h(this,t),y.a.registerVersion("angularfire",I.full,e.toString()),y.a.registerVersion("angular",v.N.full)}return p(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:T,useValue:e},{provide:E,useValue:n}]}}}]),t}();return t.\u0275mod=v.Gb({type:t}),t.\u0275inj=v.Fb({factory:function(e){return new(e||t)(v.Pb(v.B))},providers:[P]}),t}()}).call(this,a("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC"),i=1,o=Promise.resolve(),a={};function u(t){return t in a&&(delete a[t],!0)}var s=function(t){var e=i++;return a[e]=!0,o.then(function(){return u(e)&&t()}),e},c=function(t){u(t)},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?f(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=s(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return f(_(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),d=new(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),y=n("DH7j"),m=function(t){v(n,t);var e=g(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return h(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=a,i=o,(Object(y.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=d),r}return p(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new w(t,e))}}var w=function(){function t(e,n){h(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("7o/Q");function i(){}var o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new u(t,e,n))}}var u=function(){function t(e,n,r){h(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),s=function(t){v(n,t);var e=g(n);function n(t,r,a,u){var s;return h(this,n),(s=e.call(this,t))._tapNext=i,s._tapError=i,s._tapComplete=i,s._tapError=a||i,s._tapComplete=u||i,Object(o.a)(r)?(s._context=b(s),s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||i,s._tapError=r.error||i,s._tapComplete=r.complete||i),s}return p(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),a=n("qOnz"),u=n("/6Yf"),s=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),f="@firebase/app",h=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new s.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.f)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(a.d)(e,u))throw l.create("duplicate-app",{appName:u});var s=new t(n,o,r);return e[u]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&c.push("and"),s&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new u.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:s.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(s.d)(t,e)},apps:null,SDK_VERSION:"8.3.2",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var u=o.name;if(n.has(u))return d.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var s=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw l.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&Object(a.g)(s,o.serviceProps),r[u]=s,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,u).apply(this,o.multipleInstances?t:[])}}for(var c=0,f=Object.keys(e);c<f.length;c++)e[f[c]]._addComponent(o);return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.g)(e,t)},createSubscribe:a.e,ErrorFactory:a.b,deepExtend:a.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(a.j)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.o)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var b=v;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(f,"0.6.18",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(n,r,o){"use strict";o.r(r);var u=o("fXoL"),s=null;function c(){return s}var l,d=new u.q("DocumentToken"),y=((l=function t(){h(this,t)}).\u0275fac=function(t){return new(t||l)},l.\u0275prov=Object(u.Eb)({factory:w,token:l,providedIn:"platform"}),l);function w(){return Object(u.Pb)(S)}var k,O=new u.q("Location Initialized"),S=((k=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._doc=t,r._init(),r}return p(n,[{key:"_init",value:function(){this.location=c().getLocation(),this._history=c().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return c().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){T()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){T()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(y)).\u0275fac=function(t){return new(t||k)(u.Pb(d))},k.\u0275prov=Object(u.Eb)({factory:E,token:k,providedIn:"platform"}),k);function T(){return!!window.history.pushState}function E(){return new S(Object(u.Pb)(d))}function I(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function C(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function x(t){return t&&"?"!==t[0]?"?"+t:t}var A,j=((A=function t(){h(this,t)}).\u0275fac=function(t){return new(t||A)},A.\u0275prov=Object(u.Eb)({factory:P,token:A,providedIn:"root"}),A);function P(t){var e=Object(u.Pb)(d).location;return new M(Object(u.Pb)(y),e&&e.origin||"")}var R,N,D,L=new u.q("appBaseHref"),M=((D=function(t){v(n,t);var e=g(n);function n(t,r){var i;if(h(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,m(i)}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return I(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+x(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(j)).\u0275fac=function(t){return new(t||D)(u.Pb(y),u.Pb(L,8))},D.\u0275prov=u.Eb({token:D,factory:D.\u0275fac}),D),U=((N=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=I(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(j)).\u0275fac=function(t){return new(t||N)(u.Pb(y),u.Pb(L,8))},N.\u0275prov=u.Eb({token:N,factory:N.\u0275fac}),N),F=((R=function(){function t(e,n){var r=this;h(this,t),this._subject=new u.n,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=C(q(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return p(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+x(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,q(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||R)(u.Pb(j),u.Pb(y))},R.normalizeQueryParams=x,R.joinWithSlash=I,R.stripTrailingSlash=C,R.\u0275prov=Object(u.Eb)({factory:V,token:R,providedIn:"root"}),R);function V(){return new F(Object(u.Pb)(j),Object(u.Pb)(y))}function q(t){return t.replace(/\/index.html$/,"")}var B,H,K,z=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),G=u.lb,W=function t(){h(this,t)},Q=((B=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).locale=t,r}return p(n,[{key:"getPluralCategory",value:function(t,e){switch(G(e||this.locale)(t)){case z.Zero:return"zero";case z.One:return"one";case z.Two:return"two";case z.Few:return"few";case z.Many:return"many";default:return"other"}}}]),n}(W)).\u0275fac=function(t){return new(t||B)(u.Pb(u.u))},B.\u0275prov=u.Eb({token:B,factory:B.\u0275fac}),B),Y=function(){function t(e,n,r,i){h(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return p(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),X=((H=function(){function t(e,n,r){h(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return p(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Y(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new J(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var u=e._viewContainer.get(r);e._viewContainer.move(u,i);var s=new J(t,u);n.push(s)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||H)(u.Ib(u.P),u.Ib(u.K),u.Ib(u.s))},H.\u0275dir=u.Db({type:H,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),H),J=function t(e,n){h(this,t),this.record=e,this.view=n},Z=((K=function t(){h(this,t)}).\u0275mod=u.Gb({type:K}),K.\u0275inj=u.Fb({factory:function(t){return new(t||K)},providers:[{provide:W,useClass:Q}]}),K);function $(t){return"server"===t}var tt,et=((tt=function t(){h(this,t)}).\u0275prov=Object(u.Eb)({token:tt,providedIn:"root",factory:function(){return new nt(Object(u.Pb)(d),window)}}),tt),nt=function(){function t(e,n){h(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return p(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){var e;if(this.supportsScrolling()){var n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=rt(this.window.history)||rt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function rt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var it,ot,at,ut,st=function(t){v(r,t);var n=g(r);function r(){return h(this,r),n.apply(this,arguments)}return p(r,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=ct||(ct=document.querySelector("base"))?ct.getAttribute("href"):null;return null==n?null:(e=n,it||(it=document.createElement("a")),it.setAttribute("href",e),"/"===it.pathname.charAt(0)?it.pathname:"/"+it.pathname)}},{key:"resetBaseElement",value:function(){ct=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,n){n=encodeURIComponent(n);var r,i=a(t.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,u=o.indexOf("="),s=e(-1==u?[o,""]:[o.slice(0,u),o.slice(u+1)],2),c=s[0],l=s[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(f){i.e(f)}finally{i.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new r,s||(s=t)}}]),r}(function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.call(this)}return p(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){h(this,t)}}())),ct=null,lt=new u.q("TRANSITION_ID"),ft=[{provide:u.d,useFactory:function(t,e,n){return function(){n.get(u.e).donePromise.then(function(){var n=c();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[lt,d,u.r],multi:!0}],ht=function(){function t(){h(this,t)}return p(t,[{key:"addToWindow",value:function(t){u.nb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},u.nb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},u.nb.getAllAngularRootElements=function(){return t.getAllRootElements()},u.nb.frameworkStabilizers||(u.nb.frameworkStabilizers=[]),u.nb.frameworkStabilizers.push(function(t){var e=u.nb.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?c().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(u.W)(new t)}}]),t}(),dt=new u.q("EventManagerPlugins"),pt=((ot=function(){function t(e,n){var r=this;h(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return p(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||ot)(u.Pb(dt),u.Pb(u.z))},ot.\u0275prov=u.Eb({token:ot,factory:ot.\u0275fac}),ot),vt=function(){function t(e){h(this,t),this._doc=e}return p(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=c().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),yt=((ut=function(){function t(){h(this,t),this._stylesSet=new Set}return p(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||ut)},ut.\u0275prov=u.Eb({token:ut,factory:ut.\u0275fac}),ut),gt=((at=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return p(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return c().remove(t)})}}]),n}(yt)).\u0275fac=function(t){return new(t||at)(u.Pb(d))},at.\u0275prov=u.Eb({token:at,factory:at.\u0275fac}),at),mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bt=/%COMP%/g;function wt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?wt(t,i,n):(i=i.replace(bt,t),n.push(i))}return n}function _t(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var kt,Ot,St,Tt,Et=((kt=function(){function t(e,n,r){h(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new It(e)}return p(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case u.Q.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Ct(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case u.Q.ShadowDom:return new xt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=wt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||kt)(u.Pb(pt),u.Pb(gt),u.Pb(u.c))},kt.\u0275prov=u.Eb({token:kt,factory:kt.\u0275fac}),kt),It=function(){function t(e){h(this,t),this.eventManager=e,this.data=Object.create(null)}return p(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(mt[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=mt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=mt[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(u.F.DashCase|u.F.Important)?t.style.setProperty(e,n,r&u.F.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&u.F.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_t(n)):this.eventManager.addEventListener(t,e,_t(n))}}]),t}(),Ct=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;h(this,n),(a=e.call(this,t)).component=i;var u=wt(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(bt,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(bt,o+"-"+i.id),a}return p(n,[{key:"applyToHost",value:function(t){f(_(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=f(_(n.prototype),"createElement",this).call(this,t,e);return f(_(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(It),xt=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;h(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var u=wt(o.id,o.styles,[]),s=0;s<u.length;s++){var c=document.createElement("style");c.textContent=u[s],a.shadowRoot.appendChild(c)}return a}return p(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return f(_(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return f(_(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return f(_(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(f(_(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(It),At=((Ot=function(t){v(n,t);var e=g(n);function n(t){return h(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(vt)).\u0275fac=function(t){return new(t||Ot)(u.Pb(d))},Ot.\u0275prov=u.Eb({token:Ot,factory:Ot.\u0275fac}),Ot),jt=["alt","control","meta","shift"],Pt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Nt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Dt=((St=function(t){v(n,t);var e=g(n);function n(t){return h(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return c().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(jt.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Rt.hasOwnProperty(e)&&(e=Rt[e]))}return Pt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),jt.forEach(function(r){r!=n&&(0,Nt[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(vt)).\u0275fac=function(t){return new(t||St)(u.Pb(d))},St.\u0275prov=u.Eb({token:St,factory:St.\u0275fac}),St),Lt=[{provide:u.B,useValue:"browser"},{provide:u.C,useValue:function(){st.makeCurrent(),ht.init()},multi:!0},{provide:d,useFactory:function(){return Object(u.sb)(document),document},deps:[]}],Mt=Object(u.R)(u.V,"browser",Lt),Ut=[[],{provide:u.Y,useValue:"root"},{provide:u.m,useFactory:function(){return new u.m},deps:[]},{provide:dt,useClass:At,multi:!0,deps:[d,u.z,u.B]},{provide:dt,useClass:Dt,multi:!0,deps:[d]},[],{provide:Et,useClass:Et,deps:[pt,gt,u.c]},{provide:u.E,useExisting:Et},{provide:yt,useExisting:gt},{provide:gt,useClass:gt,deps:[d]},{provide:u.L,useClass:u.L,deps:[u.z]},{provide:pt,useClass:pt,deps:[dt,u.z]},[]],Ft=((Tt=function(){function t(e){if(h(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return p(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:u.c,useValue:e.appId},{provide:lt,useExisting:u.c},ft]}}}]),t}()).\u0275mod=u.Gb({type:Tt}),Tt.\u0275inj=u.Fb({factory:function(t){return new(t||Tt)(u.Pb(Tt,12))},providers:Ut,imports:[Z,u.f]}),Tt);"undefined"!=typeof window&&window;var Vt=o("Cfvw"),qt=o("LRne"),Bt=o("XNiG"),Ht=o("9ppp"),Kt=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this))._value=t,r}return p(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=f(_(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ht.a;return this._value}},{key:"next",value:function(t){f(_(n.prototype),"next",this).call(this,this._value=t)}}]),n}(Bt.a),zt=o("z+Ro"),Gt=o("DH7j"),Wt=o("7o/Q"),Qt=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(Wt.a),Yt=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(Wt.a),Xt=o("SeVD"),Jt=o("HDdC");function Zt(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Yt(t,n,r);if(!i.closed)return e instanceof Jt.a?e.subscribe(i):Object(Xt.a)(e)(i)}var $t=o("yCtX"),te={},ee=function(){function t(e){h(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new ne(t,this.resultSelector))}}]),t}(),ne=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return p(n,[{key:"_next",value:function(t){this.values.push(te),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(Zt(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===te?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Qt),re=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),ie=o("bHdf");function oe(){return Object(ie.a)(1)(Object(qt.a).apply(void 0,arguments))}var ae=o("EY2u");function ue(t){return new Jt.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Vt.a)(n):Object(ae.b)()).subscribe(e)})}var se=o("lJxs"),ce=o("zx2A");function le(t,e){return"function"==typeof e?function(n){return n.pipe(le(function(n,r){return Object(Vt.a)(t(n,r)).pipe(Object(se.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new fe(t))}}var fe=function(){function t(e){h(this,t),this.project=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new he(t,this.project))}}]),t}(),he=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return p(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new ce.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(ce.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||f(_(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&f(_(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(ce.b),de=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function pe(t){return function(e){return 0===t?Object(ae.b)():e.lift(new ve(t))}}var ve=function(){function t(e){if(h(this,t),this.total=e,this.total<0)throw new de}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new ye(t,this.total))}}]),t}(),ye=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(Wt.a);function ge(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(zt.a)(r)?(e.pop(),function(t){return oe(e,t,r)}):function(t){return oe(e,t)}}function me(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new be(t,e,n))}}var be=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new we(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),we=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return p(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(Wt.a);function _e(t,e){return function(n){return n.lift(new ke(t,e))}}var ke=function(){function t(e,n){h(this,t),this.predicate=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Oe(t,this.predicate,this.thisArg))}}]),t}(),Oe=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(Wt.a);function Se(t){return function(e){var n=new Te(t),r=e.lift(n);return n.caught=r}}var Te=function(){function t(e){h(this,t),this.selector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ee(t,this.selector,this.caught))}}]),t}(),Ee=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return p(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void f(_(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new ce.a(this);this.add(r);var i=Object(ce.c)(e,r);i!==r&&this.add(i)}}}]),n}(ce.b),Ie=o("5+tZ");function Ce(t,e){return Object(Ie.a)(t,e,1)}function xe(t){return function(e){return 0===t?Object(ae.b)():e.lift(new Ae(t))}}var Ae=function(){function t(e){if(h(this,t),this.total=e,this.total<0)throw new de}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new je(t,this.total))}}]),t}(),je=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(Wt.a);function Pe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De;return function(e){return e.lift(new Re(t))}}var Re=function(){function t(e){h(this,t),this.errorFactory=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ne(t,this.errorFactory))}}]),t}(),Ne=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return p(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(lb){t=lb}this.destination.error(t)}}]),n}(Wt.a);function De(){return new re}function Le(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Me(t))}}var Me=function(){function t(e){h(this,t),this.defaultValue=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ue(t,this.defaultValue))}}]),t}(),Ue=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return p(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(Wt.a),Fe=o("SpAZ");function Ve(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?_e(function(e,n){return t(e,n,r)}):Fe.a,pe(1),n?Le(e):Pe(function(){return new re}))}}var qe=o("vkgz"),Be=o("quSY"),He=function(){function t(e){h(this,t),this.callback=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ke(t,this.callback))}}]),t}(),Ke=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).add(new Be.a(r)),i}return n}(Wt.a),ze=function t(e,n){h(this,t),this.id=e,this.url=n},Ge=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return p(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ze),We=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return p(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(ze),Qe=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).reason=i,o}return p(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ze),Ye=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t,r)).error=i,o}return p(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(ze),Xe=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ze),Je=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ze),Ze=function(t){v(n,t);var e=g(n);function n(t,r,i,o,a){var u;return h(this,n),(u=e.call(this,t,r)).urlAfterRedirects=i,u.state=o,u.shouldActivate=a,u}return p(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(ze),$e=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ze),tn=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var a;return h(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ze),en=function(){function t(e){h(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),nn=function(){function t(e){h(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),rn=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),on=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),an=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),un=function(){function t(e){h(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),sn=function(){function t(e,n,r){h(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return p(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),cn=function(){function t(e){h(this,t),this.params=e||{}}return p(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function ln(t){return new cn(t)}function fn(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function hn(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],u=t[o];if(a.startsWith(":"))i[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dn(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!pn(t[n=r[o]],e[n]))return!1;return!0}function pn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=i(t).sort(),r=i(e).sort();return n.every(function(t,e){return r[e]===t})}return t===e}function vn(t){return Array.prototype.concat.apply([],t)}function yn(t){return t.length>0?t[t.length-1]:null}function gn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function mn(t){return Object(u.pb)(t)?t:Object(u.qb)(t)?Object(Vt.a)(Promise.resolve(t)):Object(qt.a)(t)}function bn(t,e,n){return n?function(t,e){return dn(t,e)}(t.queryParams,e.queryParams)&&wn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return pn(t[n],e[n])})}(t.queryParams,e.queryParams)&&_n(t.root,e.root)}function wn(t,e){if(!En(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!wn(t.children[n],e.children[n]))return!1}return!0}function _n(t,e){return kn(t,e,e.segments)}function kn(t,e,n){if(t.segments.length>n.length)return!!En(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!En(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!_n(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!En(t.segments,i)&&!!t.children.primary&&kn(t.children.primary,e,o)}var On=function(){function t(e,n,r){h(this,t),this.root=e,this.queryParams=n,this.fragment=r}return p(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ln(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return xn.serialize(this)}}]),t}(),Sn=function(){function t(e,n){var r=this;h(this,t),this.segments=e,this.children=n,this.parent=null,gn(n,function(t,e){return t.parent=r})}return p(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return An(this)}}]),t}(),Tn=function(){function t(e,n){h(this,t),this.path=e,this.parameters=n}return p(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ln(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Mn(this)}}]),t}();function En(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var In=function t(){h(this,t)},Cn=function(){function t(){h(this,t)}return p(t,[{key:"parse",value:function(t){var e=new Bn(t);return new On(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"/".concat(jn(t.root,!0)).concat((n=t.queryParams,r=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(Rn(t),"=").concat(Rn(e))}).join("&"):"".concat(Rn(t),"=").concat(Rn(e))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),xn=new Cn;function An(t){return t.segments.map(function(t){return Mn(t)}).join("/")}function jn(t,e){if(!t.hasChildren())return An(t);if(e){var n=t.children.primary?jn(t.children.primary,!1):"",r=[];return gn(t.children,function(t,e){"primary"!==e&&r.push("".concat(e,":").concat(jn(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return gn(t.children,function(t,r){"primary"===r&&(n=n.concat(e(t,r)))}),gn(t.children,function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return"primary"===n?[jn(t.children.primary,!1)]:["".concat(n,":").concat(jn(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(An(t),"/").concat(i[0]):"".concat(An(t),"/(").concat(i.join("//"),")")}function Pn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rn(t){return Pn(t).replace(/%3B/gi,";")}function Nn(t){return Pn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dn(t){return decodeURIComponent(t)}function Ln(t){return Dn(t.replace(/\+/g,"%20"))}function Mn(t){return"".concat(Nn(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(Nn(t),"=").concat(Nn(e[t]))}).join("")));var e}var Un=/^[^\/()?;=#]+/;function Fn(t){var e=t.match(Un);return e?e[0]:""}var Vn=/^[^=?&#]+/,qn=/^[^?&#]+/,Bn=function(){function t(e){h(this,t),this.url=e,this.remaining=e}return p(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sn([],{}):new Sn([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Sn(t,e)),n}},{key:"parseSegment",value:function(){var t=Fn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Tn(Dn(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Fn(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Fn(this.remaining);r&&(n=r,this.capture(n))}t[Dn(e)]=Dn(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Vn);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(qn);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Ln(e),o=Ln(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Fn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Sn([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Hn=function(){function t(e){h(this,t),this._root=e}return p(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Kn(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=Kn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=zn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return zn(t,this._root).map(function(t){return t.value})}}]),t}();function Kn(t,e){if(t===e.value)return e;var n,r=a(e.children);try{for(r.s();!(n=r.n()).done;){var i=Kn(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function zn(t,e){if(t===e.value)return[e];var n,r=a(e.children);try{for(r.s();!(n=r.n()).done;){var i=zn(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Gn=function(){function t(e,n){h(this,t),this.value=e,this.children=n}return p(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Wn(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Qn=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,t)).snapshot=r,tr(b(i),t),i}return p(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Hn);function Yn(t,e){var n=function(t,e){var n=new Zn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new $n("",new Gn(n,[]))}(t,e),r=new Kt([new Tn("",{})]),i=new Kt({}),o=new Kt({}),a=new Kt({}),u=new Kt(""),s=new Xn(r,i,a,u,o,"primary",e,n.root);return s.snapshot=n.root,new Qn(new Gn(s,[]),n)}var Xn=function(){function t(e,n,r,i,o,a,u,s){h(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=u,this._futureSnapshot=s}return p(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(se.a)(function(t){return ln(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(se.a)(function(t){return ln(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function Jn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Zn=function(){function t(e,n,r,i,o,a,u,s,c,l,f){h(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=u,this.routeConfig=s,this._urlSegment=c,this._lastPathIndex=l,this._resolve=f}return p(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ln(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ln(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),$n=function(t){v(n,t);var e=g(n);function n(t,r){var i;return h(this,n),(i=e.call(this,r)).url=t,tr(b(i),r),i}return p(n,[{key:"toString",value:function(){return er(this._root)}}]),n}(Hn);function tr(t,e){e.value._routerState=t,e.children.forEach(function(e){return tr(t,e)})}function er(t){var e=t.children.length>0?" { ".concat(t.children.map(er).join(", ")," } "):"";return"".concat(t.value).concat(e)}function nr(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),dn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!dn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),dn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function rr(t,e){return dn(t.params,e.params)&&function(t,e){return En(t,e)&&t.every(function(t,n){return dn(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||rr(t.parent,e.parent))}function ir(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=function(t,e,n){return e.children.map(function(e){var r,i=a(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return ir(t,e,o)}}catch(u){i.e(u)}finally{i.f()}return ir(t,e)})}(t,e,n);return new Gn(r,i)}var o=t.retrieve(e.value);if(o){var u=o.route;return or(e,u),u}var s,c=new Xn(new Kt((s=e.value).url),new Kt(s.params),new Kt(s.queryParams),new Kt(s.fragment),new Kt(s.data),s.outlet,s.component,s),l=e.children.map(function(e){return ir(t,e)});return new Gn(c,l)}function or(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)or(t.children[n],e.children[n])}function ar(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ur(t){return"object"==typeof t&&null!=t&&t.outlets}function sr(t,e,n,r,i){var o={};return r&&gn(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new On(n.root===t?e:cr(n.root,t,e),o,i)}function cr(t,e,n){var r={};return gn(t.children,function(t,i){r[i]=t===e?n:cr(t,e,n)}),new Sn(t.segments,r)}var lr=function(){function t(e,n,r){if(h(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ar(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(ur);if(i&&i!==yn(r))throw new Error("{outlets:{}} has to be the last command")}return p(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),fr=function t(e,n,r){h(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function hr(t,e,n){if(t||(t=new Sn([],{})),0===t.segments.length&&t.hasChildren())return dr(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],u=n[r];if(ur(u))break;var s="".concat(u),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&c&&"object"==typeof c&&void 0===c.outlets){if(!gr(s,c,a))return o;r+=2}else{if(!gr(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Sn(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Sn(t.segments.slice(r.pathIndex),t.children),dr(o,0,i)}return r.match&&0===i.length?new Sn(t.segments,{}):r.match&&!t.hasChildren()?pr(t,e,n):r.match?dr(t,0,i):pr(t,e,n)}function dr(t,e,n){if(0===n.length)return new Sn(t.segments,{});var r=function(t){return ur(t[0])?t[0].outlets:{primary:t}}(n),i={};return gn(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=hr(t.children[r],e,n))}),gn(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Sn(t.segments,i)}function pr(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(ur(o)){var a=vr(o.outlets);return new Sn(r,a)}if(0===i&&ar(n[0]))r.push(new Tn(t.segments[e].path,n[0])),i++;else{var u=ur(o)?o.outlets.primary:"".concat(o),s=i<n.length-1?n[i+1]:null;u&&s&&ar(s)?(r.push(new Tn(u,yr(s))),i+=2):(r.push(new Tn(u,{})),i++)}}return new Sn(r,{})}function vr(t){var e={};return gn(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=pr(new Sn([],{}),0,t))}),e}function yr(t){var e={};return gn(t,function(t,n){return e[n]="".concat(t)}),e}function gr(t,e,n){return t==n.path&&dn(e,n.parameters)}var mr=function(){function t(e,n,r,i){h(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return p(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),nr(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Wn(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),gn(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Wn(t),o=0,a=Object.keys(i);o<a.length;o++){var u=a[o];this.deactivateRouteAndItsChildren(i[u],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Wn(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new un(t.value.snapshot))}),t.children.length&&this.forwardEvent(new on(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(nr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),br(u.route)}else{var s=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=s?s.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function br(t){nr(t.value),t.children.forEach(br)}var wr=function t(e,n){h(this,t),this.routes=e,this.module=n};function _r(t){return"function"==typeof t}function kr(t){return t instanceof On}var Or=Symbol("INITIAL_VALUE");function Sr(){return le(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i;return Object(zt.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(Gt.a)(e[0])&&(e=e[0]),Object($t.a)(e,i).lift(new ee(r))}(t.map(function(t){return t.pipe(pe(1),ge(Or))})).pipe(me(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==Or)return t;if(r===Or&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||kr(r))return r}return t},t)},Or),_e(function(t){return t!==Or}),Object(se.a)(function(t){return kr(t)?t:!0===t}),pe(1))})}var Tr,Er=((Tr=function t(){h(this,t)}).\u0275fac=function(t){return new(t||Tr)},Tr.\u0275cmp=u.Cb({type:Tr,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&u.Jb(0,"router-outlet")},directives:function(){return[Oi]},encapsulation:2}),Tr);function Ir(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];Cr(r,xr(e,r))}}function Cr(t,e){t.children&&Ir(t.children,e)}function xr(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Ar(t){var e=t.children&&t.children.map(Ar),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Er),n}function jr(t){return t.outlet||"primary"}function Pr(t,e){var n=t.filter(function(t){return jr(t)===e});return n.push.apply(n,i(t.filter(function(t){return jr(t)!==e}))),n}var Rr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Nr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Rr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||hn)(n,t,e);if(!i)return Object.assign({},Rr);var o={};gn(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Dr(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(t,e,n){return n.some(function(n){return Lr(t,e,n)&&"primary"!==jr(n)})}(t,n,r)){var o=new Sn(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,u=a(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;if(""===s.path&&"primary"!==jr(s)){var c=new Sn([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,i[jr(s)]=c}}}catch(l){u.e(l)}finally{u.f()}return i}(t,e,r,new Sn(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return Lr(t,e,n)})}(t,n,r)){var u=new Sn(t.segments,function(t,e,n,r,i,o){var u,s={},c=a(r);try{for(c.s();!(u=c.n()).done;){var l=u.value;if(Lr(t,n,l)&&!i[jr(l)]){var f=new Sn([],{});f._sourceSegment=t,f._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[jr(l)]=f}}}catch(h){c.e(h)}finally{c.f()}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}var s=new Sn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Lr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Mr(t,e,n,r){return!!(jr(t)===r||"primary"!==r&&Lr(e,n,t))&&("**"===t.path||Nr(e,t,n).matched)}function Ur(t,e,n){return 0===e.length&&!t.children[n]}var Fr=function t(e){h(this,t),this.segmentGroup=e||null},Vr=function t(e){h(this,t),this.urlTree=e};function qr(t){return new Jt.a(function(e){return e.error(new Fr(t))})}function Br(t){return new Jt.a(function(e){return e.error(new Vr(t))})}function Hr(t){return new Jt.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var Kr=function(){function t(e,n,r,i,o){h(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(u.x)}return p(t,[{key:"apply",value:function(){var t=this,e=Dr(this.urlTree.root,[],[],this.config).segmentGroup,n=new Sn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(Object(se.a)(function(e){return t.createUrlTree(zr(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Se(function(e){if(e instanceof Vr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Fr)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(se.a)(function(n){return e.createUrlTree(zr(n),t.queryParams,t.fragment)})).pipe(Se(function(t){if(t instanceof Fr)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Sn([],{primary:t}):t;return new On(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(se.a)(function(t){return new Sn([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var u=a[o];"primary"===u?i.unshift(u):i.push(u)}return Object(Vt.a)(i).pipe(Ce(function(i){var o=n.children[i],a=Pr(e,i);return r.expandSegmentGroup(t,a,o,i).pipe(Object(se.a)(function(t){return{segment:t,outlet:i}}))}),me(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?_e(function(e,n){return t(e,n,r)}):Fe.a,xe(1),n?Le(e):Pe(function(){return new re}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(Vt.a)(n).pipe(Ce(function(u){return a.expandSegmentAgainstRoute(t,e,n,u,r,i,o).pipe(Se(function(t){if(t instanceof Fr)return Object(qt.a)(null);throw t}))}),Ve(function(t){return!!t}),Se(function(t,n){if(t instanceof re||"EmptyError"===t.name){if(Ur(e,r,i))return Object(qt.a)(new Sn([],{}));throw new Fr(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Mr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):qr(e):qr(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Br(o):this.lineralizeSegments(n,o).pipe(Object(Ie.a)(function(n){var o=new Sn(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,u=Nr(e,r,i),s=u.matched,c=u.consumedSegments,l=u.lastChild,f=u.positionalParamSegments;if(!s)return qr(e);var h=this.applyRedirectCommands(c,r.redirectTo,f);return r.redirectTo.startsWith("/")?Br(h):this.lineralizeSegments(r,h).pipe(Object(Ie.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(se.a)(function(t){return n._loadedConfig=t,new Sn(r,{})})):Object(qt.a)(new Sn(r,{}));var a=Nr(e,n,r),u=a.matched,s=a.consumedSegments,c=a.lastChild;if(!u)return qr(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe(Object(Ie.a)(function(t){var r=t.module,a=t.routes,u=Dr(e,s,l,a),c=u.segmentGroup,f=u.slicedSegments,h=new Sn(c.segments,c.children);if(0===f.length&&h.hasChildren())return o.expandChildren(r,a,h).pipe(Object(se.a)(function(t){return new Sn(s,t)}));if(0===a.length&&0===f.length)return Object(qt.a)(new Sn(s,{}));var d=jr(n)===i;return o.expandSegment(r,h,a,f,d?"primary":i,!0).pipe(Object(se.a)(function(t){return new Sn(s.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(qt.a)(new wr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(qt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Ie.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(se.a)(function(t){return e._loadedConfig=t,t})):function(t){return new Jt.a(function(e){return e.error(fn("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Object(qt.a)(new wr([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return Object(qt.a)(!0);var o=i.map(function(r){var i,o=t.get(r);if(function(t){return t&&_r(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!_r(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return mn(i)});return Object(qt.a)(o).pipe(Sr(),Object(qe.a)(function(t){if(kr(t)){var e=fn('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),Object(se.a)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(qt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Hr(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new On(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return gn(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return gn(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new Sn(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=a(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(u){i.e(u)}finally{i.f()}return t}}]),t}();function zr(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=zr(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Sn(t.segments.concat(e.segments),e.children)}return t}(new Sn(t.segments,e))}var Gr=function t(e){h(this,t),this.path=e,this.route=this.path[this.path.length-1]},Wr=function t(e,n){h(this,t),this.component=e,this.route=n};function Qr(t,e,n){var r=t._root;return Xr(r,e?e._root:null,n,[r.value])}function Yr(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Xr(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Wn(e);return t.children.forEach(function(t){!function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var s=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!En(t.url,e.url);case"pathParamsOrQueryParamsChange":return!En(t.url,e.url)||!dn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rr(t,e)||!dn(t.queryParams,e.queryParams);case"paramsChange":default:return!rr(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);s?i.canActivateChecks.push(new Gr(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Xr(t,e,o.component?u?u.children:null:n,r,i),s&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Wr(u.outlet.component,a))}else a&&Jr(e,u,i),i.canActivateChecks.push(new Gr(r)),Xr(t,null,o.component?u?u.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),gn(o,function(t,e){return Jr(t,n.getContext(e),i)}),i}function Jr(t,e,n){var r=Wn(t),i=t.value;gn(r,function(t,r){Jr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Wr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Zr=function t(){h(this,t)};function $r(t){return new Jt.a(function(e){return e.error(t)})}var ti=function(){function t(e,n,r,i,o,a){h(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return p(t,[{key:"recognize",value:function(){var t=Dr(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new Zn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Gn(n,e),i=new $n(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Jn(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],r=0,o=Object.keys(e.children);r<o.length;r++){var u=o[r],s=e.children[u],c=Pr(t,u),l=this.processSegmentGroup(c,s,u);if(null===l)return null;n.push.apply(n,i(l))}var f=function(t){var e,n=[],r=a(t);try{var o=function(){var t,r=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(r))return n.push(r),"continue";var o=n.find(function(t){return r.value.routeConfig===t.value.routeConfig});void 0!==o?(t=o.children).push.apply(t,i(r.children)):n.push(r)};for(r.s();!(e=r.n()).done;)o()}catch(u){r.e(u)}finally{r.f()}return n}(n);return f.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),f}},{key:"processSegment",value:function(t,e,n,r){var i,o=a(t);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=this.processSegmentAgainstRoute(u,e,n,r);if(null!==s)return s}}catch(c){o.e(c)}finally{o.f()}return Ur(e,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!Mr(t,e,n,r))return null;var i,o=[],a=[];if("**"===t.path){var u=n.length>0?yn(n).parameters:{};i=new Zn(n,u,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ri(t),jr(t),t.component,t,ei(e),ni(e)+n.length,ii(t))}else{var s=Nr(e,t,n);if(!s.matched)return null;o=s.consumedSegments,a=n.slice(s.lastChild),i=new Zn(o,s.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ri(t),jr(t),t.component,t,ei(e),ni(e)+o.length,ii(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Dr(e,o,a,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),f=l.segmentGroup,h=l.slicedSegments;if(0===h.length&&f.hasChildren()){var d=this.processChildren(c,f);return null===d?null:[new Gn(i,d)]}if(0===c.length&&0===h.length)return[new Gn(i,[])];var p=jr(t)===r,v=this.processSegment(c,f,h,p?"primary":r);return null===v?null:[new Gn(i,v)]}}]),t}();function ei(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function ni(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ri(t){return t.data||{}}function ii(t){return t.resolve||{}}function oi(t){return le(function(e){var n=t(e);return n?Object(Vt.a)(n).pipe(Object(se.a)(function(){return e})):Object(qt.a)(e)})}var ai=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return n}(function(){function t(){h(this,t)}return p(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),ui=new u.q("ROUTES"),si=function(){function t(e,n,r,i){h(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return p(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(se.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new wr(vn(i.injector.get(ui)).map(Ar),i)}))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(Vt.a)(this.loader.load(t)):mn(t()).pipe(Object(Ie.a)(function(t){return t instanceof u.v?Object(qt.a)(t):Object(Vt.a)(e.compiler.compileModuleAsync(t))}))}}]),t}(),ci=function t(){h(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new li,this.attachRef=null},li=function(){function t(){h(this,t),this.contexts=new Map}return p(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new ci,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),fi=function(){function t(){h(this,t)}return p(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function hi(t){throw t}function di(t,e,n){return e.parse("/")}function pi(t,e){return Object(qt.a)(null)}var vi,yi,gi=((yi=function(){function t(e,n,r,i,o,a,s,c){var l=this;h(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Bt.a,this.errorHandler=hi,this.malformedUriErrorHandler=di,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pi,afterPreactivation:pi},this.urlHandlingStrategy=new fi,this.routeReuseStrategy=new ai,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(u.x),this.console=o.get(u.X);var f=o.get(u.z);this.isNgZoneEnabled=f instanceof u.z&&u.z.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new On(new Sn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new si(a,s,function(t){return l.triggerEvent(new en(t))},function(t){return l.triggerEvent(new nn(t))}),this.routerState=Yn(this.currentUrlTree,this.rootComponentType),this.transitions=new Kt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return p(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(_e(function(t){return 0!==t.id}),Object(se.a)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),le(function(t){var r,i,o,a,u=!1,s=!1;return Object(qt.a)(t).pipe(Object(qe.a)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),le(function(t){var r,i,o,a,u=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||u)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(qt.a)(t).pipe(le(function(t){var r=e.transitions.getValue();return n.next(new Ge(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?ae.a:Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,le(function(t){return function(t,e,n,r,i){return new Kr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(se.a)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),Object(qe.a)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return Object(Ie.a)(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new ti(t,e,n,r,i,o).recognize();return null===a?$r(new Zr):Object(qt.a)(a)}catch(lb){return $r(lb)}}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(se.a)(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(qe.a)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var r=new Xe(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(u&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var s=t.id,c=t.extractedUrl,l=t.source,f=t.restoredState,h=t.extras,d=new Ge(s,e.serializeUrl(c),l,f);n.next(d);var p=Yn(c,e.rootComponentType).snapshot;return Object(qt.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},h),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ae.a}),oi(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,u=a.skipLocationChange,s=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!u,replaceUrl:!!s})}),Object(qe.a)(function(t){var n=new Je(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(se.a)(function(t){return Object.assign(Object.assign({},t),{guards:Qr(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return Object(Ie.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,u=o.canDeactivateChecks;return 0===u.length&&0===a.length?Object(qt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Vt.a)(t).pipe(Object(Ie.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(qt.a)(!0);var a=o.map(function(o){var a,u=Yr(o,e,i);if(function(t){return t&&_r(t.canDeactivate)}(u))a=mn(u.canDeactivate(t,e,n,r));else{if(!_r(u))throw new Error("Invalid CanDeactivate guard");a=mn(u(t,e,n,r))}return a.pipe(Ve())});return Object(qt.a)(a).pipe(Sr())}(t.component,t.route,n,e,r)}),Ve(function(t){return!0!==t},!0))}(u,r,i,t).pipe(Object(Ie.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(Vt.a)(e).pipe(Ce(function(e){return oe(function(t,e){return null!==t&&e&&e(new rn(t)),Object(qt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new an(t)),Object(qt.a)(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return ue(function(){var i=e.guards.map(function(i){var o,a=Yr(i,e.node,n);if(function(t){return t&&_r(t.canActivateChild)}(a))o=mn(a.canActivateChild(r,t));else{if(!_r(a))throw new Error("Invalid CanActivateChild guard");o=mn(a(r,t))}return o.pipe(Ve())});return Object(qt.a)(i).pipe(Sr())})});return Object(qt.a)(i).pipe(Sr())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(qt.a)(!0);var i=r.map(function(r){return ue(function(){var i,o=Yr(r,e,n);if(function(t){return t&&_r(t.canActivate)}(o))i=mn(o.canActivate(e,t));else{if(!_r(o))throw new Error("Invalid CanActivate guard");i=mn(o(e,t))}return i.pipe(Ve())})});return Object(qt.a)(i).pipe(Sr())}(t,e.route,n))}),Ve(function(t){return!0!==t},!0))}(r,a,t,e):Object(qt.a)(n)}),Object(se.a)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Object(qe.a)(function(t){if(kr(t.guardsResult)){var n=fn('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new Ze(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),_e(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Qe(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),oi(function(t){if(t.guards.canActivateChecks.length)return Object(qt.a)(t).pipe(Object(qe.a)(function(t){var n=new $e(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),le(function(t){var r,i,o=!1;return Object(qt.a)(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,Object(Ie.a)(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(qt.a)(t);var o=0;return Object(Vt.a)(n).pipe(Ce(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(qt.a)({});var o={};return Object(Vt.a)(i).pipe(Object(Ie.a)(function(i){return function(t,e,n,r){var i=Yr(t,e,r);return mn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(qe.a)(function(t){o[i]=t}))}),xe(1),Object(Ie.a)(function(){return Object.keys(o).length===i.length?Object(qt.a)(o):ae.a}))}(t._resolve,t,e,r).pipe(Object(se.a)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Jn(t,n).resolve),null}))}(t.route,e,r,i)}),Object(qe.a)(function(){return o++}),xe(1),Object(Ie.a)(function(e){return o===n.length?Object(qt.a)(t):ae.a}))})),Object(qe.a)({next:function(){return o=!0},complete:function(){if(!o){var r=new Qe(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),Object(qe.a)(function(t){var n=new tn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),oi(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,u=a.skipLocationChange,s=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!u,replaceUrl:!!s})}),Object(se.a)(function(t){var n=function(t,e,n){var r=ir(t,e._root,n?n._root:void 0);return new Qn(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),Object(qe.a)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(se.a)(function(t){return new mr(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),Object(qe.a)({next:function(){u=!0},complete:function(){u=!0}}),(r=function(){if(!u&&!s){e.resetUrlToCurrentUrlTree();var r=new Qe(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new He(r))}),Se(function(r){if(s=!0,(u=r)&&u.ngNavigationCancelingError){var i=kr(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Qe(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new Ye(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(Ul){t.reject(Ul)}}var u;return ae.a}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Ir(t),this.config=t.map(Ar),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,o=e.fragment,a=e.queryParamsHandling,u=e.preserveFragment,s=n||this.routerState.root,c=u?this.currentUrlTree.fragment:o,l=null;switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,o){if(0===n.length)return sr(e.root,e.root,e,r,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new lr(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return gn(r.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),[].concat(i(t),[{outlets:a}])}if(r.segmentPath)return[].concat(i(t),[r.segmentPath])}return"string"!=typeof r?[].concat(i(t),[r]):0===o?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[].concat(i(t),[r])},[]);return new lr(n,e,r)}(n);if(a.toRoot())return sr(e.root,new Sn([],{}),e,r,o);var u=function(t,e,n){if(t.isAbsolute)return new fr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new fr(r,r===e.root,0)}var i=ar(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new fr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),s=u.processChildren?dr(u.segmentGroup,u.index,a.commands):hr(u.segmentGroup,u.index,a.commands);return sr(u.segmentGroup,s,e,r,o)}(s,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=kr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(lb){e=this.malformedUriErrorHandler(lb,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(kr(t))return bn(this.currentUrlTree,t,e);var n=this.parseUrl(t);return bn(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new We(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,u,s=this.getTransition(),c="imperative"!==e&&"imperative"===(null==s?void 0:s.source),l=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,u=i.promise):u=new Promise(function(t,e){o=t,a=e});var f=++this.navigationId;return this.setTransition({id:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){return new(t||yi)(u.Pb(u.M),u.Pb(In),u.Pb(li),u.Pb(F),u.Pb(u.r),u.Pb(u.w),u.Pb(u.i),u.Pb(void 0))},yi.\u0275prov=u.Eb({token:yi,factory:yi.\u0275fac}),yi),mi=((vi=function(){function t(e,n,r){var i=this;h(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new Bt.a,this.subscription=e.events.subscribe(function(t){t instanceof We&&i.updateTargetUrlAndHref()})}return p(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:bi(this.skipLocationChange),replaceUrl:bi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bi(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||vi)(u.Ib(gi),u.Ib(Xn),u.Ib(j))},vi.\u0275dir=u.Db({type:vi,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&u.Sb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(u.Ob("href",e.href,u.cc),u.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[u.wb]}),vi);function bi(t){return""===t||!!t}var wi,_i,ki,Oi=((wi=function(){function t(e,n,r,i,o){h(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.n,this.deactivateEvents=new u.n,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return p(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Si(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||wi)(u.Ib(li),u.Ib(u.P),u.Ib(u.j),u.Qb("name"),u.Ib(u.h))},wi.\u0275dir=u.Db({type:wi,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),wi),Si=function(){function t(e,n,r){h(this,t),this.route=e,this.childContexts=n,this.parent=r}return p(t,[{key:"get",value:function(t,e){return t===Xn?this.route:t===li?this.childContexts:this.parent.get(t,e)}}]),t}(),Ti=function t(){h(this,t)},Ei=function(){function t(){h(this,t)}return p(t,[{key:"preload",value:function(t,e){return Object(qt.a)(null)}}]),t}(),Ii=((ki=function(){function t(e,n,r,i,o){h(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new si(n,r,function(t){return e.triggerEvent(new en(t))},function(t){return e.triggerEvent(new nn(t))})}return p(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(_e(function(t){return t instanceof We}),Ce(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(u.x);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=a(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var u=o._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(Vt.a)(r).pipe(Object(ie.a)(),Object(se.a)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(Ie.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||ki)(u.Pb(gi),u.Pb(u.w),u.Pb(u.i),u.Pb(u.r),u.Pb(Ti))},ki.\u0275prov=u.Eb({token:ki,factory:ki.\u0275fac}),ki),Ci=((_i=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return p(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Ge?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof We&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof sn&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new sn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||_i)(u.Pb(gi),u.Pb(et),u.Pb(void 0))},_i.\u0275prov=u.Eb({token:_i,factory:_i.\u0275fac}),_i),xi=new u.q("ROUTER_CONFIGURATION"),Ai=new u.q("ROUTER_FORROOT_GUARD"),ji=[F,{provide:In,useClass:Cn},{provide:gi,useFactory:function(t,e,n,r,i,o,a){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},s=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,f=new gi(null,t,e,n,r,i,o,vn(a));if(s&&(f.urlHandlingStrategy=s),l&&(f.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,f),u.enableTracing){var h=c();f.events.subscribe(function(t){h.logGroup("Router Event: ".concat(t.constructor.name)),h.log(t.toString()),h.log(t),h.logGroupEnd()})}return f},deps:[In,li,F,u.r,u.w,u.i,ui,xi,[function(){return function t(){h(this,t)}}(),new u.A],[function(){return function t(){h(this,t)}}(),new u.A]]},li,{provide:Xn,useFactory:function(t){return t.routerState.root},deps:[gi]},{provide:u.w,useClass:u.J},Ii,Ei,function(){function t(){h(this,t)}return p(t,[{key:"preload",value:function(t,e){return e().pipe(Se(function(){return Object(qt.a)(null)}))}}]),t}(),{provide:xi,useValue:{enableTracing:!1}}];function Pi(){return new u.y("Router",gi)}var Ri,Ni=((Ri=function(){function t(e,n){h(this,t)}return p(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[ji,Ui(e),{provide:Ai,useFactory:Mi,deps:[[gi,new u.A,new u.I]]},{provide:xi,useValue:n||{}},{provide:j,useFactory:Li,deps:[y,[new u.p(L),new u.A],xi]},{provide:Ci,useFactory:Di,deps:[gi,et,xi]},{provide:Ti,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ei},{provide:u.y,multi:!0,useFactory:Pi},[Vi,{provide:u.d,multi:!0,useFactory:qi,deps:[Vi]},{provide:Hi,useFactory:Bi,deps:[Vi]},{provide:u.b,multi:!0,useExisting:Hi}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Ui(e)]}}}]),t}()).\u0275mod=u.Gb({type:Ri}),Ri.\u0275inj=u.Fb({factory:function(t){return new(t||Ri)(u.Pb(Ai,8),u.Pb(gi,8))}}),Ri);function Di(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ci(t,e,n)}function Li(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new U(t,e):new M(t,e)}function Mi(t){return"guarded"}function Ui(t){return[{provide:u.a,multi:!0,useValue:t},{provide:ui,multi:!0,useValue:t}]}var Fi,Vi=((Fi=function(){function t(e){h(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Bt.a}return p(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(O,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(gi),i=t.injector.get(xi);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?Object(qt.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(xi),n=this.injector.get(Ii),r=this.injector.get(Ci),i=this.injector.get(gi),o=this.injector.get(u.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||Fi)(u.Pb(u.r))},Fi.\u0275prov=u.Eb({token:Fi,factory:Fi.\u0275fac}),Fi);function qi(t){return t.appInitializer.bind(t)}function Bi(t){return t.bootstrapListener.bind(t)}var Hi=new u.q("Router Initializer"),Ki=o("D0XW");function zi(){return function(t){return t.lift(new Gi)}}var Gi=function(){function t(){h(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Wi(t))}}]),t}(),Wi=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this,t)).hasPrev=!1,r}return p(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(Wt.a),Qi=function(){function t(e,n){h(this,t),this.compare=e,this.keySelector=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Yi(t,this.compare,this.keySelector))}}]),t}(),Yi=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return p(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(Wt.a),Xi=o("pxpQ"),Ji=o("spgP"),Zi=o("Jgta"),$i=o("zIRd"),to=o("qOnz"),eo=o("q/0M"),no=function(t,e){return(no=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ro(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var io,oo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ao=ao||{},uo=oo||self;function so(){}function co(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function lo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var fo="closure_uid_"+(1e9*Math.random()>>>0),ho=0;function po(t,e,n){return t.call.apply(t.bind,arguments)}function vo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function yo(t,e,n){return(yo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?po:vo).apply(null,arguments)}function go(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function mo(){return Date.now()}function bo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function wo(){this.j=this.j,this.i=this.i}wo.prototype.j=!1,wo.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,fo)&&t[fo]||(t[fo]=++ho)}(this)},wo.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var _o=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ko=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Oo(t){return Array.prototype.concat.apply([],arguments)}function So(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function To(t){return/^[\s\xa0]*$/.test(t)}var Eo,Io=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Co(t,e){return-1!=t.indexOf(e)}function xo(t,e){return t<e?-1:t>e?1:0}t:{var Ao=uo.navigator;if(Ao){var jo=Ao.userAgent;if(jo){Eo=jo;break t}}Eo=""}function Po(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ro(t){var e={};for(var n in t)e[n]=t[n];return e}var No="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Do(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<No.length;o++)n=No[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Lo(t){return Lo[" "](t),t}Lo[" "]=so;var Mo,Uo,Fo=Co(Eo,"Opera"),Vo=Co(Eo,"Trident")||Co(Eo,"MSIE"),qo=Co(Eo,"Edge"),Bo=qo||Vo,Ho=Co(Eo,"Gecko")&&!(Co(Eo.toLowerCase(),"webkit")&&!Co(Eo,"Edge"))&&!(Co(Eo,"Trident")||Co(Eo,"MSIE"))&&!Co(Eo,"Edge"),Ko=Co(Eo.toLowerCase(),"webkit")&&!Co(Eo,"Edge");function zo(){var t=uo.document;return t?t.documentMode:void 0}t:{var Go="",Wo=(Uo=Eo,Ho?/rv:([^\);]+)(\)|;)/.exec(Uo):qo?/Edge\/([\d\.]+)/.exec(Uo):Vo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Uo):Ko?/WebKit\/(\S+)/.exec(Uo):Fo?/(?:Version)[ \/]?(\S+)/.exec(Uo):void 0);if(Wo&&(Go=Wo?Wo[1]:""),Vo){var Qo=zo();if(null!=Qo&&Qo>parseFloat(Go)){Mo=String(Qo);break t}}Mo=Go}var Yo={};function Xo(t){return function(t,e){var n=Yo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Io(String(Mo)).split("."),r=Io(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",u=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;e=xo(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||xo(0==a[2].length,0==u[2].length)||xo(a[2],u[2]),a=a[3],u=u[3]}while(0==e)}return 0<=e})}var Jo=uo.document&&Vo&&(zo()||parseInt(Mo,10))||void 0,Zo=!Vo||9<=Number(Jo),$o=Vo&&!Xo("9"),ta=function(){if(!uo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{uo.addEventListener("test",so,e),uo.removeEventListener("test",so,e)}catch(n){}return t}();function ea(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function na(t,e){if(ea.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ho){t:{try{Lo(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ra[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ea.prototype.b=function(){this.defaultPrevented=!0},bo(na,ea);var ra={2:"touch",3:"pen",4:"mouse"};na.prototype.b=function(){na.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$o)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ia="closure_listenable_"+(1e6*Math.random()|0),oa=0;function aa(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++oa,this.Y=this.Z=!1}function ua(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function sa(t){this.src=t,this.a={},this.b=0}function ca(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=_o(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ua(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function la(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}sa.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=la(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new aa(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var fa="closure_lm_"+(1e6*Math.random()|0),ha={};function da(t,e,n,r,i){if(r&&r.once)return va(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)da(t,e[o],n,r,i);return null}return n=Oa(n),t&&t[ia]?t.va(e,n,lo(r)?!!r.capture:!!r,i):pa(t,e,n,!1,r,i)}function pa(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=lo(i)?!!i.capture:!!i;if(a&&!Zo)return null;var u=_a(t);if(u||(t[fa]=u=new sa(t)),(n=u.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=wa,e=Zo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ta||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ma(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function va(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)va(t,e[o],n,r,i);return null}return n=Oa(n),t&&t[ia]?t.wa(e,n,lo(r)?!!r.capture:!!r,i):pa(t,e,n,!0,r,i)}function ya(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ya(t,e[o],n,r,i);else r=lo(r)?!!r.capture:!!r,n=Oa(n),t&&t[ia]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=la(o=t.a[e],n,r,i))&&(ua(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=_a(t))&&(e=t.a[e.toString()],t=-1,e&&(t=la(e,n,r,i)),(n=-1<t?e[t]:null)&&ga(n))}function ga(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ia])ca(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ma(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_a(e))?(ca(n,t),0==n.b&&(n.src=null,e[fa]=null)):ua(t)}}}function ma(t){return t in ha?ha[t]:ha[t]="on"+t}function ba(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ga(t),n.call(r,e)}function wa(t,e){if(t.Y)return!0;if(!Zo){if(!e)t:{e=["window","event"];for(var n=uo,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ba(t,e=new na(e,this))}return ba(t,new na(e,this))}function _a(t){return(t=t[fa])instanceof sa?t:null}var ka="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oa(t){return"function"==typeof t?t:(t[ka]||(t[ka]=function(e){return t.handleEvent(e)}),t[ka])}function Sa(){wo.call(this),this.c=new sa(this),this.J=this,this.C=null}function Ta(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ea(e,t);else if(e instanceof ea)e.target=e.target||t;else{var i=e;Do(e=new ea(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Ea(a,r,!0,e)&&i}if(i=Ea(a=e.a=t,r,!0,e)&&i,i=Ea(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ea(a=e.a=n[o],r,!1,e)&&i}function Ea(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var u=a.listener,s=a.ca||a.src;a.Z&&ca(t.c,a),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}bo(Sa,wo),Sa.prototype[ia]=!0,(io=Sa.prototype).addEventListener=function(t,e,n,r){da(this,t,e,n,r)},io.removeEventListener=function(t,e,n,r){ya(this,t,e,n,r)},io.G=function(){if(Sa.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ua(n[r]);delete e.a[t],e.b--}}this.C=null},io.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},io.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ia=uo.JSON.stringify;function Ca(){this.b=this.a=null}var xa,Aa=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Pa},function(t){t.reset()});function ja(){var t=La,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Pa(){this.next=this.b=this.a=null}function Ra(t){uo.setTimeout(function(){throw t},0)}function Na(t,e){xa||function(){var t=uo.Promise.resolve(void 0);xa=function(){t.then(Ma)}}(),Da||(xa(),Da=!0),La.add(t,e)}Ca.prototype.add=function(t,e){var n=Aa.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Pa.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Pa.prototype.reset=function(){this.next=this.b=this.a=null};var Da=!1,La=new Ca;function Ma(){for(var t;t=ja();){try{t.a.call(t.b)}catch(n){Ra(n)}var e=Aa;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Da=!1}function Ua(t,e){Sa.call(this),this.b=t||1,this.a=e||uo,this.f=yo(this.Za,this),this.g=mo()}function Fa(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Va(t,e,n){if("function"==typeof t)n&&(t=yo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=yo(t.handleEvent,t)}return 2147483647<Number(e)?-1:uo.setTimeout(t,e||0)}function qa(t){t.a=Va(function(){t.a=null,t.c&&(t.c=!1,qa(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}bo(Ua,Sa),(io=Ua.prototype).aa=!1,io.M=null,io.Za=function(){if(this.aa){var t=mo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ta(this,"tick"),this.aa&&(Fa(this),this.start()))}},io.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=mo())},io.G=function(){Ua.X.G.call(this),Fa(this),delete this.a};var Ba=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}no(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:qa(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(uo.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(wo);function Ha(t){wo.call(this),this.b=t,this.a={}}bo(Ha,wo);var Ka=[];function za(t,e,n,r){Array.isArray(n)||(n&&(Ka[0]=n.toString()),n=Ka);for(var i=0;i<n.length;i++){var o=da(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ga(t){Po(t.a,function(t,e){this.a.hasOwnProperty(e)&&ga(t)},t),t.a={}}function Wa(){this.a=!0}function Qa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ia(n)}catch(u){return e}}(t,n)+(r?" "+r:"")})}Ha.prototype.G=function(){Ha.X.G.call(this),Ga(this)},Ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wa.prototype.info=function(){};var Ya={},Xa=null;function Ja(){return Xa=Xa||new Sa}function Za(t){ea.call(this,Ya.Fa,t)}function $a(t){var e=Ja();Ta(e,new Za(e,t))}function tu(t,e){ea.call(this,Ya.STAT_EVENT,t),this.stat=e}function eu(t){var e=Ja();Ta(e,new tu(e,t))}function nu(t){ea.call(this,Ya.Ga,t)}function ru(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return uo.setTimeout(function(){t()},e)}Ya.Fa="serverreachability",bo(Za,ea),Ya.STAT_EVENT="statevent",bo(tu,ea),Ya.Ga="timingevent",bo(nu,ea);var iu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ou={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function au(){}function uu(){}au.prototype.a=null;var su,cu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function lu(){ea.call(this,"d")}function fu(){ea.call(this,"c")}function hu(){}function du(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ha(this),this.P=pu,this.R=new Ua(t=Bo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}bo(lu,ea),bo(fu,ea),bo(hu,au),su=new hu;var pu=45e3,vu={},yu={};function gu(t,e,n){t.H=1,t.i=Fu(Ru(e)),t.j=n,t.I=!0,mu(t,null)}function mu(t,e){t.u=mo(),_u(t),t.l=Ru(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Zu(n.b,"t",r),t.D=0,t.a=Gs(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ba(yo(t.Ca,t,t.a),t.O)),za(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ro(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),$a(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",u=o.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.c,t.m,t.l,t.f,t.S,t.j)}function bu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=wu(t,n);if(i==yu){4==e&&(t.h=4,eu(14),r=!1),Qa(t.c,t.f,null,"[Incomplete Response]");break}if(i==vu){t.h=4,eu(15),Qa(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Qa(t.c,t.f,i,null),Eu(t,i)}4==e&&0==n.length&&(t.h=1,eu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Us(e),e.F=!0,eu(11))):(Qa(t.c,t.f,n,"[Invalid Chunked Response]"),Tu(t),Su(t))}function wu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?yu:(n=Number(e.substring(n,r)),isNaN(n)?vu:(r+=1)+n>e.length?yu:(e=e.substr(r,n),t.D=r+n,e))}function _u(t){t.T=mo()+t.P,ku(t,t.P)}function ku(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ru(yo(t.Va,t),e)}function Ou(t){t.o&&(uo.clearTimeout(t.o),t.o=null)}function Su(t){0==t.g.v||t.A||qs(t.g,t)}function Tu(t){Ou(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Fa(t.R),Ga(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Eu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||os(n.b,t)))if(n.I=t.N,!t.C&&os(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(xm){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Vs(n),xs(n)}Ms(n),eu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ru(yo(n.Sa,n),6e3));if(1>=is(n.b)&&n.ea){try{n.ea()}catch(xm){}n.ea=void 0}}else Hs(n,11)}else if((t.C||n.a==t)&&Vs(n),!To(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var s=1.5*u;n.D=s,n.c.info("backChannelRequestTimeoutMs_="+s)}s=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=s.b;!f.a&&(Co(l,"spdy")||Co(l,"quic")||Co(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(as(f,f.b),f.b=null))}if(s.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(s.na=h,Uu(s.B,s.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=mo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((s=n).la=zs(s,s.C?s.ga:null,s.fa),d.C){us(s.b,d);var p=d,v=s.D;v&&p.setTimeout(v),p.o&&(Ou(p),_u(p)),s.a=d}else Ls(s);0<n.g.length&&Ps(n)}else"stop"!=i[0]&&"close"!=i[0]||Hs(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Hs(n,7):Cs(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);$a(4)}catch(xm){}}function Iu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(co(t)||"string"==typeof t)ko(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(co(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(co(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Cu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Cu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Au(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Au(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Au(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(io=du.prototype).setTimeout=function(t){this.P=t},io.Xa=function(t){t=t.target;var e=this.F;e&&3==Ss(t)?e.f():this.Ca(t)},io.Ca=function(t){try{if(t==this.a)t:{var e=Ss(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Bo&&!this.a.$())){this.A||4!=e||7==n||$a(8==n||0>=r?3:2),Ou(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,u=this.a;if((a=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!To(a)){var s=a;break e}}s=null}if(!s){this.b=!1,this.h=3,eu(12),Tu(this),Su(this);break t}Qa(this.c,this.f,s,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Eu(this,s)}this.I?(bu(this,e,o),Bo&&this.b&&3==e&&(za(this.J,this.R,"tick",this.Wa),this.R.start())):(Qa(this.c,this.f,o,null),Eu(this,o)),4==e&&Tu(this),this.b&&!this.A&&(4==e?qs(this.g,this):(this.b=!1,_u(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,eu(12)):(this.h=0,eu(13)),Tu(this),Su(this)}}}catch(c){}},io.Wa=function(){if(this.a){var t=Ss(this.a),e=this.a.$();this.D<e.length&&(Ou(this),bu(this,t,e),this.b&&4!=t&&_u(this))}},io.cancel=function(){this.A=!0,Tu(this)},io.Va=function(){this.o=null;var t=mo();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&($a(3),eu(17)),Tu(this),this.h=2,Su(this)):ku(this,this.T-t)},(io=Cu.prototype).K=function(){xu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},io.L=function(){return xu(this),this.a.concat()},io.get=function(t,e){return Au(this.b,t)?this.b[t]:e},io.set=function(t,e){Au(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},io.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ju=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Pu){this.a=void 0!==e?e:t.a,Nu(this,t.f),this.j=t.j,Du(this,t.c),Lu(this,t.h),this.g=t.g,e=t.b;var n=new Qu;n.c=e.c,e.a&&(n.a=new Cu(e.a),n.b=e.b),Mu(this,n),this.i=t.i}else t&&(n=String(t).match(ju))?(this.a=!!e,Nu(this,n[1]||"",!0),this.j=Vu(n[2]||""),Du(this,n[3]||"",!0),Lu(this,n[4]),this.g=Vu(n[5]||"",!0),Mu(this,n[6]||"",!0),this.i=Vu(n[7]||"")):(this.a=!!e,this.b=new Qu(null,this.a))}function Ru(t){return new Pu(t)}function Nu(t,e,n){t.f=n?Vu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Du(t,e,n){t.c=n?Vu(e,!0):e}function Lu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Mu(t,e,n){e instanceof Qu?(t.b=e,function(t,e){e&&!t.f&&(Yu(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xu(this,e),Zu(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=qu(e,Gu)),t.b=new Qu(e,t.a))}function Uu(t,e,n){t.b.set(e,n)}function Fu(t){return Uu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^mo()).toString(36)),t}function Vu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qu(e,Hu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qu(e,Hu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(qu(n,"/"==n.charAt(0)?zu:Ku,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",qu(n,Wu)),t.join("")};var Hu=/[#\/\?@]/g,Ku=/[#\?:]/g,zu=/[#\?]/g,Gu=/[#\?@]/g,Wu=/#/g;function Qu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yu(t){t.a||(t.a=new Cu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Xu(t,e){Yu(t),e=$u(t,e),Au(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Au((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xu(t)))}function Ju(t,e){return Yu(t),e=$u(t,e),Au(t.a.b,e)}function Zu(t,e,n){Xu(t,e),0<n.length&&(t.c=null,t.a.set($u(t,e),So(n)),t.b+=n.length)}function $u(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(io=Qu.prototype).add=function(t,e){Yu(this),this.c=null,t=$u(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},io.forEach=function(t,e){Yu(this),this.a.forEach(function(n,r){ko(n,function(n){t.call(e,n,r,this)},this)},this)},io.L=function(){Yu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},io.K=function(t){Yu(this);var e=[];if("string"==typeof t)Ju(this,t)&&(e=Oo(e,this.a.get($u(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Oo(e,t[n])}return e},io.set=function(t,e){return Yu(this),this.c=null,Ju(this,t=$u(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},io.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},io.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ts=function(t,e){this.b=t,this.a=e};function es(t){this.g=t||ns,t=uo.PerformanceNavigationTiming?0<(t=uo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(uo.ia&&uo.ia.ya&&uo.ia.ya()&&uo.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ns=10;function rs(t){return!!t.b||!!t.a&&t.a.size>=t.f}function is(t){return t.b?1:t.a?t.a.size:0}function os(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function as(t,e){t.a?t.a.add(e):t.b=e}function us(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ss(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ro(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return So(t.c)}function cs(){}function ls(){this.a=new cs}function fs(t,e,n){var r=n||"";try{Iu(t,function(t,n){var i=t;lo(t)&&(i=Ia(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(lb){throw e.push(r+"type="+encodeURIComponent("_badmap")),lb}}function hs(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}es.prototype.cancel=function(){var t,e;if(this.c=ss(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ro(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},cs.prototype.stringify=function(t){return uo.JSON.stringify(t,void 0)},cs.prototype.parse=function(t){return uo.JSON.parse(t,void 0)};var ds=uo.JSON.parse;function ps(t){Sa.call(this),this.headers=new Cu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=vs,this.D=this.F=!1}bo(ps,Sa);var vs="",ys=/^https?$/i,gs=["POST","PUT"];function ms(t){return"content-type"==t.toLowerCase()}function bs(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ws(t),ks(t)}function ws(t){t.u||(t.u=!0,Ta(t,"complete"),Ta(t,"error"))}function _s(t){if(t.b&&void 0!==ao&&(!t.s[1]||4!=Ss(t)||2!=t.W()))if(t.l&&4==Ss(t))Va(t.za,0,t);else if(Ta(t,"readystatechange"),4==Ss(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ju)[1]||null;if(!o&&uo.self&&uo.self.location){var a=uo.self.location.protocol;o=a.substr(0,a.length-1)}i=!ys.test(o?o.toLowerCase():"")}e=i}if(e)Ta(t,"complete"),Ta(t,"success");else{t.h=6;try{var u=2<Ss(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",ws(t)}}finally{ks(t)}}}function ks(t,e){if(t.a){Os(t);var n=t.a,r=t.s[0]?so:null;t.a=null,t.s=null,e||Ta(t,"ready");try{n.onreadystatechange=r}catch(lb){}}}function Os(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(uo.clearTimeout(t.m),t.m=null)}function Ss(t){return t.a?t.a.readyState:0}function Ts(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Po(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Uu(t,e,n))}function Es(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Is(t){this.pa=0,this.g=[],this.c=new Wa,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Es("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Es("baseRetryDelayMs",5e3,t),this.Ra=Es("retryDelaySeedMs",1e4,t),this.Ma=Es("forwardChannelMaxRetries",2,t),this.ma=Es("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new es(t&&t.concurrentRequestLimit),this.ka=new ls,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Cs(t){if(As(t),3==t.v){var e=t.R++,n=Ru(t.B);Uu(n,"SID",t.J),Uu(n,"RID",e),Uu(n,"TYPE","terminate"),Ns(t,n),(e=new du(t,t.c,e,void 0)).H=2,e.i=Fu(Ru(n)),n=!1,uo.navigator&&uo.navigator.sendBeacon&&(n=uo.navigator.sendBeacon(e.i.toString(),"")),!n&&uo.Image&&((new Image).src=e.i,n=!0),n||(e.a=Gs(e.g,null),e.a.ba(e.i)),e.u=mo(),_u(e)}Ks(t)}function xs(t){t.a&&(Us(t),t.a.cancel(),t.a=null)}function As(t){xs(t),t.j&&(uo.clearTimeout(t.j),t.j=null),Vs(t),t.b.cancel(),t.h&&("number"==typeof t.h&&uo.clearTimeout(t.h),t.h=null)}function js(t,e){t.g.push(new ts(t.Oa++,e)),3==t.v&&Ps(t)}function Ps(t){rs(t.b)||t.h||(t.h=!0,Na(t.Ba,t),t.u=0)}function Rs(t,e){var n;n=e?e.f:t.R++;var r=Ru(t.B);Uu(r,"SID",t.J),Uu(r,"RID",n),Uu(r,"AID",t.P),Ns(t,r),t.i&&t.l&&Ts(r,t.i,t.l),n=new du(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ds(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),as(t.b,n),gu(n,r,e)}function Ns(t,e){t.f&&Iu({},function(t,n){Uu(e,n,t)})}function Ds(t,e,n){n=Math.min(t.g.length,n);var r=t.f?yo(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var u=!0,s=0;s<n;s++){var c=i[s].b,l=i[s].a;if(0>(c-=o))o=Math.max(0,i[s].b-100),u=!1;else try{fs(l,a,"req"+c+"_")}catch(Sc){r&&r(l)}}if(u){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Ls(t){t.a||t.j||(t.T=1,Na(t.Aa,t),t.o=0)}function Ms(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=ru(yo(t.Aa,t),Bs(t,t.o)),t.o++,0))}function Us(t){null!=t.s&&(uo.clearTimeout(t.s),t.s=null)}function Fs(t){t.a=new du(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ru(t.la);Uu(e,"RID","rpc"),Uu(e,"SID",t.J),Uu(e,"CI",t.H?"0":"1"),Uu(e,"AID",t.P),Ns(t,e),Uu(e,"TYPE","xmlhttp"),t.i&&t.l&&Ts(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Fu(Ru(e)),n.j=null,n.I=!0,mu(n,t)}function Vs(t){null!=t.m&&(uo.clearTimeout(t.m),t.m=null)}function qs(t,e){var n=null;if(t.a==e){Vs(t),Us(t),t.a=null;var r=2}else{if(!os(t.b,e))return;n=e.s,us(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=mo()-e.u;var i=t.u;Ta(r=Ja(),new nu(r,n,e,i)),Ps(t)}else Ls(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(is(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=ru(yo(t.Ba,t,e),Bs(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ms(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Hs(t,5);break;case 4:Hs(t,10);break;case 3:Hs(t,6);break;default:Hs(t,2)}}function Bs(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Hs(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=yo(t.Ya,t);n||(n=new Pu("//www.google.com/images/cleardot.gif"),uo.location&&"http"==uo.location.protocol||Nu(n,"https"),Fu(n)),function(t,e){var n=new Wa;if(uo.Image){var r=new Image;r.onload=go(hs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=go(hs,n,r,"TestLoadImage: error",!1,e),r.onabort=go(hs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=go(hs,n,r,"TestLoadImage: timeout",!1,e),uo.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else eu(2);t.v=0,t.f&&t.f.ra(e),Ks(t),As(t)}function Ks(t){t.v=0,t.I=-1,t.f&&(0==ss(t.b).length&&0==t.g.length||(t.b.c.length=0,So(t.g),t.g.length=0),t.f.qa())}function zs(t,e,n){var r=function(t){return t instanceof Pu?Ru(t):new Pu(t,void 0)}(n);if(""!=r.c)e&&Du(r,e+"."+r.c),Lu(r,r.h);else{var i=uo.location;r=function(t,e,n,r){var i=new Pu(null,void 0);return t&&Nu(i,t),e&&Du(i,e),n&&Lu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Po(t.V,function(t,e){Uu(r,e,t)}),n=t.na,(e=t.A)&&n&&Uu(r,e,n),Uu(r,"VER",t.ha),Ns(t,r),r}function Gs(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ps(t.Na)).F=t.C,e}function Ws(){}function Qs(){if(Vo&&!(10<=Number(Jo)))throw Error("Environmental error: no available transport.")}function Ys(t,e){Sa.call(this),this.a=new Is(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!To(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!To(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Zs(this)}function Xs(t){lu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Js(){fu.call(this),this.status=1}function Zs(t){this.a=t}(io=ps.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:su),this.a.onreadystatechange=yo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void bs(this,o)}t=n||"";var i=new Cu(this.headers);r&&Iu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=ms,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=uo.FormData&&t instanceof uo.FormData,!(0<=_o(gs,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Os(this),0<this.o&&((this.D=function(t){return Vo&&Xo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=yo(this.xa,this)):this.m=Va(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){bs(this,o)}},io.xa=function(){void 0!==ao&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ta(this,"timeout"),this.abort(8))},io.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ta(this,"complete"),Ta(this,"abort"),ks(this))},io.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ks(this,!0)),ps.X.G.call(this)},io.za=function(){this.j||(this.A||this.l||this.g?_s(this):this.Ua())},io.Ua=function(){_s(this)},io.W=function(){try{return 2<Ss(this)?this.a.status:-1}catch(Uo){return-1}},io.$=function(){try{return this.a?this.a.responseText:""}catch(Uo){return""}},io.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ds(e)}},io.ua=function(){return this.h},io.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(io=Is.prototype).ha=8,io.v=1,io.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new du(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Do(r=Ro(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ds(this,n,e),Uu(i=Ru(this.B),"RID",t),Uu(i,"CVER",22),this.A&&Uu(i,"X-HTTP-Session-Id",this.A),Ns(this,i),this.i&&r&&Ts(i,this.i,r),as(this.b,n),this.Ia&&Uu(i,"TYPE","init"),this.da?(Uu(i,"$req",e),Uu(i,"SID","null"),n.U=!0,gu(n,i,null)):gu(n,i,e),this.v=2}}else 3==this.v&&(t?Rs(this,t):0==this.g.length||rs(this.b)||Rs(this))},io.Aa=function(){if(this.j=null,Fs(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ru(yo(this.Ta,this),t)}},io.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,eu(10),xs(this),Fs(this))},io.Sa=function(){null!=this.m&&(this.m=null,xs(this),Ms(this),eu(19))},io.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),eu(2)):(this.c.info("Failed to ping google.com"),eu(1))},(io=Ws.prototype).ta=function(){},io.sa=function(){},io.ra=function(){},io.qa=function(){},io.Ja=function(){},Qs.prototype.a=function(t,e){return new Ys(t,e)},bo(Ys,Sa),Ys.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;eu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=zs(t,null,t.fa),Ps(t)},Ys.prototype.close=function(){Cs(this.a)},Ys.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,js(this.a,e)}else this.l?((e={}).__data__=Ia(t),js(this.a,e)):js(this.a,t)},Ys.prototype.G=function(){this.a.f=null,delete this.f,Cs(this.a),delete this.a,Ys.X.G.call(this)},bo(Xs,lu),bo(Js,fu),bo(Zs,Ws),Zs.prototype.ta=function(){Ta(this.a,"a")},Zs.prototype.sa=function(t){Ta(this.a,new Xs(t))},Zs.prototype.ra=function(t){Ta(this.a,new Js(t))},Zs.prototype.qa=function(){Ta(this.a,"b")},Qs.prototype.createWebChannel=Qs.prototype.a,Ys.prototype.send=Ys.prototype.h,Ys.prototype.open=Ys.prototype.g,Ys.prototype.close=Ys.prototype.close,iu.NO_ERROR=0,iu.TIMEOUT=8,iu.HTTP_ERROR=6,ou.COMPLETE="complete",uu.EventType=cu,cu.OPEN="a",cu.CLOSE="b",cu.ERROR="c",cu.MESSAGE="d",Sa.prototype.listen=Sa.prototype.va,ps.prototype.listenOnce=ps.prototype.wa,ps.prototype.getLastError=ps.prototype.Qa,ps.prototype.getLastErrorCode=ps.prototype.ua,ps.prototype.getStatus=ps.prototype.W,ps.prototype.getResponseJson=ps.prototype.Pa,ps.prototype.getResponseText=ps.prototype.$,ps.prototype.send=ps.prototype.ba;var $s=iu,tc=ou,ec=Ya,nc=uu,rc=ps,ic=o("mrSG"),oc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();oc.o=-1;var ac={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},uc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ic.c)(e,t),e}(Error),sc=new eo.b("@firebase/firestore");function cc(){return sc.logLevel}function lc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(sc.logLevel<=eo.a.DEBUG){var r=e.map(dc);sc.debug.apply(sc,Object(ic.f)(["Firestore (8.3.2): "+t],r))}}function fc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(sc.logLevel<=eo.a.ERROR){var r=e.map(dc);sc.error.apply(sc,Object(ic.f)(["Firestore (8.3.2): "+t],r))}}function hc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(sc.logLevel<=eo.a.WARN){var r=e.map(dc);sc.warn.apply(sc,Object(ic.f)(["Firestore (8.3.2): "+t],r))}}function dc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(lb){return t}}function pc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.2) INTERNAL ASSERTION FAILED: "+t;throw fc(e),new Error(e)}function vc(t,e){t||pc()}function yc(t,e){return t}function gc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var mc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=gc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function bc(t,e){return t<e?-1:t>e?1:0}function wc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function _c(t){return t+"\0"}var kc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new uc(ac.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new uc(ac.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new uc(ac.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new uc(ac.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?bc(this.nanoseconds,t.nanoseconds):bc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Oc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new kc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Sc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ec(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ic=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&pc(),void 0===n?n=t.length-e:n>t.length-e&&pc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Cc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ic.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new uc(ac.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Ic),xc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ac=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ic.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return xc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new uc(ac.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new uc(ac.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new uc(ac.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=s,i+=2}else"`"===u?(a=!a,i++):"."!==u||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new uc(ac.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Ic),jc=function(){function t(t){this.fields=t,t.sort(Ac.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return wc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Pc=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return bc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Pc.EMPTY_BYTE_STRING=new Pc("");var Rc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nc(t){if(vc(!!t),"string"==typeof t){var e=0,n=Rc.exec(t);if(vc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dc(t.seconds),nanos:Dc(t.nanos)}}function Dc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Lc(t){return"string"==typeof t?Pc.fromBase64String(t):Pc.fromUint8Array(t)}function Mc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Uc(t){var e=t.mapValue.fields.__previous_value__;return Mc(e)?Uc(e):e}function Fc(t){var e=Nc(t.mapValue.fields.__local_write_time__.timestampValue);return new kc(e.seconds,e.nanos)}function Vc(t){return null==t}function qc(t){return 0===t&&1/t==-1/0}function Bc(t){return"number"==typeof t&&Number.isInteger(t)&&!qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Hc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Cc.fromString(e))},t.fromName=function(e){return new t(Cc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Cc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Cc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Cc(e.slice()))},t}();function Kc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mc(t)?4:10:pc()}function zc(t,e){var n=Kc(t);if(n!==Kc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fc(t).isEqual(Fc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Nc(t.timestampValue),r=Nc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Lc(t.bytesValue).isEqual(Lc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Dc(t.geoPointValue.latitude)===Dc(e.geoPointValue.latitude)&&Dc(t.geoPointValue.longitude)===Dc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Dc(t.integerValue)===Dc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Dc(t.doubleValue),r=Dc(e.doubleValue);return n===r?qc(n)===qc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return wc(t.arrayValue.values||[],e.arrayValue.values||[],zc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Sc(n)!==Sc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zc(n[i],r[i])))return!1;return!0}(t,e);default:return pc()}}function Gc(t,e){return void 0!==(t.values||[]).find(function(t){return zc(t,e)})}function Wc(t,e){var n=Kc(t),r=Kc(e);if(n!==r)return bc(n,r);switch(n){case 0:return 0;case 1:return bc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Dc(t.integerValue||t.doubleValue),r=Dc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Qc(t.timestampValue,e.timestampValue);case 4:return Qc(Fc(t),Fc(e));case 5:return bc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Lc(t),r=Lc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=bc(n[i],r[i]);if(0!==o)return o}return bc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=bc(Dc(t.latitude),Dc(e.latitude));return 0!==n?n:bc(Dc(t.longitude),Dc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Wc(n[i],r[i]);if(o)return o}return bc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var u=bc(r[a],o[a]);if(0!==u)return u;var s=Wc(n[r[a]],i[o[a]]);if(0!==s)return s}return bc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw pc()}}function Qc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return bc(t,e);var n=Nc(t),r=Nc(e),i=bc(n.seconds,r.seconds);return 0!==i?i:bc(n.nanos,r.nanos)}function Yc(t){return Xc(t)}function Xc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Nc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Lc(t.bytesValue).toBase64():"referenceValue"in t?Hc.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Xc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Xc(t.fields[o])}return e+"}"}(t.mapValue):pc();var e}function Jc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Zc(t){return!!t&&"integerValue"in t}function $c(t){return!!t&&"arrayValue"in t}function tl(t){return!!t&&"nullValue"in t}function el(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nl(t){return!!t&&"mapValue"in t}var rl=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Ac.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return zc(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Kc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),a=nl(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(a[n]=o,i=!0)}else null!==t?(a[n]=t,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)}),i?{mapValue:{fields:a}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Ac.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!nl(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function il(t){var e=[];return Tc(t.fields||{},function(t,n){var r=new Ac([t]);if(nl(n)){var i=il(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)}),new jc(e)}var ol=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Oc.min(),rl.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,rl.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,rl.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=rl.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=rl.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),al=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function ul(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new al(t,e,n,r,i,o,a)}function sl(t){var e=yc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Yc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Vc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=_l(e.startAt)),e.endAt&&(n+="|ub:",n+=_l(e.endAt)),e.h=n}return e.h}function cl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ol(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!zc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Tl(t.startAt,e.startAt)&&Tl(t.endAt,e.endAt)}function ll(t){return Hc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var fl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ic.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new hl(t,n,r):"array-contains"===n?new yl(t,r):"in"===n?new gl(t,r):"not-in"===n?new ml(t,r):"array-contains-any"===n?new bl(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new dl(t,n):new pl(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Wc(e,this.value)):null!==e&&Kc(this.value)===Kc(e)&&this.m(Wc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return pc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),hl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Hc.fromName(r.referenceValue),i}return Object(ic.c)(e,t),e.prototype.matches=function(t){var e=Hc.comparator(t.key,this.key);return this.m(e)},e}(fl),dl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=vl(0,n),r}return Object(ic.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(fl),pl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=vl(0,n),r}return Object(ic.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(fl);function vl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Hc.fromName(t.referenceValue)})}var yl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ic.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return $c(e)&&Gc(e.arrayValue,this.value)},e}(fl),gl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ic.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Gc(this.value.arrayValue,e)},e}(fl),ml=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ic.c)(e,t),e.prototype.matches=function(t){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Gc(this.value.arrayValue,e)},e}(fl),bl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ic.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!$c(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Gc(e.value.arrayValue,t)})},e}(fl),wl=function(t,e){this.position=t,this.before=e};function _l(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Yc(t)}).join(",")}var kl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ol(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Sl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Hc.comparator(Hc.fromName(a.referenceValue),n.key):Wc(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Tl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!zc(t.position[n],e.position[n]))return!1;return!0}var El=function(t,e,n,r,i,o,a,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null};function Il(t,e,n,r,i,o,a,u){return new El(t,e,n,r,i,o,a,u)}function Cl(t){return new El(t)}function xl(t){return!Vc(t.limit)&&"F"===t.limitType}function Al(t){return!Vc(t.limit)&&"L"===t.limitType}function jl(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Pl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Rl(t){return null!==t.collectionGroup}function Nl(t){var e=yc(t);if(null===e.p){e.p=[];var n=Pl(e),r=jl(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new kl(n)),e.p.push(new kl(Ac.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var u=a[o];e.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new kl(Ac.keyField(),s))}}}return e.p}function Dl(t){var e=yc(t);if(!e.T)if("F"===e.limitType)e.T=ul(e.path,e.collectionGroup,Nl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Nl(e);r<i.length;r++){var o=i[r];n.push(new kl(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new wl(e.endAt.position,!e.endAt.before):null,u=e.startAt?new wl(e.startAt.position,!e.startAt.before):null;e.T=ul(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function Ll(t,e,n){return new El(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ml(t,e){return cl(Dl(t),Dl(e))&&t.limitType===e.limitType}function Ul(t){return sl(Dl(t))+"|lt:"+t.limitType}function Fl(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Yc(e.value);var e}).join(", ")+"]"),Vc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+_l(t.startAt)),t.endAt&&(e+=", endAt: "+_l(t.endAt)),"Target("+e+")"}(Dl(t))+"; limitType="+t.limitType+")"}function Vl(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Hc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Sl(t.startAt,Nl(t),e)||t.endAt&&Sl(t.endAt,Nl(t),e))}(t,e)}function ql(t){return function(e,n){for(var r=!1,i=0,o=Nl(t);i<o.length;i++){var a=o[i],u=Bl(a,e,n);if(0!==u)return u;r=r||a.field.isKeyField()}return 0}}function Bl(t,e,n){var r=t.field.isKeyField()?Hc.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Wc(r,i):pc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pc()}}function Hl(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function Kl(t){return{integerValue:""+t}}function zl(t,e){return Bc(e)?Kl(e):Hl(t,e)}var Gl=function(){this._=void 0};function Wl(t,e,n){return t instanceof Xl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Jl?Zl(t,e):t instanceof $l?tf(t,e):function(t,e){var n=Yl(t,e),r=nf(n)+nf(t.A);return Zc(n)&&Zc(t.A)?Kl(r):Hl(t.R,r)}(t,e)}function Ql(t,e,n){return t instanceof Jl?Zl(t,e):t instanceof $l?tf(t,e):n}function Yl(t,e){return t instanceof ef?Zc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Xl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ic.c)(e,t),e}(Gl),Jl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ic.c)(e,t),e}(Gl);function Zl(t,e){for(var n=rf(e),r=function(t){n.some(function(e){return zc(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var $l=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ic.c)(e,t),e}(Gl);function tf(t,e){for(var n=rf(e),r=function(t){n=n.filter(function(e){return!zc(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ef=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(ic.c)(e,t),e}(Gl);function nf(t){return Dc(t.integerValue||t.doubleValue)}function rf(t){return $c(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var of=function(t,e){this.field=t,this.transform=e},af=function(t,e){this.version=t,this.transformResults=e},uf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function sf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var cf=function(){};function lf(t,e,n){t instanceof vf?function(t,e,n){var r=t.value.clone(),i=mf(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof yf?function(t,e,n){if(sf(t.precondition,e)){var r=mf(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(gf(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ff(t,e,n){t instanceof vf?function(t,e,n){if(sf(t.precondition,e)){var r=t.value.clone(),i=bf(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(pf(e),r).setHasLocalMutations()}}(t,e,n):t instanceof yf?function(t,e,n){if(sf(t.precondition,e)){var r=bf(t.fieldTransforms,n,e),i=e.data;i.setAll(gf(t)),i.setAll(r),e.convertToFoundDocument(pf(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){sf(t.precondition,e)&&e.convertToNoDocument(Oc.min())}(t,e)}function hf(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),u=Yl(o.transform,a||null);null!=u&&(null==n&&(n=rl.empty()),n.set(o.field,u))}return n||null}function df(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&wc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Jl&&e instanceof Jl||t instanceof $l&&e instanceof $l?wc(t.elements,e.elements,zc):t instanceof ef&&e instanceof ef?zc(t.A,e.A):t instanceof Xl&&e instanceof Xl}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function pf(t){return t.isFoundDocument()?t.version:Oc.min()}var vf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(ic.c)(e,t),e}(cf),yf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(ic.c)(e,t),e}(cf);function gf(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function mf(t,e,n){var r=new Map;vc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,Ql(a,u,n[i]))}return r}function bf(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],u=a.transform,s=n.data.field(a.field);r.set(a.field,Wl(u,s,e))}return r}var wf,_f,kf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(ic.c)(e,t),e}(cf),Of=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(ic.c)(e,t),e}(cf),Sf=function(t){this.count=t};function Tf(t){switch(t){case ac.OK:return pc();case ac.CANCELLED:case ac.UNKNOWN:case ac.DEADLINE_EXCEEDED:case ac.RESOURCE_EXHAUSTED:case ac.INTERNAL:case ac.UNAVAILABLE:case ac.UNAUTHENTICATED:return!1;case ac.INVALID_ARGUMENT:case ac.NOT_FOUND:case ac.ALREADY_EXISTS:case ac.PERMISSION_DENIED:case ac.FAILED_PRECONDITION:case ac.ABORTED:case ac.OUT_OF_RANGE:case ac.UNIMPLEMENTED:case ac.DATA_LOSS:return!0;default:return pc()}}function Ef(t){if(void 0===t)return fc("GRPC error has no .code"),ac.UNKNOWN;switch(t){case wf.OK:return ac.OK;case wf.CANCELLED:return ac.CANCELLED;case wf.UNKNOWN:return ac.UNKNOWN;case wf.DEADLINE_EXCEEDED:return ac.DEADLINE_EXCEEDED;case wf.RESOURCE_EXHAUSTED:return ac.RESOURCE_EXHAUSTED;case wf.INTERNAL:return ac.INTERNAL;case wf.UNAVAILABLE:return ac.UNAVAILABLE;case wf.UNAUTHENTICATED:return ac.UNAUTHENTICATED;case wf.INVALID_ARGUMENT:return ac.INVALID_ARGUMENT;case wf.NOT_FOUND:return ac.NOT_FOUND;case wf.ALREADY_EXISTS:return ac.ALREADY_EXISTS;case wf.PERMISSION_DENIED:return ac.PERMISSION_DENIED;case wf.FAILED_PRECONDITION:return ac.FAILED_PRECONDITION;case wf.ABORTED:return ac.ABORTED;case wf.OUT_OF_RANGE:return ac.OUT_OF_RANGE;case wf.UNIMPLEMENTED:return ac.UNIMPLEMENTED;case wf.DATA_LOSS:return ac.DATA_LOSS;default:return pc()}}(_f=wf||(wf={}))[_f.OK=0]="OK",_f[_f.CANCELLED=1]="CANCELLED",_f[_f.UNKNOWN=2]="UNKNOWN",_f[_f.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_f[_f.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_f[_f.NOT_FOUND=5]="NOT_FOUND",_f[_f.ALREADY_EXISTS=6]="ALREADY_EXISTS",_f[_f.PERMISSION_DENIED=7]="PERMISSION_DENIED",_f[_f.UNAUTHENTICATED=16]="UNAUTHENTICATED",_f[_f.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_f[_f.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_f[_f.ABORTED=10]="ABORTED",_f[_f.OUT_OF_RANGE=11]="OUT_OF_RANGE",_f[_f.UNIMPLEMENTED=12]="UNIMPLEMENTED",_f[_f.INTERNAL=13]="INTERNAL",_f[_f.UNAVAILABLE=14]="UNAVAILABLE",_f[_f.DATA_LOSS=15]="DATA_LOSS";var If=function(){function t(t,e){this.comparator=t,this.root=e||xf.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xf.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xf.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Cf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Cf(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Cf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Cf(this.root,t,this.comparator,!0)},t}(),Cf=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),xf=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw pc();if(this.right.isRed())throw pc();var t=this.left.check();if(t!==this.right.check())throw pc();return t+(this.isRed()?0:1)},t}();xf.EMPTY=null,xf.RED=!0,xf.BLACK=!1,xf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw pc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw pc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw pc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw pc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw pc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new xf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Af=function(){function t(t){this.comparator=t,this.data=new If(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new jf(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new jf(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),jf=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Pf=new If(Hc.comparator);function Rf(){return Pf}var Nf=new If(Hc.comparator);function Df(){return Nf}var Lf=new If(Hc.comparator);function Mf(){return Lf}var Uf=new Af(Hc.comparator);function Ff(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Uf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Vf=new Af(bc);function qf(){return Vf}var Bf=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Hf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Oc.min(),r,qf(),Rf(),Ff())},t}(),Hf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Pc.EMPTY_BYTE_STRING,n,Ff(),Ff(),Ff())},t}(),Kf=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},zf=function(t,e){this.targetId=t,this.V=e},Gf=function(t,e,n,r){void 0===n&&(n=Pc.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Wf=function(){function t(){this.S=0,this.D=Xf(),this.C=Pc.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Ff(),e=Ff(),n=Ff();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:pc()}}),new Hf(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Xf()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Qf=function(){function t(t){this.W=t,this.G=new Map,this.H=Rf(),this.J=Yf(),this.Y=new Af(bc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:pc()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(ll(i))if(0===n){var o=new Hc(i.path);this.tt(e,o,ol.newNoDocument(o,Oc.min()))}else vc(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&ll(o.target)){var a=new Hc(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,ol.newNoDocument(a,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=Ff();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Bf(t,n,this.Y,this.H,r);return this.H=Rf(),this.J=Yf(),this.Y=new Af(bc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Wf,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Af(bc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||lc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Wf),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Yf(){return new If(Hc.comparator)}function Xf(){return new If(Hc.comparator)}var Jf={asc:"ASCENDING",desc:"DESCENDING"},Zf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$f=function(t,e){this.databaseId=t,this.I=e};function th(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function eh(t,e){return t.I?e.toBase64():e.toUint8Array()}function nh(t,e){return th(t,e.toTimestamp())}function rh(t){return vc(!!t),Oc.fromTimestamp(function(t){var e=Nc(t);return new kc(e.seconds,e.nanos)}(t))}function ih(t,e){return function(t){return new Cc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function oh(t){var e=Cc.fromString(t);return vc(xh(e)),e}function ah(t,e){return ih(t.databaseId,e.path)}function uh(t,e){var n=oh(e);if(n.get(1)!==t.databaseId.projectId)throw new uc(ac.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new uc(ac.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Hc(fh(n))}function sh(t,e){return ih(t.databaseId,e)}function ch(t){var e=oh(t);return 4===e.length?Cc.emptyPath():fh(e)}function lh(t){return new Cc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fh(t){return vc(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function hh(t,e,n){return{name:ah(t,e),fields:n.toProto().mapValue.fields}}function dh(t,e,n){var r=uh(t,e.name),i=rh(e.updateTime),o=new rl({mapValue:{fields:e.fields}}),a=ol.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ph(t,e){var n;if(e instanceof vf)n={update:hh(t,e.key,e.value)};else if(e instanceof kf)n={delete:ah(t,e.key)};else if(e instanceof yf)n={update:hh(t,e.key,e.data),updateMask:Ch(e.fieldMask)};else{if(!(e instanceof Of))return pc();n={verify:ah(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Xl)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jl)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $l)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ef)return{fieldPath:e.field.canonicalString(),increment:n.A};throw pc()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:nh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:pc()}(t,e.precondition)),n}function vh(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?uf.updateTime(rh(t.updateTime)):void 0!==t.exists?uf.exists(t.exists):uf.none()}(e.currentDocument):uf.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(vc("REQUEST_TIME"===e.setToServerValue),n=new Xl):"appendMissingElements"in e?n=new Jl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new $l(e.removeAllFromArray.values||[]):"increment"in e?n=new ef(t,e.increment):pc();var r=Ac.fromServerFormat(e.fieldPath);return new of(r,n)}(t,e)}):[];if(e.update){var i=uh(t,e.update.name),o=new rl({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new jc((t.fieldPaths||[]).map(function(t){return Ac.fromServerFormat(t)}))}(e.updateMask);return new yf(i,o,a,n,r)}return new vf(i,o,n,r)}if(e.delete){var u=uh(t,e.delete);return new kf(u,n)}if(e.verify){var s=uh(t,e.verify);return new Of(s,n)}return pc()}function yh(t,e){return{documents:[sh(t,e.path)]}}function gh(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=sh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=sh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(el(t.value))return{unaryFilter:{field:Sh(t.field),op:"IS_NAN"}};if(tl(t.value))return{unaryFilter:{field:Sh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(el(t.value))return{unaryFilter:{field:Sh(t.field),op:"IS_NOT_NAN"}};if(tl(t.value))return{unaryFilter:{field:Sh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sh(t.field),op:Oh(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Sh(t.field),direction:kh(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||Vc(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=wh(e.startAt)),e.endAt&&(n.structuredQuery.endAt=wh(e.endAt)),n}function mh(t){var e=ch(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){vc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=bh(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new kl(Th(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var s=null;n.limit&&(s=function(t){var e;return Vc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=_h(n.startAt));var l=null;return n.endAt&&(l=_h(n.endAt)),Il(e,i,u,a,s,"F",c,l)}function bh(t){return t?void 0!==t.unaryFilter?[Ih(t)]:void 0!==t.fieldFilter?[Eh(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return bh(t)}).reduce(function(t,e){return t.concat(e)}):pc():[]}function wh(t){return{before:t.before,values:t.position}}function _h(t){return new wl(t.values||[],!!t.before)}function kh(t){return Jf[t]}function Oh(t){return Zf[t]}function Sh(t){return{fieldPath:t.canonicalString()}}function Th(t){return Ac.fromServerFormat(t.fieldPath)}function Eh(t){return fl.create(Th(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return pc()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ih(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Th(t.unaryFilter.field);return fl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Th(t.unaryFilter.field);return fl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Th(t.unaryFilter.field);return fl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Th(t.unaryFilter.field);return fl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return pc()}}function Ch(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function xh(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Ah(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ph(e)),e=jh(t.get(n),e);return Ph(e)}function jh(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ph(t){return t+"\x01\x01"}function Rh(t){var e=t.length;if(vc(e>=2),2===e)return vc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Cc.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&pc(),t.charAt(a+1)){case"\x01":var u=t.substring(o,a),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:pc()}o=a+2}return new Cc(r)}var Nh=function(t,e){this.seconds=t,this.nanoseconds=e},Dh=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Dh.store="owner",Dh.key="owner";var Lh=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Lh.store="mutationQueues",Lh.keyPath="userId";var Mh=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Mh.store="mutations",Mh.keyPath="batchId",Mh.userMutationsIndex="userMutationsIndex",Mh.userMutationsKeyPath=["userId","batchId"];var Uh=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ah(e)]},t.key=function(t,e,n){return[t,Ah(e),n]},t}();Uh.store="documentMutations",Uh.PLACEHOLDER=new Uh;var Fh=function(t,e){this.path=t,this.readTime=e},Vh=function(t,e){this.path=t,this.version=e},qh=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};qh.store="remoteDocuments",qh.readTimeIndex="readTimeIndex",qh.readTimeIndexPath="readTime",qh.collectionReadTimeIndex="collectionReadTimeIndex",qh.collectionReadTimeIndexPath=["parentPath","readTime"];var Bh=function(t){this.byteSize=t};Bh.store="remoteDocumentGlobal",Bh.key="remoteDocumentGlobalKey";var Hh=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Hh.store="targets",Hh.keyPath="targetId",Hh.queryTargetsIndexName="queryTargetsIndex",Hh.queryTargetsKeyPath=["canonicalId","targetId"];var Kh=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Kh.store="targetDocuments",Kh.keyPath=["targetId","path"],Kh.documentTargetsIndex="documentTargetsIndex",Kh.documentTargetsKeyPath=["path","targetId"];var zh=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};zh.key="targetGlobalKey",zh.store="targetGlobal";var Gh=function(t,e){this.collectionId=t,this.parent=e};Gh.store="collectionParents",Gh.keyPath=["collectionId","parent"];var Wh=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Wh.store="clientMetadata",Wh.keyPath="clientId";var Qh=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Qh.store="bundles",Qh.keyPath="bundleId";var Yh=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Yh.store="namedQueries",Yh.keyPath="name";var Xh=Object(ic.f)(Object(ic.f)([],Object(ic.f)(Object(ic.f)([],Object(ic.f)(Object(ic.f)([],Object(ic.f)(Object(ic.f)([],[Lh.store,Mh.store,Uh.store,qh.store,Hh.store,Dh.store,zh.store,Kh.store]),[Wh.store])),[Bh.store])),[Gh.store])),[Qh.store,Yh.store]),Jh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zh=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),$h=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},td=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&pc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),ed=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new $h,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new id(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=cd(e.target.error);n.ft.reject(new id(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new id(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(lc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ad(e)},t}(),nd=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(to.i)())&&fc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return lc("SimpleDb","Removing database:",t),ud(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(to.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(ic.b)(this,void 0,void 0,function(){var e,n=this;return Object(ic.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(lc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new id(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new uc(ac.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new id(t,n))},i.onupgradeneeded=function(t){lc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){lc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ic.b)(this,void 0,void 0,function(){var i,o,a,u,s;return Object(ic.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,s,c,l;return Object(ic.d)(this,function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=f.sent(),e=ed.open(u.db,t,i?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),td.reject(t)}).toPromise(),s={},a.catch(function(){}),[4,e.dt];case 3:return[2,(s.value=(f.sent(),a),s)];case 4:return lc("SimpleDb","Transaction failed with error:",(c=f.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(s=c.sent()))return[2,s.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),rd=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return ud(this.Pt.delete())},t}(),id=function(t){function e(e,n){var r=this;return(r=t.call(this,ac.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ic.c)(e,t),e}(uc);function od(t){return"IndexedDbTransactionError"===t.name}var ad=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(lc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(lc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ud(n)},t.prototype.add=function(t){return lc("SimpleDb","ADD",this.store.name,t,t),ud(this.store.add(t))},t.prototype.get=function(t){var e=this;return ud(this.store.get(t)).next(function(n){return void 0===n&&(n=null),lc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return lc("SimpleDb","DELETE",this.store.name,t),ud(this.store.delete(t))},t.prototype.count=function(){return lc("SimpleDb","COUNT",this.store.name),ud(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){lc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new td(function(n,r){e.onerror=function(t){var e=cd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new td(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new rd(i),a=e(i.primaryKey,i.value,o);if(a instanceof td){var u=a.catch(function(t){return o.done(),td.reject(t)});n.push(u)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return td.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ud(t){return new td(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=cd(t.target.error);n(e)}})}var sd=!1;function cd(t){var e=nd._t(Object(to.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new uc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sd||(sd=!0,setTimeout(function(){throw r},0)),r}}return t}var ld=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(ic.c)(e,t),e}(Zh);function fd(t,e){var n=yc(t);return nd.It(n.Mt,e)}var hd=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&lf(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&ff(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&ff(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Oc.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ff())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&wc(this.mutations,t.mutations,function(t,e){return df(t,e)})&&wc(this.baseMutations,t.baseMutations,function(t,e){return df(t,e)})},t}(),dd=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){vc(e.mutations.length===r.length);for(var i=Mf(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),pd=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Oc.min()),void 0===o&&(o=Oc.min()),void 0===a&&(a=Pc.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),vd=function(t){this.Lt=t};function yd(t,e){if(e.document)return dh(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Hc.fromSegments(e.noDocument.path),r=_d(e.noDocument.readTime),i=ol.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Hc.fromSegments(e.unknownDocument.path);return r=_d(e.unknownDocument.version),ol.newUnknownDocument(o,r)}return pc()}function gd(t,e,n){var r=md(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:ah(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:th(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new qh(null,null,o,a,r,i)}if(e.isNoDocument()){var u=e.key.path.toArray(),s=wd(e.version);return a=e.hasCommittedMutations,new qh(null,new Fh(u,s),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=wd(e.version);return new qh(new Vh(c,l),null,null,!0,r,i)}return pc()}function md(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function bd(t){var e=new kc(t[0],t[1]);return Oc.fromTimestamp(e)}function wd(t){var e=t.toTimestamp();return new Nh(e.seconds,e.nanoseconds)}function _d(t){var e=new kc(t.seconds,t.nanoseconds);return Oc.fromTimestamp(e)}function kd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return vh(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return vh(t.Lt,e)}),o=kc.fromMillis(e.localWriteTimeMs);return new hd(e.batchId,o,n,i)}function Od(t){var e,n,r=_d(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?_d(t.lastLimboFreeSnapshotVersion):Oc.min();return void 0!==t.query.documents?(vc(1===(n=t.query).documents.length),e=Dl(Cl(ch(n.documents[0])))):e=function(t){return Dl(mh(t))}(t.query),new pd(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Pc.fromBase64String(t.resumeToken))}function Sd(t,e){var n,r=wd(e.snapshotVersion),i=wd(e.lastLimboFreeSnapshotVersion);n=ll(e.target)?yh(t.Lt,e.target):gh(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Hh(e.targetId,sl(e.target),r,o,e.sequenceNumber,i,n)}function Td(t){var e=mh({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ll(e,e.limit,"L"):e}var Ed=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Id(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:_d(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Id(t).put({bundleId:(n=e).id,createTime:wd(rh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Cd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Td(e.bundledQuery),readTime:_d(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Cd(t).put(function(t){return{name:t.name,readTime:wd(rh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Id(t){return fd(t,Qh.store)}function Cd(t){return fd(t,Yh.store)}var xd=function(){function t(){this.Bt=new Ad}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),td.resolve()},t.prototype.getCollectionParents=function(t,e){return td.resolve(this.Bt.getEntries(e))},t}(),Ad=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Af(Cc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Af(Cc.comparator)).toArray()},t}(),jd=function(){function t(){this.qt=new Ad}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Ah(i)};return Pd(t).put(o)}return td.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[_c(e),""],!1,!0);return Pd(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Rh(o.parent))}return n})},t}();function Pd(t){return fd(t,Gh.store)}var Rd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nd=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Dd(t,e,n){var r=t.store(Mh.store),i=t.store(Uh.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,s=r.Ot({range:a},function(t,e,n){return u++,n.delete()});o.push(s.next(function(){vc(1===u)}));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=Uh.key(e,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return td.waitFor(o).next(function(){return c})}function Ld(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pc();e=t.noDocument}return JSON.stringify(e).length}Nd.DEFAULT_COLLECTION_PERCENTILE=10,Nd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nd.DEFAULT=new Nd(41943040,Nd.DEFAULT_COLLECTION_PERCENTILE,Nd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nd.DISABLED=new Nd(-1,0,0);var Md=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return vc(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fd(t).Ot({index:Mh.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Vd(t),a=Fd(t);return a.add({}).next(function(u){vc("number"==typeof u);for(var s=new hd(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ph(t.Lt,e)}),i=n.mutations.map(function(e){return ph(t.Lt,e)});return new Mh(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,s),l=[],f=new Af(function(t,e){return bc(t.canonicalString(),e.canonicalString())}),h=0,d=r;h<d.length;h++){var p=d[h],v=Uh.key(i.userId,p.key.path,u);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Uh.PLACEHOLDER))}return f.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[u]=s.keys()}),td.waitFor(l).next(function(){return s})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Fd(t).get(e).next(function(t){return t?(vc(t.userId===n.userId),kd(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?td.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Fd(t).Ot({index:Mh.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(vc(e.batchId>=r),o=kd(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Fd(t).Ot({index:Mh.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fd(t).Nt(Mh.userMutationsIndex,n).next(function(t){return t.map(function(t){return kd(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Uh.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Vd(t).Ot({range:i},function(r,i,a){var u=r[0],s=r[2],c=Rh(r[1]);if(u===n.userId&&e.path.isEqual(c))return Fd(t).get(s).next(function(t){if(!t)throw pc();vc(t.userId===n.userId),o.push(kd(n.R,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Af(bc),i=[];return e.forEach(function(e){var o=Uh.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),u=Vd(t).Ot({range:a},function(t,i,o){var a=t[0],u=t[2],s=Rh(t[1]);a===n.userId&&e.path.isEqual(s)?r=r.add(u):o.done()});i.push(u)}),td.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Uh.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),u=new Af(bc);return Vd(t).Ot({range:a},function(t,e,o){var a=t[0],s=t[2],c=Rh(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(u=u.add(s)):o.done()}).next(function(){return n.Wt(t,u)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Fd(t).get(e).next(function(t){if(null===t)throw pc();vc(t.userId===n.userId),r.push(kd(n.R,t))}))}),td.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Dd(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),td.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return td.resolve();var r=IDBKeyRange.lowerBound(Uh.prefixForUser(e.userId)),i=[];return Vd(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=Rh(t[1]);i.push(o)}else r.done()}).next(function(){vc(0===i.length)})})},t.prototype.containsKey=function(t,e){return Ud(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return qd(t).get(this.userId).next(function(t){return t||new Lh(e.userId,-1,"")})},t}();function Ud(t,e,n){var r=Uh.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Vd(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function Fd(t){return fd(t,Mh.store)}function Vd(t){return fd(t,Uh.store)}function qd(t){return fd(t,Lh.store)}var Bd=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Hd=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Bd(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Oc.fromTimestamp(new kc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Kd(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return vc(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Kd(t).Ot(function(a,u){var s=Od(u);s.sequenceNumber<=e&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(t,s)))}).next(function(){return td.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Kd(t).Ot(function(t,n){var r=Od(n);e(r)})},t.prototype.Xt=function(t){return zd(t).get(zh.key).next(function(t){return vc(null!==t),t})},t.prototype.Zt=function(t,e){return zd(t).put(zh.key,e)},t.prototype.te=function(t,e){return Kd(t).put(Sd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=sl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Kd(t).Ot({range:r,index:Hh.queryTargetsIndexName},function(t,n,r){var o=Od(n);cl(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Gd(t);return e.forEach(function(e){var a=Ah(e.path);i.push(o.put(new Kh(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),td.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Gd(t);return td.forEach(e,function(e){var o=Ah(e.path);return td.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Gd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Gd(t),i=Ff();return r.Ot({range:n,kt:!0},function(t,e,n){var r=Rh(t[1]),o=new Hc(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Ah(e.path),r=IDBKeyRange.bound([n],[_c(n)],!1,!0),i=0;return Gd(t).Ot({index:Kh.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Kd(t).get(e).next(function(t){return t?Od(t):null})},t}();function Kd(t){return fd(t,Hh.store)}function zd(t){return fd(t,zh.store)}function Gd(t){return fd(t,Kh.store)}function Wd(t){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(e){if(t.code!==ac.FAILED_PRECONDITION||t.message!==Jh)throw t;return lc("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Qd(t,e){var n=t[1],r=e[1],i=bc(t[0],e[0]);return 0===i?bc(n,r):i}var Yd=function(){function t(t){this.ne=t,this.buffer=new Af(Qd),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Qd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Xd=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;lc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(ic.b)(e,void 0,void 0,function(){var e;return Object(ic.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return od(e=n.sent())?(lc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Wd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Jd=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return td.resolve(oc.o);var r=new Yd(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(lc("LruGarbageCollector","Garbage collection skipped; disabled"),td.resolve(Rd)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(lc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Rd):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,u,s,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(lc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return s=Date.now(),cc()<=eo.a.DEBUG&&lc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(s-u)+"ms\nTotal Duration: "+(s-l)+"ms"),td.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Zd=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Jd(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return $d(t,n)},t.prototype.removeReference=function(t,e,n){return $d(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return $d(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return qd(t).$t(function(r){return Ud(t,r,e).next(function(t){return t&&(n=!0),td.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(a,u){if(u<=e){var s=n._e(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),Gd(t).delete([0,Ah(a.path)])})});i.push(s)}}).next(function(){return td.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return $d(t,e)},t.prototype.we=function(t,e){var n,r=Gd(t),i=oc.o;return r.Ot({index:Kh.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==oc.o&&e(new Hc(Rh(n)),i),i=a,n=o):i=oc.o}).next(function(){i!==oc.o&&e(new Hc(Rh(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function $d(t,e){return Gd(t).put(function(t,e){return new Kh(0,Ah(t.path),e)}(e,t.currentSequenceNumber))}var tp=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Tc(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Ec(this.inner)},t}(),ep=function(){function t(){this.changes=new tp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Oc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ol.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?td.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),np=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return op(t).put(ap(e),n)},t.prototype.removeEntry=function(t,e){var n=op(t),r=ap(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return op(t).get(ap(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return op(t).get(ap(e)).next(function(t){return{document:n.ye(e,t),size:Ld(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Rf();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Rf(),i=new If(Hc.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Ld(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return td.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return op(t).Ot({range:r},function(t,e,r){for(var a=Hc.fromSegments(t);o&&Hc.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Rf(),o=e.path.length+1,a={};if(n.isEqual(Oc.min())){var u=e.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var s=e.path.toArray(),c=md(n);a.range=IDBKeyRange.lowerBound([s,c],!0),a.index=qh.collectionReadTimeIndex}return op(t).Ot(a,function(t,n,a){if(t.length===o){var u=yd(r.R,n);e.path.isPrefixOf(u.key.path)?Vl(e,u)&&(i=i.insert(u.key,u)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new rp(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ip(t).get(Bh.key).next(function(t){return vc(!!t),t})},t.prototype.me=function(t,e){return ip(t).put(Bh.key,e)},t.prototype.ye=function(t,e){if(e){var n=yd(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Oc.min()))return n}return ol.newInvalidDocument(t)},t}(),rp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new tp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(ic.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Af(function(t,e){return bc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var u=e.Ae.get(o);if(a.document.isValidDocument()){var s=gd(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Ld(s);r+=c-u,n.push(e.Ie.addEntry(t,o,s))}else if(r-=u,e.trackRemovals){var l=gd(e.Ie.R,ol.newNoDocument(o,Oc.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),td.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(ep);function ip(t){return fd(t,Bh.store)}function op(t){return fd(t,qh.store)}function ap(t){return t.path.toArray()}var up=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;vc(n<r&&n>=0&&r<=11);var o=new ed("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Dh.store)}(t),function(t){t.createObjectStore(Lh.store,{keyPath:Lh.keyPath}),t.createObjectStore(Mh.store,{keyPath:Mh.keyPath,autoIncrement:!0}).createIndex(Mh.userMutationsIndex,Mh.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Uh.store)}(t),sp(t),function(t){t.createObjectStore(qh.store)}(t));var a=td.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Kh.store),t.deleteObjectStore(Hh.store),t.deleteObjectStore(zh.store)}(t),sp(t)),a=a.next(function(){return function(t){var e=t.store(zh.store),n=new zh(0,0,Oc.min().toTimestamp(),0);return e.put(zh.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(Mh.store).Nt().next(function(n){t.deleteObjectStore(Mh.store),t.createObjectStore(Mh.store,{keyPath:Mh.keyPath,autoIncrement:!0}).createIndex(Mh.userMutationsIndex,Mh.userMutationsKeyPath,{unique:!0});var r=e.store(Mh.store),i=n.map(function(t){return r.put(t)});return td.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(Wh.store,{keyPath:Wh.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(Bh.store)}(t),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(qh.store);e.createIndex(qh.readTimeIndex,qh.readTimeIndexPath,{unique:!1}),e.createIndex(qh.collectionReadTimeIndex,qh.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(Qh.store,{keyPath:Qh.keyPath})}(t),function(t){t.createObjectStore(Yh.store,{keyPath:Yh.keyPath})}(t)})),a},t.prototype.be=function(t){var e=0;return t.store(qh.store).Ot(function(t,n){e+=Ld(n)}).next(function(){var n=new Bh(e);return t.store(Bh.store).put(Bh.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Lh.store),r=t.store(Mh.store);return n.Nt().next(function(n){return td.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Mh.userMutationsIndex,i).next(function(r){return td.forEach(r,function(r){vc(r.userId===n.userId);var i=kd(e.R,r);return Dd(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Kh.store),n=t.store(qh.store);return t.store(zh.store).get(zh.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new Cc(n),a=function(t){return[0,Ah(t)]}(o);r.push(e.get(a).next(function(n){return n?td.resolve():function(n){return e.put(new Kh(0,Ah(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return td.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Gh.store,{keyPath:Gh.keyPath});var n=e.store(Gh.store),r=new Ad,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Ah(i)})}};return e.store(qh.store).Ot({kt:!0},function(t,e){var n=new Cc(t);return i(n.popLast())}).next(function(){return e.store(Uh.store).Ot({kt:!0},function(t,e){var n=Rh(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Hh.store);return n.Ot(function(t,r){var i=Od(r),o=Sd(e.R,i);return n.put(o)})},t}();function sp(t){t.createObjectStore(Kh.store,{keyPath:Kh.keyPath}).createIndex(Kh.documentTargetsIndex,Kh.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Hh.store,{keyPath:Hh.keyPath}).createIndex(Hh.queryTargetsIndexName,Hh.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(zh.store)}var cp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",lp=function(){function t(e,n,r,i,o,a,u,s,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new uc(ac.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zd(this,i),this.Le=n+"main",this.R=new vd(s),this.Be=new nd(this.Le,11,new up(this.R)),this.qe=new Hd(this.referenceDelegate,this.R),this.Ut=new jd,this.Ue=function(t,e){return new np(t,e)}(this.R,this.Ut),this.Qe=new Ed,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&fc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new uc(ac.FAILED_PRECONDITION,cp);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new oc(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(ic.b)(e,void 0,void 0,function(){return Object(ic.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(ic.b)(e,void 0,void 0,function(){return Object(ic.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(ic.b)(e,void 0,void 0,function(){return Object(ic.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return hp(e).put(new Wh(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(od(e))return lc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return lc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return fp(t).get(Dh.key).next(function(t){return td.resolve(e.tn(t))})},t.prototype.en=function(t){return hp(t).delete(this.clientId)},t.prototype.nn=function(){return Object(ic.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(ic.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=fd(t,Wh.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return td.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?td.resolve(!0):fp(t).get(Dh.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new uc(ac.FAILED_PRECONDITION,cp);return!1}}return!(!e.networkEnabled||!e.inForeground)||hp(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&lc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(ic.b)(this,void 0,void 0,function(){var t=this;return Object(ic.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Dh.store,Wh.store],function(e){var n=new ld(e,oc.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return hp(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Md.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return lc("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Xh,function(o){return r=new ld(o,i.Ne?i.Ne.next():oc.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw fc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new uc(ac.FAILED_PRECONDITION,Jh);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return fp(t).get(Dh.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new uc(ac.FAILED_PRECONDITION,cp)})},t.prototype.Ze=function(t){var e=new Dh(this.clientId,this.allowTabSynchronization,Date.now());return fp(t).put(Dh.key,e)},t.yt=function(){return nd.yt()},t.prototype.Xe=function(t){var e=this,n=fp(t);return n.get(Dh.key).next(function(t){return e.tn(t)?(lc("IndexedDbPersistence","Releasing primary lease."),n.delete(Dh.key)):td.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(fc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return lc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return fc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){fc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function fp(t){return fd(t,Dh.store)}function hp(t){return fd(t,Wh.store)}function dp(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var pp=function(t,e){this.progress=t,this.wn=e},vp=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Hc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Rl(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Hc(e)).next(function(t){var e=Df();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Df();return this.Ut.getCollectionParents(t,i).next(function(a){return td.forEach(a,function(a){var u=function(t,e){return new El(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,u,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,u=o.mutations;a<u.length;a++){var s=u[a],c=s.key,l=r.get(c);null==l&&(l=ol.newInvalidDocument(c),r=r.insert(c,l)),ff(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Vl(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Ff(),i=0,o=e;i<o.length;i++)for(var a=0,u=o[i].mutations;a<u.length;a++){var s=u[a];s instanceof yf&&null===n.get(s.key)&&(r=r.add(s.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),yp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ff(),i=Ff(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),gp=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Oc.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var a=i.Cn(e,o);return(xl(e)||Al(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(cc()<=eo.a.DEBUG&&lc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Fl(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Af(ql(t));return e.forEach(function(e,r){Vl(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return cc()<=eo.a.DEBUG&&lc("QueryEngine","Using full collection scan to execute query:",Fl(e)),this.Sn.getDocumentsMatchingQuery(t,e,Oc.min())},t}(),mp=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new If(bc),this.kn=new tp(function(t){return sl(t)},cl),this.On=Oc.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new vp(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function bp(t,e,n,r){return new mp(t,e,n,r)}function wp(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(ic.d)(this,function(a){switch(a.label){case 0:return n=yc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new vp(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=Ff(),u=0,s=o;u<s.length;u++){var c=s[u];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++)a=a.add(f[l].key)}for(var h=0,d=e;h<d.length;h++){var p=d[h];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.pn(t,a).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function _p(t,e){var n=yc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=td.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);vc(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),a.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function kp(t){var e=yc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Op(t,e){var n=yc(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach(function(e,o){var u=i.get(o);if(u){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var s=e.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return vc(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,e)&&a.push(n.qe.updateTargetData(t,c))}}});var u=Rf();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(Sp(t,o,e.documentUpdates,r,void 0).next(function(t){u=t})),!r.isEqual(Oc.min())){var s=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(s)}return td.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,u)}).next(function(){return u})}).then(function(t){return n.Fn=i,t})}function Sp(t,e,n,r,i){var o=Ff();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Rf();return n.forEach(function(n,a){var u=t.get(n),s=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Oc.min())?(e.removeEntry(n,s),o=o.insert(n,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a,s),o=o.insert(n,a)):lc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",a.version)}),o})}function Tp(t,e){var n=yc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Ep(t,e){var n=yc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?td.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new pd(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Ip(t,e,n){return Object(ic.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(ic.d)(this,function(u){switch(u.label){case 0:r=yc(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!od(a=u.sent()))throw a;return lc("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Cp(t,e,n){var r=yc(t),i=Oc.min(),o=Ff();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=yc(t),i=r.kn.get(n);return void 0!==i?td.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Dl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Oc.min(),n?o:Ff())}).next(function(t){return{documents:t,Bn:o}})})}function xp(t,e){var n=yc(t),r=yc(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Ap(t){var e=yc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=yc(t),i=Rf(),o=md(n),a=op(e),u=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:qh.readTimeIndex,range:u},function(t,e){var n=yd(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:bd(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function jp(t){return Object(ic.b)(this,void 0,void 0,function(){var e;return Object(ic.d)(this,function(n){return[2,(e=yc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=op(t),n=Oc.min();return e.Ot({index:qh.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=bd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function Pp(t,e,n,r){return Object(ic.b)(this,void 0,void 0,function(){var i,o,a,u,s,c,l,f,h,d;return Object(ic.d)(this,function(p){switch(p.label){case 0:for(i=yc(t),o=Ff(),a=Rf(),u=Mf(),s=0,c=n;s<c.length;s++)f=e.qn((l=c[s]).metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,e.Un(l)),u=u.insert(f,e.Qn(l.metadata.readTime));return h=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Ep(i,function(t){return Dl(Cl(Cc.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Sp(t,h,a,Oc.min(),u).next(function(e){return h.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Rp(t,e,n){return void 0===n&&(n=Ff()),Object(ic.b)(this,void 0,void 0,function(){var r,i;return Object(ic.d)(this,function(o){switch(o.label){case 0:return[4,Ep(t,Dl(Td(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=yc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=rh(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var a=r.withResumeToken(Pc.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Np=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return td.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:rh(n.createTime)}),td.resolve()},t.prototype.getNamedQuery=function(t,e){return td.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Td(t.bundledQuery),readTime:rh(t.readTime)}}(e)),td.resolve()},t}(),Dp=function(){function t(){this.Wn=new Af(Lp.Gn),this.zn=new Af(Lp.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Lp(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Lp(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Hc(new Cc([])),r=new Lp(n,t),i=new Lp(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Hc(new Cc([])),n=new Lp(e,t),r=new Lp(e,t+1),i=Ff();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Lp(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Lp=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Hc.comparator(t.key,e.key)||bc(t.ns,e.ns)},t.Hn=function(t,e){return bc(t.ns,e.ns)||Hc.comparator(t.key,e.key)},t}(),Mp=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Af(Lp.Gn)}return t.prototype.checkEmpty=function(t){return td.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new hd(i,e,n,r);this._n.push(o);for(var a=0,u=r;a<u.length;a++){var s=u[a];this.rs=this.rs.add(new Lp(s.key,i)),this.Ut.addToCollectionParentIndex(t,s.key.path.popLast())}return td.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return td.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return td.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return td.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return td.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Lp(e,0),i=new Lp(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),td.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Af(bc);return e.forEach(function(t){var e=new Lp(t,0),i=new Lp(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),td.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Hc.isDocumentKey(i)||(i=i.child(""));var o=new Lp(new Hc(i),0),a=new Af(bc);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)},o),td.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;vc(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return td.forEach(e.mutations,function(i){var o=new Lp(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Lp(e,0),r=this.rs.firstAfterOrEqual(n);return td.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return td.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Up=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new If(Hc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return td.resolve(n?n.document.clone():ol.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Rf();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():ol.newInvalidDocument(t))}),td.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Rf(),i=new Hc(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),u=a.value,s=u.document,c=u.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||Vl(e,s)&&(r=r.insert(s.key,s.clone()))}return td.resolve(r)},t.prototype.fs=function(t,e){return td.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Fp(this)},t.prototype.getSize=function(t){return td.resolve(this.size)},t}(),Fp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(ic.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),td.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ep),Vp=function(){function t(t){this.persistence=t,this.ds=new tp(function(t){return sl(t)},cl),this.lastRemoteSnapshotVersion=Oc.min(),this.highestTargetId=0,this.ws=0,this._s=new Dp,this.targetCount=0,this.ys=Bd.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),td.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return td.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return td.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),td.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),td.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Bd(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,td.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),td.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,td.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,u.targetId)),i++)}),td.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return td.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return td.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),td.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),td.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),td.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return td.resolve(n)},t.prototype.containsKey=function(t,e){return td.resolve(this._s.containsKey(e))},t}(),qp=function(){function t(t,e){var n=this;this.gs={},this.Ne=new oc(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Vp(this),this.Ut=new xd,this.Ue=function(t,e){return new Up(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new vd(e),this.Qe=new Np(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Mp(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;lc("MemoryPersistence","Starting transaction:",t);var i=new Bp(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return td.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Bp=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(ic.c)(e,t),e}(Zh),Hp=function(){function t(t){this.persistence=t,this.As=new Dp,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw pc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),td.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),td.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),td.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return td.forEach(this.vs,function(r){var i=Hc.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return td.or([function(){return td.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Kp=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function zp(t,e){return"firestore_clients_"+t+"_"+e}function Gp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Wp(t,e){return"firestore_targets_"+t+"_"+e}Kp.UNAUTHENTICATED=new Kp(null),Kp.GOOGLE_CREDENTIALS=new Kp("google-credentials-uid"),Kp.FIRST_PARTY=new Kp("first-party-uid");var Qp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new uc(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(fc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new uc(i.error.code,i.error.message)),o?new t(e,i.state,r):(fc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Xp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=qf(),a=0;i&&a<r.activeTargetIds.length;++a)i=Bc(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(fc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Jp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(fc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Zp=function(){function t(){this.activeTargetIds=qf()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),$p=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new If(bc),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=zp(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Zp),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ic.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,a,u,s,c,l=this;return Object(ic.d)(this,function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(zp(this.persistenceKey,r)))&&(o=Xp.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),s=0,c=this.Os;s<c.length;s++)this.Fs(c[s]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Wp(this.persistenceKey,t));if(n){var r=Yp.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Wp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return lc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){lc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){lc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(lc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void fc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(ic.b)(e,void 0,void 0,function(){var t,e,r,i,o,a;return Object(ic.d)(this,function(u){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=oc.o;if(null!=t)try{var n=JSON.parse(t);vc("number"==typeof n),e=n}catch(t){fc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==oc.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Qp(this.currentUser,t,e,n),i=Gp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Gp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Wp(this.persistenceKey,t),i=new Yp(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Xp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Qp.Vs(new Kp(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Yp.Vs(r,e)},t.prototype.js=function(t){return Jp.Vs(t)},t.prototype.ii=function(t){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(lc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],u=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this.syncEngine.hi(a,u).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=qf();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),tv=function(){function t(){this.li=new Zp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Zp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),ev=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),nv=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){lc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){lc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),rv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},iv=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),ov=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(ic.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var a=new rc;a.listenOnce(tc.COMPLETE,function(){try{switch(a.getLastErrorCode()){case $s.NO_ERROR:var e=a.getResponseJson();lc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case $s.TIMEOUT:lc("Connection",'RPC "'+t+'" timed out'),o(new uc(ac.DEADLINE_EXCEEDED,"Request time out"));break;case $s.HTTP_ERROR:var n=a.getStatus();if(lc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ac).indexOf(e)>=0?e:ac.UNKNOWN}(r.status);o(new uc(u,r.message))}else o(new uc(ac.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new uc(ac.UNAVAILABLE,"Connection failed."));break;default:pc()}}finally{lc("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);a.send(e,"POST",u,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Qs,i=Ja(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object(to.n)()||Object(to.p)()||Object(to.l)()||Object(to.m)()||Object(to.q)()||Object(to.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");lc("Connection","Creating WebChannel: "+a,o);var u=r.createWebChannel(a,o),s=!1,c=!1,l=new iv({Ei:function(t){c?lc("Connection","Not sending because WebChannel is closed:",t):(s||(lc("Connection","Opening WebChannel transport."),u.open(),s=!0),lc("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return f(u,nc.EventType.OPEN,function(){c||lc("Connection","WebChannel transport opened.")}),f(u,nc.EventType.CLOSE,function(){c||(c=!0,lc("Connection","WebChannel transport closed"),l.Vi())}),f(u,nc.EventType.ERROR,function(t){c||(c=!0,hc("Connection","WebChannel transport errored:",t),l.Vi(new uc(ac.UNAVAILABLE,"The operation could not be completed")))}),f(u,nc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];vc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){lc("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=wf[t];if(void 0!==e)return Ef(e)}(i),a=r.message;void 0===o&&(o=ac.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new uc(o,a)),u.close()}else lc("Connection","WebChannel received:",n),l.Si(n)}}),f(i,ec.STAT_EVENT,function(t){10===t.stat?lc("Connection","Detected buffering proxy"):11===t.stat&&lc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);lc("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return lc("RestConnection","Received: ",t),t},function(e){throw hc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.2",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+rv[t]},t}());function av(){return"undefined"!=typeof window?window:null}function uv(){return"undefined"!=typeof document?document:null}function sv(t){return new $f(t,!0)}var cv=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&lc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),lv=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new cv(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===ac.RESOURCE_EXHAUSTED?(fc(e.toString()),fc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===ac.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new uc(ac.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(ic.b)(t,void 0,void 0,function(){return Object(ic.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return lc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(lc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),fv=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Object(ic.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:pc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(vc(void 0===e||"string"==typeof e),Pc.fromBase64String(e||"")):(vc(void 0===e||e instanceof Uint8Array),Pc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?ac.UNKNOWN:Ef(t.code);return new uc(e,t.message||"")}(u);n=new Gf(r,i,o,a||null)}else if("documentChange"in e){i=uh(t,(r=e.documentChange).document.name),o=rh(r.document.updateTime);var u=new rl({mapValue:{fields:r.document.fields}}),s=(a=ol.newFoundDocument(i,o,u),r.targetIds||[]);n=new Kf(s,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=uh(t,(r=e.documentDelete).document),o=r.readTime?rh(r.readTime):Oc.min(),u=ol.newNoDocument(i,o),n=new Kf([],a=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=uh(t,(r=e.documentRemove).document),n=new Kf([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return pc();var c=e.filter;i=new Sf(r=c.count||0),n=new zf(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Oc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Oc.min():e.readTime?rh(e.readTime):Oc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=lh(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=ll(r)?{documents:yh(t,r)}:{query:gh(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=eh(t,e.resumeToken):e.snapshotVersion.compareTo(Oc.min())>0&&(n.readTime=th(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=lh(this.R),e.removeTarget=t,this.cr(e)},e}(lv),hv=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Object(ic.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(vc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(vc(void 0!==e),t.map(function(t){return function(t,e){var n=rh(t.updateTime?t.updateTime:e);return n.isEqual(Oc.min())&&(n=rh(e)),new af(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=rh(t.commitTime);return this.listener.Tr(n,e)}return vc(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=lh(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ph(e.R,t)})};this.cr(n)},e}(lv),dv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(ic.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new uc(ac.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw t.code===ac.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw t.code===ac.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Rr=!1},e}(function(){}),pv=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(fc(e),this.Vr=!1):lc("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),vv=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(ic.b)(o,void 0,void 0,function(){return Object(ic.d)(this,function(t){switch(t.label){case 0:return Sv(this)?(lc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ic.b)(this,void 0,void 0,function(){var e;return Object(ic.d)(this,function(n){switch(n.label){case 0:return(e=yc(t)).$r.add(4),[4,gv(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,yv(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new pv(n,r)};function yv(t){return Object(ic.b)(this,void 0,void 0,function(){var e,n;return Object(ic.d)(this,function(r){switch(r.label){case 0:if(!Sv(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function gv(t){return Object(ic.b)(this,void 0,void 0,function(){var e,n;return Object(ic.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function mv(t,e){var n=yc(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Ov(n)?kv(n):Fv(n).er()&&wv(n,e))}function bv(t,e){var n=yc(t),r=Fv(n);n.Or.delete(e),r.er()&&_v(n,e),0===n.Or.size&&(r.er()?r.ir():Sv(n)&&n.Br.set("Unknown"))}function wv(t,e){t.qr.U(e.targetId),Fv(t).mr(e)}function _v(t,e){t.qr.U(e),Fv(t).yr(e)}function kv(t){t.qr=new Qf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Fv(t).start(),t.Br.Sr()}function Ov(t){return Sv(t)&&!Fv(t).tr()&&t.Or.size>0}function Sv(t){return 0===yc(t).$r.size}function Tv(t){t.qr=void 0}function Ev(t){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(e){return t.Or.forEach(function(e,n){wv(t,e)}),[2]})})}function Iv(t,e){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(n){return Tv(t),Ov(t)?(t.Br.Nr(e),kv(t)):t.Br.set("Unknown"),[2]})})}function Cv(t,e,n){return Object(ic.b)(this,void 0,void 0,function(){var r,i,o;return Object(ic.d)(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof Gf&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(ic.d)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.Or.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),lc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,xv(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Kf?t.qr.X(e):e instanceof zf?t.qr.rt(e):t.qr.et(e),n.isEqual(Oc.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,kp(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Pc.EMPTY_BYTE_STRING,n.snapshotVersion)),_v(t,e);var r=new pd(n.target,e,1,n.sequenceNumber);wv(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return lc("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,xv(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function xv(t,e,n){return Object(ic.b)(this,void 0,void 0,function(){var r=this;return Object(ic.d)(this,function(i){switch(i.label){case 0:if(!od(e))throw e;return t.$r.add(1),[4,gv(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return kp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(ic.b)(r,void 0,void 0,function(){return Object(ic.d)(this,function(e){switch(e.label){case 0:return lc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,yv(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Av(t,e){return e().catch(function(n){return xv(t,n,e)})}function jv(t){return Object(ic.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(ic.d)(this,function(a){switch(a.label){case 0:e=yc(t),n=Vv(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Sv(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Tp(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Vv(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,xv(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Pv(e)&&Rv(e),[2]}})})}function Pv(t){return Sv(t)&&!Vv(t).tr()&&t.kr.length>0}function Rv(t){Vv(t).start()}function Nv(t){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(e){return Vv(t).Ar(),[2]})})}function Dv(t){return Object(ic.b)(this,void 0,void 0,function(){var e,n,r;return Object(ic.d)(this,function(i){for(e=Vv(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Lv(t,e,n){return Object(ic.b)(this,void 0,void 0,function(){var r,i;return Object(ic.d)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=dd.from(r,e,n),[4,Av(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,jv(t)];case 2:return o.sent(),[2]}})})}function Mv(t,e){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(n){switch(n.label){case 0:return e&&Vv(t).pr?[4,function(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r;return Object(ic.d)(this,function(i){switch(i.label){case 0:return Tf(r=e.code)&&r!==ac.ABORTED?(n=t.kr.shift(),Vv(t).sr(),[4,Av(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,jv(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Pv(t)&&Rv(t),[2]}})})}function Uv(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n;return Object(ic.d)(this,function(r){switch(r.label){case 0:return n=yc(t),e?(n.$r.delete(2),[4,yv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,gv(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Fv(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=yc(t);return r.br(),new fv(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Ev.bind(null,t),Ri:Iv.bind(null,t),_r:Cv.bind(null,t)}),t.Mr.push(function(n){return Object(ic.b)(e,void 0,void 0,function(){return Object(ic.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Ov(t)?kv(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Tv(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Vv(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=yc(t);return r.br(),new hv(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Nv.bind(null,t),Ri:Mv.bind(null,t),Ir:Dv.bind(null,t),Tr:Lv.bind(null,t)}),t.Mr.push(function(n){return Object(ic.b)(e,void 0,void 0,function(){return Object(ic.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,jv(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(lc("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var qv=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new $h,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new uc(ac.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Bv(t,e){if(fc("AsyncQueue",e+": "+t),od(t))return new uc(ac.UNAVAILABLE,e+": "+t);throw t}var Hv=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Hc.comparator(e.key,n.key)}:function(t,e){return Hc.comparator(t.key,e.key)},this.keyedMap=Df(),this.sortedSet=new If(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Kv=function(){function t(){this.Kr=new If(Hc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):pc():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),zv=function(){function t(t,e,n,r,i,o,a,u){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Hv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ml(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Gv=function(){this.Wr=void 0,this.listeners=[]},Wv=function(){this.queries=new tp(function(t){return Ul(t)},Ml),this.onlineState="Unknown",this.Gr=new Set};function Qv(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i,o,a,u,s;return Object(ic.d)(this,function(c){switch(c.label){case 0:if(n=yc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Gv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return u=c.sent(),s=Bv(u,"Initialization of query '"+Fl(e.query)+"' failed"),[2,void e.onError(s)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Zv(n),[2]}})})}function Yv(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(ic.d)(this,function(u){return n=yc(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Xv(t,e){for(var n=yc(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],u=n.queries.get(a.query);if(u){for(var s=0,c=u.listeners;s<c.length;s++)c[s].Hr(a)&&(r=!0);u.Wr=a}}r&&Zv(n)}function Jv(t,e,n){var r=yc(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function Zv(t){t.Gr.forEach(function(t){t.next()})}var $v=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new zv(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=zv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),ty=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),ey=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return uh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?dh(this.R,t.document,!1):ol.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return rh(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new ey(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),u=0,s=o.metadata.queries;u<s.length;u++){var c=s[u],l=(e.get(c)||Ff()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(ic.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(ic.d)(this,function(o){switch(o.label){case 0:return[4,Pp(this.localStore,new ey(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Rp(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new pp(Object.assign({},this.progress),t))]}})})}}();var ny=function(t){this.key=t},ry=function(t){this.key=t},iy=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ff(),this.mutatedKeys=Ff(),this.lo=ql(t),this.fo=new Hv(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Kv,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,u=!1,s=xl(this.query)&&i.size===this.query.limit?i.last():null,c=Al(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),f=Vl(n.query,e)?e:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.lo(f,s)>0||c&&n.lo(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(a=a.add(f),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),xl(this.query)||Al(this.query))for(;a.size>this.query.limit;){var l=xl(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:u,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pc()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var a=e?this.Eo():[],u=0===this.ho.size&&this.current?1:0,s=u!==this.ao;return this.ao=u,0!==o.length||s?{snapshot:new zv(this.query,t.fo,i,o,t.mutatedKeys,0===u,s,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Kv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ff(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new ry(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new ny(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ff();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return zv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),oy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ay=function(t){this.key=t,this.bo=!1},uy=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new tp(function(t){return Ul(t)},Ml),this.Vo=new Map,this.So=new Set,this.Do=new If(Hc.comparator),this.Co=new Map,this.No=new Dp,this.xo={},this.Fo=new Map,this.ko=Bd.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function sy(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(ic.d)(this,function(u){switch(u.label){case 0:return n=My(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Ep(n.localStore,Dl(e))];case 2:return o=u.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,cy(n,e,o.targetId,"current"===a)];case 3:r=u.sent(),n.isPrimaryClient&&mv(n.remoteStore,o),u.label=4;case 4:return[2,r]}})})}function cy(t,e,n,r){return Object(ic.b)(this,void 0,void 0,function(){var i,o,a,u,s,c;return Object(ic.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(ic.b)(this,void 0,void 0,function(){var i,o,a;return Object(ic.d)(this,function(u){switch(u.label){case 0:return(i=e.view._o(n)).Nn?[4,Cp(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(ky(t,e.targetId,a.To),a.snapshot)]}})})}(t,e,n,r)},[4,Cp(t.localStore,e,!0)];case 1:return i=l.sent(),o=new iy(e,i.Bn),a=o._o(i.documents),u=Hf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),s=o.applyChanges(a,t.isPrimaryClient,u),ky(t,n,s.To),c=new oy(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),s.snapshot)]}})})}function ly(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i;return Object(ic.d)(this,function(o){switch(o.label){case 0:return n=yc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Ml(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ip(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),bv(n.remoteStore,r.targetId),wy(n,r.targetId)}).catch(Wd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return wy(n,r.targetId),[4,Ip(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function fy(t,e,n){return Object(ic.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(ic.d)(this,function(u){switch(u.label){case 0:r=Uy(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=yc(t),i=kc.now(),o=e.reduce(function(t,e){return t.add(e.key)},Ff());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var a=[],u=0,s=e;u<s.length;u++){var c=s[u],l=hf(c,n.get(c.key));null!=l&&a.push(new yf(c.key,l,il(l.toProto().mapValue),uf.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new If(bc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ty(r,i.changes)];case 3:return u.sent(),[4,jv(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=Bv(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function hy(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r;return Object(ic.d)(this,function(i){switch(i.label){case 0:n=yc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Op(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(vc(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?vc(r.bo):t.removedDocuments.size>0&&(vc(r.bo),r.bo=!1))}),[4,Ty(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Wd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function dy(t,e,n){var r=yc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=yc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Zv(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function py(t,e,n){return Object(ic.b)(this,void 0,void 0,function(){var r,i,o,a,u,s;return Object(ic.d)(this,function(c){switch(c.label){case 0:return(r=yc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new If(Hc.comparator)).insert(o,ol.newNoDocument(o,Oc.min())),u=Ff().add(o),s=new Bf(Oc.min(),new Map,new Af(bc),a,u),[4,hy(r,s)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Sy(r),[3,4];case 2:return[4,Ip(r.localStore,e,!1).then(function(){return wy(r,e,n)}).catch(Wd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function vy(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i;return Object(ic.d)(this,function(o){switch(o.label){case 0:n=yc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,_p(n.localStore,e)];case 2:return i=o.sent(),by(n,r,null),my(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ty(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Wd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function yy(t,e,n){return Object(ic.b)(this,void 0,void 0,function(){var r,i;return Object(ic.d)(this,function(o){switch(o.label){case 0:r=yc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=yc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return vc(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),by(r,e,n),my(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ty(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Wd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function gy(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(ic.d)(this,function(u){switch(u.label){case 0:Sv((n=yc(t)).remoteStore)||lc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=yc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=u.sent(),a=Bv(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function my(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function by(t,e,n){var r=yc(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function wy(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||_y(t,e)})}function _y(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(bv(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Sy(t))}function ky(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ny?(t.No.addReference(o.key,e),Oy(t,o)):o instanceof ry?(lc("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||_y(t,o.key)):pc()}}function Oy(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(lc("SyncEngine","New document in limbo: "+n),t.So.add(r),Sy(t))}function Sy(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Hc(Cc.fromString(e)),r=t.ko.next();t.Co.set(r,new ay(n)),t.Do=t.Do.insert(n,r),mv(t.remoteStore,new pd(Dl(Cl(n.path)),r,2,oc.o))}}function Ty(t,e,n){return Object(ic.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(ic.d)(this,function(u){switch(u.label){case 0:return r=yc(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,u){a.push(r.$o(u,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=yp.Pn(u.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(i),[4,function(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i,o,a,u,s,c;return Object(ic.d)(this,function(l){switch(l.label){case 0:n=yc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return td.forEach(e,function(e){return td.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return td.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!od(r=l.sent()))throw r;return lc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(a=o[i]).targetId,a.fromCache||(s=n.Fn.get(u),c=s.withLastLimboFreeSnapshotVersion(s.snapshotVersion),n.Fn=n.Fn.insert(u,c));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Ey(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r;return Object(ic.d)(this,function(i){switch(i.label){case 0:return(n=yc(t)).currentUser.isEqual(e)?[3,3]:(lc("SyncEngine","User change. New user:",e.toKey()),[4,wp(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new uc(ac.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ty(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Iy(t,e){var n=yc(t),r=n.Co.get(e);if(r&&r.bo)return Ff().add(r.key);var i=Ff(),o=n.Vo.get(e);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var s=n.Po.get(u[a]);i=i.unionWith(s.view.wo)}return i}function Cy(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i;return Object(ic.d)(this,function(o){switch(o.label){case 0:return[4,Cp((n=yc(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&ky(n,e.targetId,i.To),i)]}})})}function xy(t){return Object(ic.b)(this,void 0,void 0,function(){var e;return Object(ic.d)(this,function(n){return[2,Ap((e=yc(t)).localStore).then(function(t){return Ty(e,t)})]})})}function Ay(t,e,n,r){return Object(ic.b)(this,void 0,void 0,function(){var i,o;return Object(ic.d)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=yc(t),r=yc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):td.resolve(null)})})}((i=yc(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,jv(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(by(i,e,r||null),my(i,e),function(t,e){yc(yc(t)._n).Gt(e)}(i.localStore,e)):pc(),a.label=4;case 4:return[4,Ty(i,o)];case 5:return a.sent(),[3,7];case 6:lc("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function jy(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i,o,a,u,s;return Object(ic.d)(this,function(c){switch(c.label){case 0:return My(n=yc(t)),Uy(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Py(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,Uv(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)mv(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(u=[],s=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):s=s.then(function(){return wy(n,e),Ip(n.localStore,e,!0)}),bv(n.remoteStore,e)}),[4,s]);case 4:return c.sent(),[4,Py(n,u)];case 5:return c.sent(),function(t){var e=yc(t);e.Co.forEach(function(t,n){bv(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new If(Hc.comparator)}(n),n.Oo=!1,[4,Uv(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Py(t,e,n){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i,o,a,u,s,c,l,f,h,d,p;return Object(ic.d)(this,function(v){switch(v.label){case 0:n=yc(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(s=void 0,(c=n.Vo.get(u=a[o]))&&0!==c.length?[4,Ep(n.localStore,Dl(c[0]))]:[3,7]):[3,13];case 2:s=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(h=n.Po.get(f[l]),[4,Cy(n,h)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,xp(n.localStore,u)];case 8:return p=v.sent(),[4,Ep(n.localStore,p)];case 9:return s=v.sent(),[4,cy(n,Ry(p),u,!1)];case 10:v.sent(),v.label=11;case 11:r.push(s),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Ry(t){return Il(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ny(t){var e=yc(t);return yc(yc(e.localStore).persistence).fn()}function Dy(t,e,n,r){return Object(ic.b)(this,void 0,void 0,function(){var i,o,a;return Object(ic.d)(this,function(u){switch(u.label){case 0:return(i=yc(t)).Oo?(lc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ap(i.localStore)];case 3:return o=u.sent(),a=Bf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ty(i,o,a)];case 4:return u.sent(),[3,8];case 5:return[4,Ip(i.localStore,e,!0)];case 6:return u.sent(),wy(i,e,r),[3,8];case 7:pc(),u.label=8;case 8:return[2]}})})}function Ly(t,e,n){return Object(ic.b)(this,void 0,void 0,function(){var r,i,o,a,u,s,c,l,f;return Object(ic.d)(this,function(h){switch(h.label){case 0:if(!(r=My(t)).Oo)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(lc("SyncEngine","Adding an already active target "+a),[3,5]):[4,xp(r.localStore,a)]:[3,6];case 2:return u=h.sent(),[4,Ep(r.localStore,u)];case 3:return s=h.sent(),[4,cy(r,Ry(u),s.targetId,!1)];case 4:h.sent(),mv(r.remoteStore,s),h.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(ic.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Ip(r.localStore,t,!1).then(function(){bv(r.remoteStore,t),wy(r,t)}).catch(Wd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,f=n,h.label=7;case 7:return l<f.length?[5,c(f[l])]:[3,10];case 8:h.sent(),h.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function My(t){var e=yc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=py.bind(null,e),e.vo._r=Xv.bind(null,e.eventManager),e.vo.Mo=Jv.bind(null,e.eventManager),e}function Uy(t){var e=yc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yy.bind(null,e),e}var Fy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(e){switch(e.label){case 0:return this.R=sv(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return bp(this.persistence,new gp,t.initialUser,this.R)},t.prototype.qo=function(t){return new qp(Hp.bs,this.R)},t.prototype.Bo=function(t){return new tv},t.prototype.terminate=function(){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Vy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ic.c)(e,t),e.prototype.initialize=function(e){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,jp(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Uy(this.Ko.syncEngine)];case 4:return n.sent(),[4,jv(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return bp(this.persistence,new gp,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Xd(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=dp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Nd.withCacheSize(this.cacheSizeBytes):Nd.DEFAULT;return new lp(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,av(),uv(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new tv},e}(Fy),qy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ic.c)(e,t),e.prototype.initialize=function(e){return Object(ic.b)(this,void 0,void 0,function(){var n,r=this;return Object(ic.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof $p?(this.sharedClientState.syncEngine={ui:Ay.bind(null,n),ai:Dy.bind(null,n),hi:Ly.bind(null,n),fn:Ny.bind(null,n),ci:xy.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(ic.b)(r,void 0,void 0,function(){return Object(ic.d)(this,function(e){switch(e.label){case 0:return[4,jy(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=av();if(!$p.yt(e))throw new uc(ac.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=dp(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new $p(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Vy),By=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n=this;return Object(ic.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return dy(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ey.bind(null,this.syncEngine),[4,Uv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Wv},t.prototype.createDatastore=function(t){var e=sv(t.databaseInfo.databaseId),n=new ov(t.databaseInfo);return function(t,e,n){return new dv(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return dy(a.syncEngine,t,0)},o=nv.yt()?new nv:new ev,new vv(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var u=new uy(t,e,n,r,i,o);return a&&(u.Oo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(ic.b)(this,void 0,void 0,function(){var e;return Object(ic.d)(this,function(n){switch(n.label){case 0:return e=yc(t),lc("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,gv(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Hy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Ky=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new $h,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(ic.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(ic.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new ty(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(ic.b)(this,void 0,void 0,function(){var t,e;return Object(ic.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(ic.b)(this,void 0,void 0,function(){var e;return Object(ic.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(ic.b)(this,void 0,void 0,function(){var t,e;return Object(ic.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(ic.b)(this,void 0,void 0,function(){var e,n=this;return Object(ic.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new uc(ac.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i,o,a,u;return Object(ic.d)(this,function(s){switch(s.label){case 0:return n=yc(t),r=lh(n.R)+"/documents",i={documents:e.map(function(t){return ah(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=s.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){vc(!!e.found);var n=uh(t,e.found.name),r=rh(e.found.updateTime),i=new rl({mapValue:{fields:e.found.fields}});return ol.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){vc(!!e.missing),vc(!!e.readTime);var n=uh(t,e.missing),r=rh(e.readTime);return ol.newNoDocument(n,r)}(t,e):pc()}(n.R,t);a.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=a.get(t.toString());vc(!!e),u.push(e)}),u)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new kf(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(ic.b)(this,void 0,void 0,function(){var t,e=this;return Object(ic.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Hc.fromPath(n);e.mutations.push(new Of(r,e.precondition(r)))}),[4,function(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i;return Object(ic.d)(this,function(o){switch(o.label){case 0:return n=yc(t),r=lh(n.R)+"/documents",i={writes:e.map(function(t){return ph(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw pc();e=Oc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new uc(ac.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?uf.updateTime(e):uf.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Oc.min()))throw new uc(ac.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return uf.updateTime(e)}return uf.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),zy=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new cv(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(ic.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(ic.d)(this,function(r){return t=new Ky(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Vc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Tf(e)}return!1},t}(),Gy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Kp.UNAUTHENTICATED,this.clientId=mc.u(),this.credentialListener=function(){},this.receivedInitialUser=new $h,this.credentials.setChangeListener(function(t){lc("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new uc(ac.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new $h;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(ic.b)(t,void 0,void 0,function(){var t,n;return Object(ic.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Bv(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Wy(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(ic.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),lc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(ic.b)(i,void 0,void 0,function(){return Object(ic.d)(this,function(t){switch(t.label){case 0:return[4,wp(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Qy(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r;return Object(ic.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Yy(t)];case 1:return n=i.sent(),lc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r;return Object(ic.d)(this,function(i){switch(i.label){case 0:return(n=yc(t)).asyncQueue.verifyOperationInProgress(),lc("RemoteStore","RemoteStore received new credentials"),r=Sv(n),n.$r.add(3),[4,gv(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,yv(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Yy(t){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(lc("FirestoreClient","Using default OfflineComponentProvider"),[4,Wy(t,new Fy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Xy(t){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(lc("FirestoreClient","Using default OnlineComponentProvider"),[4,Qy(t,new By)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Jy(t){return Yy(t).then(function(t){return t.persistence})}function Zy(t){return Yy(t).then(function(t){return t.localStore})}function $y(t){return Xy(t).then(function(t){return t.remoteStore})}function tg(t){return Xy(t).then(function(t){return t.syncEngine})}function eg(t){return Object(ic.b)(this,void 0,void 0,function(){var e,n;return Object(ic.d)(this,function(r){switch(r.label){case 0:return[4,Xy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=sy.bind(null,e.syncEngine),n.onUnlisten=ly.bind(null,e.syncEngine),n)]}})})}function ng(t,e,n){var r=this;void 0===n&&(n={});var i=new $h;return t.asyncQueue.enqueueAndForget(function(){return Object(ic.b)(r,void 0,void 0,function(){var r;return Object(ic.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Hy({next:function(o){e.enqueueAndForget(function(){return Yv(t,a)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new uc(ac.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new uc(ac.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new $v(Cl(n.path),o,{includeMetadataChanges:!0,so:!0});return Qv(t,a)},[4,eg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function rg(t,e,n){var r=this;void 0===n&&(n={});var i=new $h;return t.asyncQueue.enqueueAndForget(function(){return Object(ic.b)(r,void 0,void 0,function(){var r;return Object(ic.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Hy({next:function(n){e.enqueueAndForget(function(){return Yv(t,a)}),n.fromCache&&"server"===r.source?i.reject(new uc(ac.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new $v(n,o,{includeMetadataChanges:!0,so:!0});return Qv(t,a)},[4,eg(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var ig=function(t,e,n,r,i,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},og=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ag=new Map,ug=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},sg=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Kp.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),cg=function(){function t(t){var e=this;this.oc=null,this.currentUser=Kp.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(lc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(vc("string"==typeof n.accessToken),new ug(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return vc(null===t||"string"==typeof t),new Kp(t)},t}(),lg=function(){function t(t,e){this.ac=t,this.hc=e,this.type="FirstParty",this.user=Kp.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),fg=function(){function t(t,e){this.ac=t,this.hc=e}return t.prototype.getToken=function(){return Promise.resolve(new lg(this.ac,this.hc))},t.prototype.setChangeListener=function(t){t(Kp.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function hg(t,e,n){if(!n)throw new uc(ac.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function dg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new uc(ac.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function pg(t,e,n,r){if(!0===e&&!0===r)throw new uc(ac.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function vg(t){if(!Hc.isDocumentKey(t))throw new uc(ac.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function yg(t){if(Hc.isDocumentKey(t))throw new uc(ac.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function gg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":pc()}function mg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new uc(ac.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gg(t);throw new uc(ac.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function bg(t,e){if(e<=0)throw new uc(ac.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var wg=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new uc(ac.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new uc(ac.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,pg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),_g=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new wg({}),this._settingsFrozen=!1,t instanceof og?(this._databaseId=t,this._credentials=new sg):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new uc(ac.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new og(t.options.projectId)}(t),this._credentials=new cg(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new uc(ac.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new uc(ac.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wg(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new sg;switch(t.type){case"gapi":var e=t.client;return vc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new fg(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new uc(ac.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=ag.get(this))&&(lc("ComponentProvider","Removing Datastore"),ag.delete(this),t.terminate()),Promise.resolve();var t},t}(),kg=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Sg(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Og=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Sg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Cl(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(ic.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new kg(this.firestore,null,new Hc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Og);function Tg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(to.h)(t),hg("collection","path",e),t instanceof _g)return yg(n=Cc.fromString.apply(Cc,Object(ic.f)([e],r))),new Sg(t,null,n);if(!(t instanceof kg||t instanceof Sg))throw new uc(ac.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return yg(n=Cc.fromString.apply(Cc,Object(ic.f)([t.path],r)).child(Cc.fromString(e))),new Sg(t.firestore,null,n)}function Eg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(to.h)(t),1===arguments.length&&(e=mc.u()),hg("doc","path",e),t instanceof _g)return vg(n=Cc.fromString.apply(Cc,Object(ic.f)([e],r))),new kg(t,null,new Hc(n));if(!(t instanceof kg||t instanceof Sg))throw new uc(ac.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vg(n=t._path.child(Cc.fromString.apply(Cc,Object(ic.f)([e],r)))),new kg(t.firestore,t instanceof Sg?t._converter:null,new Hc(n))}function Ig(t,e){return t=Object(to.h)(t),e=Object(to.h)(e),(t instanceof kg||t instanceof Sg)&&(e instanceof kg||e instanceof Sg)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Cg(t,e){return t=Object(to.h)(t),e=Object(to.h)(e),t instanceof Og&&e instanceof Og&&t.firestore===e.firestore&&Ml(t._query,e._query)&&t._converter===e._converter}var xg=function(){function t(){var t=this;this.lc=Promise.resolve(),this.fc=[],this.dc=!1,this.wc=[],this._c=null,this.mc=!1,this.yc=[],this.Zi=new cv(this,"async_queue_retry"),this.gc=function(){var e=uv();e&&lc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=uv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.gc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.dc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ec(),this.Tc(t)},t.prototype.enterRestrictedMode=function(){if(!this.dc){this.dc=!0;var t=uv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.gc)}},t.prototype.enqueue=function(t){return this.Ec(),this.dc?new Promise(function(t){}):this.Tc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.fc.push(t),e.Ic()})},t.prototype.Ic=function(){return Object(ic.b)(this,void 0,void 0,function(){var t,e=this;return Object(ic.d)(this,function(n){switch(n.label){case 0:if(0===this.fc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fc[0]()];case 2:return n.sent(),this.fc.shift(),this.Zi.reset(),[3,4];case 3:if(!od(t=n.sent()))throw t;return lc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.fc.length>0&&this.Zi.ji(function(){return e.Ic()}),n.label=5;case 5:return[2]}})})},t.prototype.Tc=function(t){var e=this,n=this.lc.then(function(){return e.mc=!0,t().catch(function(t){throw e._c=t,e.mc=!1,fc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.mc=!1,t})});return this.lc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ec(),this.yc.indexOf(t)>-1&&(e=0);var i=qv.createAndSchedule(this,t,e,n,function(t){return r.Ac(t)});return this.wc.push(i),i},t.prototype.Ec=function(){this._c&&pc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Rc=function(){return Object(ic.b)(this,void 0,void 0,function(){var t;return Object(ic.d)(this,function(e){switch(e.label){case 0:return[4,t=this.lc];case 1:e.sent(),e.label=2;case 2:if(t!==this.lc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.bc=function(t){for(var e=0,n=this.wc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.vc=function(t){var e=this;return this.Rc().then(function(){e.wc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.wc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Rc()})},t.prototype.Pc=function(t){this.yc.push(t)},t.prototype.Ac=function(t){var e=this.wc.indexOf(t);this.wc.splice(e,1)},t}();function Ag(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new $h,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var jg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new xg,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(ic.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Rg(this),this._firestoreClient.terminate()},e}(_g);function Pg(t){return t._firestoreClient||Rg(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Rg(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new ig(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Gy(t._credentials,t._queue,r)}function Ng(t,e,n){var r=this,i=new $h;return t.asyncQueue.enqueue(function(){return Object(ic.b)(r,void 0,void 0,function(){var r;return Object(ic.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Wy(t,n)];case 1:return o.sent(),[4,Qy(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ac.FAILED_PRECONDITION||t.code===ac.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Dg(t){if(t._initialized||t._terminated)throw new uc(ac.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Lg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new uc(ac.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ac(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Mg=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Pc.fromBase64String(e))}catch(e){throw new uc(ac.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Pc.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Ug=function(t){this._methodName=t},Fg=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new uc(ac.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new uc(ac.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return bc(this._lat,t._lat)||bc(this._long,t._long)},t}(),Vg=/^__.*__$/,qg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new yf(t,this.data,this.fieldMask,e,this.fieldTransforms):new vf(t,this.data,e,this.fieldTransforms)},t}(),Bg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new yf(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Hg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pc()}}var Kg=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Vc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Sc",{get:function(){return this.settings.Sc},enumerable:!1,configurable:!0}),t.prototype.Dc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Cc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Dc({path:n,Nc:!1});return r.xc(t),r},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Dc({path:n,Nc:!1});return r.Vc(),r},t.prototype.kc=function(t){return this.Dc({path:void 0,Nc:!0})},t.prototype.Oc=function(t){return lm(t,this.settings.methodName,this.settings.$c||!1,this.path,this.settings.Mc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Vc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.xc(this.path.get(t))},t.prototype.xc=function(t){if(0===t.length)throw this.Oc("Document fields must not be empty");if(Hg(this.Sc)&&Vg.test(t))throw this.Oc('Document fields cannot begin and end with "__"')},t}(),zg=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||sv(t)}return t.prototype.Lc=function(t,e,n,r){return void 0===r&&(r=!1),new Kg({Sc:t,methodName:e,Mc:n,path:Ac.emptyPath(),Nc:!1,$c:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Gg(t){var e=t._freezeSettings(),n=sv(t._databaseId);return new zg(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Wg(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Lc(o.merge||o.mergeFields?2:0,e,n,i);am("Data must be an object, but it was:",a,r);var u,s,c=im(r,a);if(o.merge)u=new jc(a.fieldMask),s=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=um(e,h[f],n);if(!a.contains(d))throw new uc(ac.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");fm(l,d)||l.push(d)}u=new jc(l),s=a.fieldTransforms.filter(function(t){return u.covers(t.field)})}else u=null,s=a.fieldTransforms;return new qg(new rl(c),u,s)}var Qg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ic.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Sc)throw t.Oc(1===t.Sc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ug);function Yg(t,e,n){return new Kg({Sc:3,Mc:e.settings.Mc,methodName:t._methodName,Nc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Xg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ic.c)(e,t),e.prototype._toFieldTransform=function(t){return new of(t.path,new Xl)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ug),Jg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Bc=n,r}return Object(ic.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Yg(this,t,!0),n=this.Bc.map(function(t){return rm(t,e)}),r=new Jl(n);return new of(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ug),Zg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Bc=n,r}return Object(ic.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Yg(this,t,!0),n=this.Bc.map(function(t){return rm(t,e)}),r=new $l(n);return new of(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ug),$g=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(ic.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new ef(t.R,zl(t.R,this.qc));return new of(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ug);function tm(t,e,n,r){var i=t.Lc(1,e,n);am("Data must be an object, but it was:",i,r);var o=[],a=rl.empty();Tc(r,function(t,r){var u=cm(e,t,n);r=Object(to.h)(r);var s=i.Fc(u);if(r instanceof Qg)o.push(u);else{var c=rm(r,s);null!=c&&(o.push(u),a.set(u,c))}});var u=new jc(o);return new Bg(a,u,i.fieldTransforms)}function em(t,e,n,r,i,o){var a=t.Lc(1,e,n),u=[um(e,r,n)],s=[i];if(o.length%2!=0)throw new uc(ac.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(um(e,o[c])),s.push(o[c+1]);for(var l=[],f=rl.empty(),h=u.length-1;h>=0;--h)if(!fm(l,u[h])){var d=u[h],p=s[h];p=Object(to.h)(p);var v=a.Fc(d);if(p instanceof Qg)l.push(d);else{var y=rm(p,v);null!=y&&(l.push(d),f.set(d,y))}}var g=new jc(l);return new Bg(f,g,a.fieldTransforms)}function nm(t,e,n,r){return void 0===r&&(r=!1),rm(n,t.Lc(r?4:3,e))}function rm(t,e){if(om(t=Object(to.h)(t)))return am("Unsupported field value:",e,t),im(t,e);if(t instanceof Ug)return function(t,e){if(!Hg(e.Sc))throw e.Oc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Oc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nc&&4!==e.Sc)throw e.Oc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=rm(o[i],e.kc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(to.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zl(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=kc.fromDate(t);return{timestampValue:th(e.R,n)}}if(t instanceof kc)return n=new kc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:th(e.R,n)};if(t instanceof Fg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Mg)return{bytesValue:eh(e.R,t._byteString)};if(t instanceof kg){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Oc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ih(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Oc("Unsupported field value: "+gg(t))}(t,e)}function im(t,e){var n={};return Ec(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tc(t,function(t,r){var i=rm(r,e.Cc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function om(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof kc||t instanceof Fg||t instanceof Mg||t instanceof kg||t instanceof Ug)}function am(t,e,n){if(!om(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=gg(n);throw e.Oc("an object"===r?t+" a custom object":t+" "+r)}}function um(t,e,n){if((e=Object(to.h)(e))instanceof Lg)return e._internalPath;if("string"==typeof e)return cm(t,e);throw lm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var sm=new RegExp("[~\\*/\\[\\]]");function cm(t,e,n){if(e.search(sm)>=0)throw lm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Lg.bind.apply(Lg,Object(ic.f)([void 0],e.split(".")))))._internalPath}catch(r){throw lm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function lm(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var s="";return(o||a)&&(s+=" (found",o&&(s+=" in field "+r),a&&(s+=" in document "+i),s+=")"),new uc(ac.INVALID_ARGUMENT,(u+=". ")+t+s)}function fm(t,e){return t.some(function(t){return t.isEqual(e)})}var hm=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new kg(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new dm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(pm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),dm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ic.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(hm);function pm(t,e){return"string"==typeof e?cm(t,e):e instanceof Lg?e._internalPath:e._delegate._internalPath}var vm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ym=function(t){function e(e,n,r,i,o,a){var u=this;return(u=t.call(this,e,n,r,i,a)||this)._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Object(ic.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new gm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(pm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(hm),gm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ic.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(ym),mm=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new vm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new gm(n._firestore,n._userDataWriter,r.key,r,new vm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new uc(ac.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new gm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new vm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new gm(t._firestore,t._userDataWriter,e.doc.key,e.doc,new vm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:bm(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function bm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pc()}}function wm(t,e){return t instanceof ym&&e instanceof ym?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof mm&&e instanceof mm&&t._firestore===e._firestore&&Cg(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function _m(t){if(Al(t)&&0===t.explicitOrderBy.length)throw new uc(ac.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var km=function(){};function Om(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Sm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Uc=e,i.Qc=n,i.Kc=r,i.type="where",i}return Object(ic.c)(e,t),e.prototype._apply=function(t){var e=Gg(t.firestore),n=function(t,e,n,r,i,o,a){var u;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new uc(ac.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){jm(a,o);for(var s=[],c=0,l=a;c<l.length;c++)s.push(Am(r,t,l[c]));u={arrayValue:{values:s}}}else u=Am(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||jm(a,o),u=nm(n,"where",a,"in"===o||"not-in"===o);var f=fl.create(i,o,u);return function(t,e){if(e.g()){var n=Pl(t);if(null!==n&&!n.isEqual(e.field))throw new uc(ac.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=jl(t);null!==r&&Pm(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new uc(ac.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.Uc,this.Qc,this.Kc);return new Og(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new El(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(km),Tm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Uc=e,r.jc=n,r.type="orderBy",r}return Object(ic.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new uc(ac.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new uc(ac.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new kl(e,n);return function(t,e){if(null===jl(t)){var n=Pl(t);null!==n&&Pm(0,n,e.field)}}(t,r),r}(t._query,this.Uc,this.jc);return new Og(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new El(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(km),Em=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Wc=n,i.Gc=r,i}return Object(ic.c)(e,t),e.prototype._apply=function(t){return new Og(t.firestore,t._converter,Ll(t._query,this.Wc,this.Gc))},e}(km),Im=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(ic.c)(e,t),e.prototype._apply=function(t){var e=xm(t,this.type,this.zc,this.Hc);return new Og(t.firestore,t._converter,function(t,e){return new El(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(km),Cm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return Object(ic.c)(e,t),e.prototype._apply=function(t){var e=xm(t,this.type,this.zc,this.Hc);return new Og(t.firestore,t._converter,function(t,e){return new El(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(km);function xm(t,e,n,r){if(n[0]=Object(to.h)(n[0]),n[0]instanceof hm)return function(t,e,n,r,i){if(!r)throw new uc(ac.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,u=Nl(t);a<u.length;a++){var s=u[a];if(s.field.isKeyField())o.push(Jc(e,r.key));else{var c=r.data.field(s.field);if(Mc(c))throw new uc(ac.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new uc(ac.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new wl(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Gg(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new uc(ac.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],s=0;s<i.length;s++){var c=i[s];if(a[s].field.isKeyField()){if("string"!=typeof c)throw new uc(ac.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Rl(t)&&-1!==c.indexOf("/"))throw new uc(ac.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Cc.fromString(c));if(!Hc.isDocumentKey(l))throw new uc(ac.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Hc(l);u.push(Jc(e,f))}else{var h=nm(n,r,c);u.push(h)}}return new wl(u,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Am(t,e,n){if("string"==typeof(n=Object(to.h)(n))){if(""===n)throw new uc(ac.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rl(e)&&-1!==n.indexOf("/"))throw new uc(ac.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Cc.fromString(n));if(!Hc.isDocumentKey(r))throw new uc(ac.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Jc(t,new Hc(r))}if(n instanceof kg)return Jc(t,n._key);throw new uc(ac.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gg(n)+".")}function jm(t,e){if(!Array.isArray(t)||0===t.length)throw new uc(ac.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new uc(ac.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Pm(t,e,n){if(!n.isEqual(e))throw new uc(ac.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Rm=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Kc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Dc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Lc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw pc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Tc(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Fg(Dc(t.latitude),Dc(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Uc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Fc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Nc(t);return new kc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Cc.fromString(t);vc(xh(n));var r=new og(n.get(1),n.get(3)),i=new Hc(n.popFirst(5));return r.isEqual(e)||fc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Nm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Dm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ic.c)(e,t),e.prototype.convertBytes=function(t){return new Mg(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new kg(this.firestore,null,e)},e}(Rm),Lm=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Gg(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Mm(t,this._firestore),i=Nm(r._converter,e,n),o=Wg(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,uf.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Mm(t,this._firestore);return o="string"==typeof(e=Object(to.h)(e))||e instanceof Lg?em(this._dataReader,"WriteBatch.update",a._key,e,n,r):tm(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,uf.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Mm(t,this._firestore);return this._mutations=this._mutations.concat(new kf(e._key,uf.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new uc(ac.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Mm(t,e){if((t=Object(to.h)(t)).firestore!==e)throw new uc(ac.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Um=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ic.c)(e,t),e.prototype.convertBytes=function(t){return new Mg(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new kg(this.firestore,null,e)},e}(Rm);function Fm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=mg(t,kg);var o=mg(t.firestore,jg),a=Gg(o);return qm(o,[("string"==typeof(e=Object(to.h)(e))||e instanceof Lg?em(a,"updateDoc",t._key,e,n,r):tm(a,"updateDoc",t._key,e)).toMutation(t._key,uf.exists(!0))])}function Vm(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(to.h)(t);var a={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||Ag(i[u])||(a=i[u],u++);var s,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(Ag(i[u])){var h=i[u];i[u]=null===(e=h.next)||void 0===e?void 0:e.bind(h),i[u+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[u+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(t instanceof kg)c=mg(t.firestore,jg),l=Cl(t._key.path),s={next:function(e){i[u]&&i[u](Bm(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=mg(t,Og);c=mg(d.firestore,jg),l=d._query;var p=new Um(c);s={next:function(t){i[u]&&i[u](new mm(c,p,d,t))},error:i[u+1],complete:i[u+2]},_m(t._query)}return function(t,e,n,r){var i=this,o=new Hy(r),a=new $v(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(ic.b)(i,void 0,void 0,function(){var e;return Object(ic.d)(this,function(n){switch(n.label){case 0:return e=Qv,[4,eg(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(ic.b)(i,void 0,void 0,function(){var e;return Object(ic.d)(this,function(n){switch(n.label){case 0:return e=Yv,[4,eg(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(Pg(c),l,f,s)}function qm(t,e){return function(t,e){var n=this,r=new $h;return t.asyncQueue.enqueueAndForget(function(){return Object(ic.b)(n,void 0,void 0,function(){var n;return Object(ic.d)(this,function(i){switch(i.label){case 0:return n=fy,[4,tg(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Pg(t),e)}function Bm(t,e,n){var r=n.docs.get(e._key),i=new Um(t);return new ym(t,i,e._key,r,new vm(n.hasPendingWrites,n.fromCache),e._converter)}var Hm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(ic.c)(e,t),e.prototype.get=function(e){var n=this,r=Mm(e,this._firestore),i=new Um(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new ym(n._firestore,i,r._key,t._document,new vm(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Gg(t)}return t.prototype.get=function(t){var e=this,n=Mm(t,this._firestore),r=new Dm(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return pc();var i=t[0];if(i.isFoundDocument())return new hm(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new hm(e._firestore,r,n._key,null,n._converter);throw pc()})},t.prototype.set=function(t,e,n){var r=Mm(t,this._firestore),i=Nm(r._converter,e,n),o=Wg(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Mm(t,this._firestore);return o="string"==typeof(e=Object(to.h)(e))||e instanceof Lg?em(this._dataReader,"Transaction.update",a._key,e,n,r):tm(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=Mm(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Km(){if("undefined"==typeof Uint8Array)throw new uc(ac.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function zm(){if("undefined"==typeof atob)throw new uc(ac.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Gm=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return zm(),new t(Mg.fromBase64String(e))},t.fromUint8Array=function(e){return Km(),new t(Mg.fromUint8Array(e))},t.prototype.toBase64=function(){return zm(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Km(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Wm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Dg(t=mg(t,jg));var n=Pg(t),r=t._freezeSettings(),i=new By;return Ng(n,i,new Vy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Dg(t=mg(t,jg));var e=Pg(t),n=t._freezeSettings(),r=new By;return Ng(e,r,new qy(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new uc(ac.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new $h;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(ic.b)(e,void 0,void 0,function(){var e;return Object(ic.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ic.b)(this,void 0,void 0,function(){return Object(ic.d)(this,function(e){switch(e.label){case 0:return nd.yt()?[4,nd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(dp(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Qm=function(){function t(t,e,n){var r=this;this._delegate=e,this.Jc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof og||(this.Yc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=mg(t,_g))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&hc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(ic.b)(e,void 0,void 0,function(){var e,n;return Object(ic.d)(this,function(r){switch(r.label){case 0:return[4,Jy(t)];case 1:return e=r.sent(),[4,$y(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=yc(t);return e.$r.delete(0),yv(e)}(n))]}})})})}(Pg(mg(this._delegate,jg)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(ic.b)(e,void 0,void 0,function(){var e,n;return Object(ic.d)(this,function(r){switch(r.label){case 0:return[4,Jy(t)];case 1:return e=r.sent(),[4,$y(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(ic.b)(this,void 0,void 0,function(){var e;return Object(ic.d)(this,function(n){switch(n.label){case 0:return(e=yc(t)).$r.add(0),[4,gv(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Pg(mg(this._delegate,jg)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&pg("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Jc.enableMultiTabIndexedDbPersistence(this):this.Jc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Jc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Yc&&(this.Yc._removeServiceInstance("firestore"),this.Yc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new $h;return t.asyncQueue.enqueueAndForget(function(){return Object(ic.b)(e,void 0,void 0,function(){var e;return Object(ic.d)(this,function(r){switch(r.label){case 0:return e=gy,[4,tg(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Pg(mg(this._delegate,jg)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Hy(e);return t.asyncQueue.enqueueAndForget(function(){return Object(ic.b)(n,void 0,void 0,function(){var e;return Object(ic.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){yc(t).Gr.add(e),e.next()},[4,eg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(ic.b)(n,void 0,void 0,function(){var e;return Object(ic.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){yc(t).Gr.delete(e)},[4,eg(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Pg(t=mg(t,jg)),Ag(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Yc)throw new uc(ac.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Yc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new sb(this,Tg(this._delegate,t))}catch(t){throw tb(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new $m(this,Eg(this._delegate,t))}catch(t){throw tb(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new ob(this,function(t,e){if(t=mg(t,_g),hg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new uc(ac.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Og(t,null,function(t){return new El(Cc.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw tb(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new $h;return t.asyncQueue.enqueueAndForget(function(){return Object(ic.b)(n,void 0,void 0,function(){var n;return Object(ic.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Xy(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new zy(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Pg(t),function(n){return e(new Hm(t,n))})}(this._delegate,function(n){return t(new Xm(e,n))})},t.prototype.batch=function(){var t=this;return Pg(this._delegate),new Jm(new Lm(this._delegate,function(e){return qm(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new uc(ac.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new uc(ac.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Ym=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ic.c)(e,t),e.prototype.convertBytes=function(t){return new Gm(new Mg(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return $m.Xc(e,this.firestore,null)},e}(Rm),Xm=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Ym(t)}return t.prototype.get=function(t){var e=this,n=cb(t);return this._delegate.get(n).then(function(t){return new rb(e._firestore,new ym(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=cb(t);return n?(dg("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=cb(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(ic.f)([a,e,n],i)),this},t.prototype.delete=function(t){var e=cb(t);return this._delegate.delete(e),this},t}(),Jm=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=cb(t);return n?(dg("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=cb(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,Object(ic.f)([a,e,n],i)),this},t.prototype.delete=function(t){var e=cb(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Zm=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new gm(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ib(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.Zc=function(e,n){var r=t.tu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Ym(e),n),i.set(n,o)),o},t}();Zm.tu=new WeakMap;var $m=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ym(t)}return t.eu=function(e,n,r){if(e.length%2!=0)throw new uc(ac.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new kg(n._delegate,r,new Hc(e)))},t.Xc=function(e,n,r){return new t(n,new kg(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new sb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new sb(this.firestore,Tg(this._delegate,t))}catch(t){throw tb(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(to.h)(t))instanceof kg&&Ig(this._delegate,t)},t.prototype.set=function(t,e){e=dg("DocumentReference.set",e);try{return function(t,e,n){t=mg(t,kg);var r=mg(t.firestore,jg),i=Nm(t._converter,e,n);return qm(r,[Wg(Gg(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,uf.none())])}(this._delegate,t,e)}catch(t){throw tb(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Fm(this._delegate,t):Fm.apply(void 0,Object(ic.f)([this._delegate,t,e],n))}catch(t){throw tb(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return qm(mg((t=this._delegate).firestore,jg),[new kf(t._key,uf.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=eb(e),i=nb(e,function(e){return new rb(t.firestore,new ym(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return Vm(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=mg(t,kg);var e=mg(t.firestore,jg),n=Pg(e),r=new Um(e);return function(t,e){var n=this,r=new $h;return t.asyncQueue.enqueueAndForget(function(){return Object(ic.b)(n,void 0,void 0,function(){var n;return Object(ic.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ic.b)(this,void 0,void 0,function(){var r,i;return Object(ic.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=yc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new uc(ac.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Bv(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Zy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new ym(e,r,t._key,n,new vm(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=mg(t,kg);var e=mg(t.firestore,jg);return ng(Pg(e),t._key,{source:"server"}).then(function(n){return Bm(e,t,n)})}(this._delegate):function(t){t=mg(t,kg);var e=mg(t.firestore,jg);return ng(Pg(e),t._key).then(function(n){return Bm(e,t,n)})}(this._delegate)).then(function(t){return new rb(e.firestore,new ym(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Zm.Zc(this.firestore,e):null))},t}();function tb(t,e,n){return t.message=t.message.replace(e,n),t}function eb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Ag(r))return r}return{}}function nb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Ag(t[0])?t[0]:Ag(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var rb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new $m(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return wm(this._delegate,t._delegate)},t}(),ib=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ic.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(rb),ob=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ym(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Om(this._delegate,function(t,e,n){var r=e,i=pm("where",t);return new Sm(i,r,n)}(e,n,r)))}catch(e){throw tb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Om(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=pm("orderBy",t);return new Tm(r,n)}(e,n)))}catch(e){throw tb(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Om(this._delegate,function(t){return bg("limit",t),new Em("limit",t,"F")}(e)))}catch(e){throw tb(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Om(this._delegate,function(t){return bg("limitToLast",t),new Em("limitToLast",t,"L")}(e)))}catch(e){throw tb(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Om(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Im("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw tb(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Om(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Im("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw tb(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Om(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cm("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw tb(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Om(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Cm("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw tb(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Cg(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=mg(t,Og);var e=mg(t.firestore,jg),n=Pg(e),r=new Um(e);return function(t,e){var n=this,r=new $h;return t.asyncQueue.enqueueAndForget(function(){return Object(ic.b)(n,void 0,void 0,function(){var n;return Object(ic.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ic.b)(this,void 0,void 0,function(){var r,i,o,a,u;return Object(ic.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Cp(t,e,!0)];case 1:return u=s.sent(),r=new iy(e,u.Bn),i=r._o(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=s.sent(),u=Bv(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Zy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new mm(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=mg(t,Og);var e=mg(t.firestore,jg),n=Pg(e),r=new Um(e);return rg(n,t._query,{source:"server"}).then(function(n){return new mm(e,r,t,n)})}(this._delegate):function(t){t=mg(t,Og);var e=mg(t.firestore,jg),n=Pg(e),r=new Um(e);return _m(t._query),rg(n,t._query).then(function(n){return new mm(e,r,t,n)})}(this._delegate)).then(function(t){return new ub(e.firestore,new mm(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=eb(e),i=nb(e,function(e){return new ub(t.firestore,new mm(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Vm(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Zm.Zc(this.firestore,e):null))},t}(),ab=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new ib(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),ub=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new ob(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new ib(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new ab(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new ib(n._firestore,r))})},t.prototype.isEqual=function(t){return wm(this._delegate,t._delegate)},t}(),sb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(ic.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new $m(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new $m(this.firestore,void 0===t?Eg(this._delegate):Eg(this._delegate,t))}catch(t){throw tb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=mg(t.firestore,jg),r=Eg(t),i=Nm(t._converter,e);return qm(n,[Wg(Gg(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,uf.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new $m(e.firestore,t)})},e.prototype.isEqual=function(t){return Ig(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Zm.Zc(this.firestore,t):null))},e}(ob);function cb(t){return mg(t,kg)}var lb,fb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Lg.bind.apply(Lg,Object(ic.f)([void 0],t)))}return t.documentId=function(){return new t(Ac.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(to.h)(t))instanceof Lg&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),hb=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Xg("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Qg("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jg("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zg("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new $g("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),db=o("/6Yf"),pb={Firestore:Qm,GeoPoint:Fg,Timestamp:kc,Blob:Gm,Transaction:Xm,WriteBatch:Jm,DocumentReference:$m,DocumentSnapshot:rb,Query:ob,QueryDocumentSnapshot:ib,QuerySnapshot:ub,CollectionReference:sb,FieldPath:fb,FieldValue:hb,setLogLevel:function(t){sc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new db.a("firestore",function(t){return function(t,e){return new Qm(t,new jg(t,e),new Wm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},pb)))})(lb=$i.a),lb.registerVersion("@firebase/firestore","2.2.2");var vb=o("VRyK"),yb=o("qgXg"),gb=o("Ylt2"),mb=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return h(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return p(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}f(_(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new bb(this._getNow(),t)),this._trimBufferThenGetEvents()),f(_(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Ht.a;if(this.isStopped||this.hasError?e=Be.a.EMPTY:(this.observers.push(t),e=new gb.a(this,t)),i&&t.add(t=new Xi.a(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var u=0;u<o&&!t.closed;u++)t.next(r[u].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||yb.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(Bt.a),bb=function t(e,n){h(this,t),this.time=e,this.value=n};function wb(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,u=t.refCount,s=t.scheduler,c=0,l=!1,f=!1;return function(t){var r;c++,!e||l?(l=!1,e=new mb(i,a,s),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}}),f&&(n=void 0)):r=e.subscribe(this),this.add(function(){c--,r.unsubscribe(),r=void 0,n&&!f&&u&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}function _b(t,e){return e?le(function(){return t},e):le(function(){return t})}var kb,Ob=o("tf+s"),Sb=new u.q("angularfire2.auth.use-emulator"),Tb=new u.q("angularfire2.auth.settings"),Eb=new u.q("angularfire2.auth.tenant-id"),Ib=new u.q("angularfire2.auth.langugage-code"),Cb=new u.q("angularfire2.auth.use-device-language"),xb=new u.q("angularfire.auth.persistence"),Ab=((kb=function t(e,n,r,i,a,u,s,c,l,f){h(this,t);var d=new Ji.d(i),p=Object(Ji.h)(d),v=new Bt.a,y=Object(qt.a)(void 0).pipe(Object(Xi.b)(d.outsideAngular),le(function(){return i.runOutsideAngular(function(){return o.e(5).then(o.bind(null,"6nsN"))})}),Object(se.a)(function(){return Object(Ji.g)(e,i,n)}),Object(se.a)(function(t){return i.runOutsideAngular(function(){var e=a,n=u;return Object(Ji.f)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var r=i.runOutsideAngular(function(){return t.auth()});return e&&r.useEmulator("http://".concat(e.join(":"))),s&&(r.tenantId=s),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),f&&r.setPersistence(f),r},[e,s,c,l,n,f])})}),wb({bufferSize:1,refCount:!1}));if($(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(qt.a)(null);else{y.pipe(Ve()).subscribe();var g=y.pipe(le(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),p,wb({bufferSize:1,refCount:!1})),m=function(t){return new Jt.a(function(e){return{unsubscribe:i.runOutsideAngular(function(){return t(e)})}})},b=y.pipe(le(function(t){return m(t.onAuthStateChanged.bind(t))})),w=y.pipe(le(function(t){return m(t.onIdTokenChanged.bind(t))}));this.authState=g.pipe(_b(b),Object(Ob.a)(d.outsideAngular),Object(Xi.b)(d.insideAngular)),this.user=g.pipe(_b(w),Object(Ob.a)(d.outsideAngular),Object(Xi.b)(d.insideAngular)),this.idToken=this.user.pipe(le(function(t){return t?Object(Vt.a)(t.getIdToken()):Object(qt.a)(null)})),this.idTokenResult=this.user.pipe(le(function(t){return t?Object(Vt.a)(t.getIdTokenResult()):Object(qt.a)(null)})),this.credential=Object(vb.a)(g,v,this.authState.pipe(_e(function(t){return!t}))).pipe(Object(se.a)(function(t){return(null==t?void 0:t.user)?t:null}),Object(Ob.a)(d.outsideAngular),Object(Xi.b)(d.insideAngular))}return Object(Ji.i)(this,y,i,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return v.next(t)})}}})}).\u0275fac=function(t){return new(t||kb)(u.Pb(Ji.c),u.Pb(Ji.b,8),u.Pb(u.B),u.Pb(u.z),u.Pb(Sb,8),u.Pb(Tb,8),u.Pb(Eb,8),u.Pb(Ib,8),u.Pb(Cb,8),u.Pb(xb,8))},kb.\u0275prov=Object(u.Eb)({factory:function(){return new kb(Object(u.Pb)(Ji.c),Object(u.Pb)(Ji.b,8),Object(u.Pb)(u.B),Object(u.Pb)(u.z),Object(u.Pb)(Sb,8),Object(u.Pb)(Tb,8),Object(u.Pb)(Eb,8),Object(u.Pb)(Ib,8),Object(u.Pb)(Cb,8),Object(u.Pb)(xb,8))},token:kb,providedIn:"any"}),kb);Object(Ji.e)(Ab,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var jb,Pb=((jb=function t(){h(this,t)}).\u0275mod=u.Gb({type:jb}),jb.\u0275inj=u.Fb({factory:function(t){return new(t||jb)},providers:[Ab]}),jb);function Rb(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki.b;return new Jt.a(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function Nb(t,e){return Rb(t,e).pipe(Object(se.a)(function(t){return{payload:t,type:"query"}}))}function Db(t,n){return Nb(t,n).pipe(ge(void 0),zi(),Object(se.a)(function(t){var n=e(t,2),r=n[0],i=n[1],o=i.payload.docChanges(),a=o.map(function(t){return{type:t.type,payload:t}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var n=o.find(function(e){return e.doc.ref.isEqual(t.ref)}),i=null==r?void 0:r.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(t.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(t.metadata)||a.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),a}))}function Lb(t,e,n){return Db(t,n).pipe(me(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Mb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Mb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Mb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),function(t){return t.lift(new Qi(void 0,void 0))},Object(se.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function Mb(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function Ub(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var Fb=function(){function n(t,e,r){h(this,n),this.ref=t,this.query=e,this.afs=r}return p(n,[{key:"stateChanges",value:function(t){var n=Db(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(n=n.pipe(Object(se.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),n.pipe(ge(void 0),zi(),_e(function(t){var n=e(t,2),r=n[0];return n[1].length>0||!r}),Object(se.a)(function(t){var n=e(t,2);n[0];return n[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(me(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=Ub(t);return Lb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Nb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(se.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Vt.a)(this.query.get(t)).pipe(Object(Xi.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new Vb(this.ref.doc(t),this.afs)}}]),n}(),Vb=function(){function n(t,e){h(this,n),this.ref=t,this.afs=e}return p(n,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=Gb(this.ref.collection(t),e),r=n.ref,i=n.query;return new Fb(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return Rb(this.ref,this.afs.schedulers.outsideAngular).pipe(ge(void 0),zi(),Object(se.a)(function(t){var n=e(t,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(se.a)(function(n){var r=n.payload;return e.idField?Object.assign(Object.assign({},r.data()),t({},e.idField,r.id)):r.data()}))}},{key:"get",value:function(t){return Object(Vt.a)(this.ref.get(t)).pipe(Object(Xi.b)(this.afs.schedulers.insideAngular))}}]),n}(),qb=function(){function e(t,n){h(this,e),this.query=t,this.afs=n}return p(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?Db(this.query,this.afs.schedulers.outsideAngular).pipe(Object(se.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),_e(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):Db(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(me(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=Ub(t);return Lb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Nb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(se.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(t({},e.idField,n.id),n.data()):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Vt.a)(this.query.get(t)).pipe(Object(Xi.b)(this.afs.schedulers.insideAngular))}}]),e}(),Bb=new u.q("angularfire2.enableFirestorePersistence"),Hb=new u.q("angularfire2.firestore.persistenceSettings"),Kb=new u.q("angularfire2.firestore.settings"),zb=new u.q("angularfire2.firestore.use-emulator");function Gb(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var Wb,Qb,Yb,Xb,Jb,Zb,$b=((Yb=function(){function t(n,r,o,a,u,s,c,l,f){h(this,t),this.schedulers=new Ji.d(s),this.keepUnstableUntilFirst=Object(Ji.h)(this.schedulers);var d=Object(Ji.g)(n,s,r);!Zi.a.auth&&f&&Object(Ji.j)();var p=l,v=e(Object(Ji.f)("".concat(d.name,".firestore"),"AngularFirestore",d,function(){var t=s.runOutsideAngular(function(){return d.firestore()});return a&&t.settings(a),p&&t.useEmulator.apply(t,i(p)),o&&!$(u)?[t,s.runOutsideAngular(function(){try{return Object(Vt.a)(t.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(lb){return"undefined"!=typeof console&&console.warn(lb),Object(qt.a)(!1)}})]:[t,Object(qt.a)(!1)]},[a,p,o]),2);this.firestore=v[0],this.persistenceEnabled$=v[1]}return p(t,[{key:"collection",value:function(t,e){var n=Gb("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new Fb(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new qb(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new Vb(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||Yb)(u.Pb(Ji.c),u.Pb(Ji.b,8),u.Pb(Bb,8),u.Pb(Kb,8),u.Pb(u.B),u.Pb(u.z),u.Pb(Hb,8),u.Pb(zb,8),u.Pb(Sb,8))},Yb.\u0275prov=Object(u.Eb)({factory:function(){return new Yb(Object(u.Pb)(Ji.c),Object(u.Pb)(Ji.b,8),Object(u.Pb)(Bb,8),Object(u.Pb)(Kb,8),Object(u.Pb)(u.B),Object(u.Pb)(u.z),Object(u.Pb)(Hb,8),Object(u.Pb)(zb,8),Object(u.Pb)(Sb,8))},token:Yb,providedIn:"any"}),Yb),tw=((Qb=function(){function t(){h(this,t)}return p(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:Bb,useValue:!0},{provide:Hb,useValue:e}]}}}]),t}()).\u0275mod=u.Gb({type:Qb}),Qb.\u0275inj=u.Fb({factory:function(t){return new(t||Qb)},providers:[$b]}),Qb),ew=((Wb=function(){function t(e){h(this,t),this.db=e,this.dbPath="/PopularMovies",this.dbPathTopRated="/TopRatedMovies",this.MoviesList=this.db.collection(this.dbPath),this.TopRatedMoviesList=this.db.collection(this.dbPathTopRated)}return p(t,[{key:"getAllPopularMovies",value:function(){return this.MoviesList}},{key:"getAllTopRatedMovies",value:function(){return this.TopRatedMoviesList}},{key:"getCollection",value:function(t){this.MoviesList=this.db.collection(this.dbPath,function(e){return e.orderBy(t,"desc")}),this.MovieObseravable=this.MoviesList.snapshotChanges().pipe(Object(se.a)(function(t){return t.map(function(t){var e=t.payload.doc.data();return e.idcollection=t.payload.doc.id,e})}))}},{key:"sortByAuthor",value:function(){return this.db.collection("PopularMovies",function(t){return t.orderBy("popularity","desc")})}}]),t}()).\u0275fac=function(t){return new(t||Wb)(u.Pb($b))},Wb.\u0275prov=u.Eb({token:Wb,factory:Wb.\u0275fac,providedIn:"root"}),Wb),nw=["close"],rw=function(){return["/movies/popular"]},iw=function(){return["/movies/topRated"]},ow=((Zb=function(){function t(){h(this,t),this.nav_after_login=!1,this.nav_before_login=!0,this.closeAddExpenseModal=new u.l("button")}return p(t,[{key:"ngOnInit",value:function(){}},{key:"login",value:function(){this.nav_after_login=!0,this.nav_before_login=!1,this.closeAddExpenseModal.nativeElement.click()}}]),t}()).\u0275fac=function(t){return new(t||Zb)},Zb.\u0275cmp=u.Cb({type:Zb,selectors:[["app-header"]],viewQuery:function(t,e){var n;1&t&&u.jc(nw,!0),2&t&&u.Zb(n=u.Tb())&&(e.closeAddExpenseModal=n.first)},decls:70,vars:4,consts:[[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","assets/logo.PNG"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"dark-blue-text"],[1,"fas","fa-bars","fa-1x"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item","dropdown"],["href","#","id","movies","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link"],["aria-labelledby","movies",1,"dropdown-menu"],["href","#",1,"dropdown-item",3,"routerLink"],["href","#","id","tvshown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link"],["aria-labelledby","tvshown","id","tvshownmenu",1,"dropdown-menu"],["href","#",1,"dropdown-item"],["href","#","id","peaple","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link"],["aria-labelledby","peaple",1,"dropdown-menu"],["href","#","id","more","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link"],["aria-labelledby","more",1,"dropdown-menu"],[1,"d-flex"],[1,"fas","fa-plus"],["width","70","height","70"],["width","45","height","40","y","10",2,"fill","#032541","stroke-width","1","stroke","white"],["x","12","y","35","fill","white",1,"fw-bold"],[1,"fas","fa-bell"],["height","70","width","70"],["cx","20","cy","30","r","20","stroke-width","3","fill","#0177D2"],["x","15","y","35","fill","white",1,"fw-bold"],[1,"fas","fa-search"]],template:function(t,e){1&t&&(u.Lb(0,"nav",0),u.Lb(1,"div",1),u.Lb(2,"a",2),u.Jb(3,"img",3),u.Kb(),u.Lb(4,"button",4),u.Lb(5,"span",5),u.Jb(6,"i",6),u.Kb(),u.Kb(),u.Lb(7,"div",7),u.Lb(8,"ul",8),u.Lb(9,"li",9),u.Lb(10,"a",10),u.fc(11," Movies "),u.Kb(),u.Lb(12,"ul",11),u.Lb(13,"li"),u.Lb(14,"a",12),u.fc(15,"Popular"),u.Kb(),u.Kb(),u.Lb(16,"li"),u.Lb(17,"a",12),u.fc(18,"Top Rated"),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Lb(19,"li",9),u.Lb(20,"a",13),u.fc(21," TV Shows "),u.Kb(),u.Lb(22,"ul",14),u.Lb(23,"li"),u.Lb(24,"a",15),u.fc(25,"Popular"),u.Kb(),u.Kb(),u.Lb(26,"li"),u.Lb(27,"a",15),u.fc(28,"Airing Today"),u.Kb(),u.Kb(),u.Lb(29,"li"),u.Lb(30,"a",15),u.fc(31,"On TV"),u.Kb(),u.Kb(),u.Lb(32,"li"),u.Lb(33,"a",15),u.fc(34,"Top Rated"),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Lb(35,"li",9),u.Lb(36,"a",16),u.fc(37," Peaple "),u.Kb(),u.Lb(38,"ul",17),u.Lb(39,"li"),u.Lb(40,"a",15),u.fc(41,"Popular Peaple"),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Lb(42,"li",9),u.Lb(43,"a",18),u.fc(44," More "),u.Kb(),u.Lb(45,"ul",19),u.Lb(46,"li"),u.Lb(47,"a",15),u.fc(48,"Discussions"),u.Kb(),u.Kb(),u.Lb(49,"li"),u.Lb(50,"a",15),u.fc(51," Leaderboard"),u.Kb(),u.Kb(),u.Lb(52,"li"),u.Lb(53,"a",15),u.fc(54,"Support"),u.Kb(),u.Kb(),u.Lb(55,"li"),u.Lb(56,"a",15),u.fc(57,"API"),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Lb(58,"div",20),u.Jb(59,"i",21),u.Vb(),u.Lb(60,"svg",22),u.Jb(61,"rect",23),u.Lb(62,"text",24),u.fc(63,"EN"),u.Kb(),u.Kb(),u.Ub(),u.Jb(64,"i",25),u.Vb(),u.Lb(65,"svg",26),u.Jb(66,"circle",27),u.Lb(67,"text",28),u.fc(68,"S"),u.Kb(),u.Kb(),u.Ub(),u.Jb(69,"i",29),u.Kb(),u.Kb(),u.Kb(),u.Kb()),2&t&&(u.yb(14),u.Xb("routerLink",u.Yb(2,rw)),u.yb(3),u.Xb("routerLink",u.Yb(3,iw)))},directives:[mi],styles:["nav[_ngcontent-%COMP%]{background-color:#032541!important}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:16px}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:15px}nav[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:20px;padding-right:20px;align-items:center;margin-top:20px}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover + ul[_ngcontent-%COMP%]{display:block}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover + ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#032541;display:block}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#032541!important}.fa-1x[_ngcontent-%COMP%]{font-size:50px;margin-top:0!important;padding:7px 17px 5px}.navbar-toggler.toggler-example[_ngcontent-%COMP%]{cursor:pointer}.navbar-toggler[_ngcontent-%COMP%]{border:none!important;outline:none!important;text-align:center}"]}),Zb),aw=((Jb=function(){function t(){h(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Jb)},Jb.\u0275cmp=u.Cb({type:Jb,selectors:[["app-footer"]],decls:48,vars:0,consts:[[1,"container-fluid"],[1,"row","p-5","justify-content-center"],[1,"col-sm-0","col-md-2"],["src","assets/logo_footer.PNG","width","100%","height","150"],[1,"col-6","col-sm-3","col-md-3","col-lg-2"],[1,"pt-4","pb-2"]],template:function(t,e){1&t&&(u.Lb(0,"div",0),u.Lb(1,"div",1),u.Lb(2,"div",2),u.Jb(3,"img",3),u.Kb(),u.Lb(4,"div",4),u.Lb(5,"h5",5),u.fc(6,"THE BASICS"),u.Kb(),u.Lb(7,"p"),u.fc(8,"About TMDB"),u.Kb(),u.Lb(9,"p"),u.fc(10,"Contact Us"),u.Kb(),u.Lb(11,"p"),u.fc(12,"Support Forums"),u.Kb(),u.Lb(13,"p"),u.fc(14,"API"),u.Kb(),u.Lb(15,"p"),u.fc(16,"System Status"),u.Kb(),u.Kb(),u.Lb(17,"div",4),u.Lb(18,"h5",5),u.fc(19,"GET INVOLVED"),u.Kb(),u.Lb(20,"p"),u.fc(21,"Contribution Bible"),u.Kb(),u.Lb(22,"p"),u.fc(23,"3rd Party Applications"),u.Kb(),u.Lb(24,"p"),u.fc(25,"Add New Movie"),u.Kb(),u.Lb(26,"p"),u.fc(27,"Add New TV Show"),u.Kb(),u.Kb(),u.Lb(28,"div",4),u.Lb(29,"h5",5),u.fc(30,"COMMUNITY"),u.Kb(),u.Lb(31,"p"),u.fc(32,"Guidelines"),u.Kb(),u.Lb(33,"p"),u.fc(34,"Discussions"),u.Kb(),u.Lb(35,"p"),u.fc(36,"Leaderboard"),u.Kb(),u.Lb(37,"p"),u.fc(38,"Twitter"),u.Kb(),u.Kb(),u.Lb(39,"div",4),u.Lb(40,"h5",5),u.fc(41,"LEGAL"),u.Kb(),u.Lb(42,"p"),u.fc(43,"Terms of Use"),u.Kb(),u.Lb(44,"p"),u.fc(45,"API Terms of Use"),u.Kb(),u.Lb(46,"p"),u.fc(47,"Privacy Policy"),u.Kb(),u.Kb(),u.Kb(),u.Kb())},styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#031e36}.col-sm-2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .col-sm-3[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#fff;margin:0;padding:0}.col-sm-3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#f5f5f5}"]}),Jb),uw=((Xb=function(){function t(e,n){h(this,t),this.el=e,this.renderer=n}return p(t,[{key:"onMouseOver",value:function(){this.ChangeBackgroundImg()}},{key:"ChangeBackgroundImg",value:function(){this.renderer.setAttribute(this.target,"src",this.el.nativeElement.src),this.renderer.addClass(this.target,"fade-in")}}]),t}()).\u0275fac=function(t){return new(t||Xb)(u.Ib(u.l),u.Ib(u.D))},Xb.\u0275dir=u.Db({type:Xb,selectors:[["","appChangeBackgroundOnHover",""]],hostBindings:function(t,e){1&t&&u.Sb("mouseover",function(){return e.onMouseOver()})},inputs:{target:"target"}}),Xb);function sw(t,e){if(1&t){var n=u.Mb();u.Lb(0,"div",19),u.Sb("click",function(){u.bc(n);var t=e.$implicit;return u.Wb().goMoviedetails(t.idcollection)}),u.Jb(1,"img",20),u.Vb(),u.Lb(2,"svg",21),u.Jb(3,"circle",22),u.Lb(4,"text",23),u.fc(5),u.Kb(),u.Kb(),u.Ub(),u.Lb(6,"div",24),u.Lb(7,"p"),u.fc(8,"..."),u.Kb(),u.Kb(),u.Lb(9,"h5",25),u.fc(10),u.Kb(),u.Lb(11,"p"),u.fc(12),u.Kb(),u.Kb()}if(2&t){var r=e.$implicit;u.yb(1),u.Xb("src",r.poster_path,u.cc),u.yb(4),u.hc("",r.vote_average,"%"),u.yb(5),u.hc("",r.title," "),u.yb(2),u.hc("",r.release_date," ")}}function cw(t,e){if(1&t&&(u.Lb(0,"div",26),u.Jb(1,"img",27),u.Lb(2,"h5",28),u.fc(3,"The Falcon and the winter Solider "),u.Kb(),u.Lb(4,"p",29),u.fc(5,"Symbol "),u.Kb(),u.Kb()),2&t){var n=e.$implicit;u.Wb();var r=u.ac(22);u.yb(1),u.Xb("target",r)("src",n.poster_path,u.cc)}}function lw(t,e){if(1&t){var n=u.Mb();u.Lb(0,"div",30),u.Sb("click",function(){u.bc(n);var t=e.$implicit;return u.Wb().goTopMoviedetails(t.idcollection)}),u.Jb(1,"img",20),u.Vb(),u.Lb(2,"svg",21),u.Jb(3,"circle",22),u.Lb(4,"text",23),u.fc(5),u.Kb(),u.Kb(),u.Ub(),u.Lb(6,"div",24),u.Lb(7,"p"),u.fc(8,"..."),u.Kb(),u.Kb(),u.Lb(9,"h5",25),u.fc(10),u.Kb(),u.Lb(11,"p"),u.fc(12),u.Kb(),u.Kb()}if(2&t){var r=e.$implicit;u.yb(1),u.Xb("src",r.poster_path,u.cc),u.yb(4),u.hc("",r.vote_average,"%"),u.yb(5),u.hc("",r.title," "),u.yb(2),u.hc("",r.release_date," ")}}var fw,hw,dw=((hw=function(){function t(e,n,r){h(this,t),this.db=e,this.router=n,this.popularMovieService=r,this.popularMoviesList=[],this.topRateMoviesList=[],this.retrievePopularMovies(),this.retrieveTopRatedrMovies()}return p(t,[{key:"ngOnInit",value:function(){}},{key:"retrievePopularMovies",value:function(){var t=this;this.popularMovieService.getAllPopularMovies().snapshotChanges().pipe(Object(se.a)(function(t){return t.map(function(t){return Object.assign({idcollection:t.payload.doc.id},t.payload.doc.data())})})).subscribe(function(e){t.popularMoviesList=e,console.log(t.popularMoviesList)})}},{key:"retrieveTopRatedrMovies",value:function(){var t=this;this.popularMovieService.getAllTopRatedMovies().snapshotChanges().pipe(Object(se.a)(function(t){return t.map(function(t){return Object.assign({idcollection:t.payload.doc.id},t.payload.doc.data())})})).subscribe(function(e){t.topRateMoviesList=e,console.log(t.topRateMoviesList)})}},{key:"goMoviedetails",value:function(t){this.router.navigate(["/movie/"+t])}},{key:"goTopMoviedetails",value:function(t){this.router.navigate(["/topRateMovie/"+t])}}]),t}()).\u0275fac=function(t){return new(t||hw)(u.Ib($b),u.Ib(gi),u.Ib(ew))},hw.\u0275cmp=u.Cb({type:hw,selectors:[["app-homepage"]],decls:45,vars:3,consts:[[1,"container"],[1,"row","background"],["src","assets/background2.jpg","width","100%","height","350px"],[1,"welcome","p-5"],[1,"row","mt-4","popular_movies"],[1,"d-flex","toggel","mt-5","pl-5","mb-5"],[1,"mt-1"],[1,"buttons"],[1,"active"],[1,"d-flex","justify-content-between","mb-5","cards",2,"overflow-x","auto"],["class","d-flex flex-column m-3","style","background-color: white; position: relative; width: 300px;",3,"click",4,"ngFor","ngForOf"],[1,"row","mt-4","bg-dark","video_containers"],["src","https://firebasestorage.googleapis.com/v0/b/movies-angular-task.appspot.com/o/mac.jpg?alt=media&token=37dfdf86-f4af-4afa-86ba-d915803b4e06","width","100%","height","500",2,"opacity","0.3"],["tourBackgroundImg",""],[1,"text-white"],[1,"mt-5","p-5","pb-0","d-flex","justify-content-between","cards","video_card",2,"overflow-x","auto"],["class","d-flex flex-column m-3 scale_card","style","background:none;",4,"ngFor","ngForOf"],[1,"row","mt-4","popular_movies",2,"background-image","url('assets/sound_background.png')","background-repeat","no-repeat","background-size","cover"],["class","d-flex flex-column m-3","style","background:none; position: relative; width: 300px;",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","flex-column","m-3",2,"background-color","white","position","relative","width","300px",3,"click"],["width","220","height","300",3,"src"],["height","70","width","70"],["cx","20","cy","30","r","20","stroke","#21D07A","stroke-width","3","fill","#081C22"],["x","10","y","35","fill","white",1,"fw-bold"],[1,"card_menu"],[1,"fw-bold","mt-4"],[1,"d-flex","flex-column","m-3","scale_card",2,"background","none"],["appChangeBackgroundOnHover","","width","350","height","230",3,"target","src"],[1,"text-center","text-white","fw-bold","mt-4"],[1,"text-center","text-white"],[1,"d-flex","flex-column","m-3",2,"background","none","position","relative","width","300px",3,"click"]],template:function(t,e){1&t&&(u.Jb(0,"app-header"),u.Lb(1,"div",0),u.Lb(2,"div",1),u.Jb(3,"img",2),u.Lb(4,"div",3),u.Lb(5,"h1"),u.fc(6,"Welcome."),u.Kb(),u.Lb(7,"h2"),u.fc(8,"Millions Of Movies, TV Shows and Peaple To Discover. Explore now"),u.Kb(),u.Kb(),u.Kb(),u.Lb(9,"div",4),u.Lb(10,"div",5),u.Lb(11,"h4",6),u.fc(12,"What's Popular"),u.Kb(),u.Lb(13,"div",7),u.Lb(14,"button",8),u.fc(15,"On TV"),u.Kb(),u.Lb(16,"button"),u.fc(17,"In Theaters"),u.Kb(),u.Kb(),u.Kb(),u.Lb(18,"div",9),u.ec(19,sw,13,4,"div",10),u.Kb(),u.Kb(),u.Lb(20,"div",11),u.Jb(21,"img",12,13),u.Lb(23,"div",5),u.Lb(24,"h2",14),u.fc(25,"Latest Trailers"),u.Kb(),u.Lb(26,"div",7),u.Lb(27,"button",8),u.fc(28,"On TV"),u.Kb(),u.Lb(29,"button"),u.fc(30,"In Theaters"),u.Kb(),u.Kb(),u.Kb(),u.Lb(31,"div",15),u.ec(32,cw,6,2,"div",16),u.Kb(),u.Kb(),u.Lb(33,"div",17),u.Lb(34,"div",5),u.Lb(35,"h4",6),u.fc(36,"Trending"),u.Kb(),u.Lb(37,"div",7),u.Lb(38,"button",8),u.fc(39,"Today"),u.Kb(),u.Lb(40,"button"),u.fc(41,"This Week"),u.Kb(),u.Kb(),u.Kb(),u.Lb(42,"div",9),u.ec(43,lw,13,4,"div",18),u.Kb(),u.Kb(),u.Kb(),u.Jb(44,"app-footer")),2&t&&(u.yb(19),u.Xb("ngForOf",e.popularMoviesList),u.yb(13),u.Xb("ngForOf",e.popularMoviesList),u.yb(11),u.Xb("ngForOf",e.topRateMoviesList))},directives:[ow,X,aw,uw],styles:['.background[_ngcontent-%COMP%]{position:relative}.background[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;right:0;top:0;bottom:0;background:#043153;opacity:.9}.welcome[_ngcontent-%COMP%]{position:absolute;top:20%;color:#fff;font-weight:bolder}.welcome[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:10px;background:hsla(0,1%,40.8%,.3)}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:rgba(17,16,16,.5)}.cards[_ngcontent-%COMP%], .cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:25px}.cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative}.cards[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;top:65%;padding-left:20px}.cards[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-size:12px}.cards[_ngcontent-%COMP%]   .card_menu[_ngcontent-%COMP%]{position:absolute;background-color:rgba(170,165,165,.6);top:3%;left:80%}.cards[_ngcontent-%COMP%]   .card_menu[_ngcontent-%COMP%], .cards[_ngcontent-%COMP%]   .card_menu[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{border-radius:50%;width:30px;height:30px;text-align:center;font-weight:bolder}.cards[_ngcontent-%COMP%]   .card_menu[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#5e95e7}.popular_movies[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{border-radius:50px;background:none;border:1px solid #032541;margin-left:20px}.popular_movies[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;outline:none;padding:10px 30px 12px;font-weight:700;color:#032541;font-size:15px}.popular_movies[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-radius:50px;background-color:#032541;color:#fff}.video_containers[_ngcontent-%COMP%]{position:relative}.video_card[_ngcontent-%COMP%], .video_containers[_ngcontent-%COMP%]   .toggel[_ngcontent-%COMP%]{position:absolute;padding-left:6%}.video_card[_ngcontent-%COMP%]{top:8%}.scale_card[_ngcontent-%COMP%], .video_card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.scale_card[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.video_containers[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{border-radius:50px;background:none;border:1px solid #adf9ca;margin-left:20px}.video_containers[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;outline:none;padding:10px 30px 12px;font-weight:700;color:#fff;font-size:15px}.video_containers[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-radius:50px;background-image:linear-gradient(90deg,#adf9ca 0,#3bdcb0);color:#032541}@media (max-width:460px){.toggel[_ngcontent-%COMP%]{flex-direction:column}}']}),hw),pw=((fw=function(){function t(e,n,r){h(this,t),this.activatedRoute=e,this.db=n,this.Router=r,this.PopularmovieID="",this.TopratedmovieID="";var i=this.activatedRoute.snapshot.paramMap.get("idPopularMovie");this.PopularmovieID=i;var o=this.activatedRoute.snapshot.paramMap.get("idTopRatedMovie");this.TopratedmovieID=o,null==this.PopularmovieID?this.getTopRatedMovie(this.TopratedmovieID):this.getPopularMovie(this.PopularmovieID)}return p(t,[{key:"ngOnInit",value:function(){}},{key:"getPopularMovie",value:function(t){var e=this;return this.db.collection("PopularMovies").doc(t).ref.get().then(function(t){t.exists?e.movie=t.data():console.log("There is no document")}).catch(function(t){console.log("error !!",t)})}},{key:"getTopRatedMovie",value:function(t){var e=this;return this.db.collection("TopRatedMovies").doc(t).ref.get().then(function(t){t.exists?e.movie=t.data():console.log("There is no document")}).catch(function(t){console.log("error !!",t)})}}]),t}()).\u0275fac=function(t){return new(t||fw)(u.Ib(Xn),u.Ib($b),u.Ib(gi))},fw.\u0275cmp=u.Cb({type:fw,selectors:[["app-movie-details"]],decls:22,vars:6,consts:[[1,"container-fluid"],[1,"row","bg-dark"],[1,"details_container",3,"src"],[1,"col-sm-3","column"],["width","90%","height","500",3,"src"],[1,"col-sm-7","sec_column"],["height","90","width","150"],["cx","40","cy","40","r","30","stroke","#21D07A","stroke-width","3","fill","#081C22"],["x","24","y","45","fill","white",1,"fw-bold"],["x","80","y","30","fill","white",1,"fw-bold"],["x","80","y","55","fill","white",1,"fw-bold"],[1,"mb-4","mt-3"]],template:function(t,e){1&t&&(u.Jb(0,"app-header"),u.Lb(1,"div",0),u.Lb(2,"div",1),u.Jb(3,"img",2),u.Lb(4,"div",3),u.Jb(5,"img",4),u.Kb(),u.Lb(6,"div",5),u.Lb(7,"h1"),u.fc(8),u.Kb(),u.Vb(),u.Lb(9,"svg",6),u.Jb(10,"circle",7),u.Lb(11,"text",8),u.fc(12),u.Kb(),u.Lb(13,"text",9),u.fc(14,"User"),u.Kb(),u.Lb(15,"text",10),u.fc(16,"Score"),u.Kb(),u.Kb(),u.Ub(),u.Lb(17,"h3",11),u.fc(18,"OverView"),u.Kb(),u.Lb(19,"h6"),u.fc(20),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Jb(21,"app-footer")),2&t&&(u.yb(3),u.Xb("src",e.movie.poster_path,u.cc),u.yb(2),u.Xb("src",e.movie.poster_path,u.cc),u.yb(3),u.ic("",e.movie.title," ( ",e.movie.release_date," )"),u.yb(4),u.hc("",e.movie.vote_average,"%"),u.yb(8),u.gc(e.movie.overview))},directives:[ow,aw],styles:[".details_container[_ngcontent-%COMP%]{position:relative;opacity:.4}.column[_ngcontent-%COMP%], .sec_column[_ngcontent-%COMP%]{position:absolute;margin-top:15%;margin-left:5%}.sec_column[_ngcontent-%COMP%]{margin-top:18%;margin-left:29%;color:#fff}.sec_column[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-size:17px}@media (max-width:575px){.sec_column[_ngcontent-%COMP%]{margin-left:0;color:#fff}.column[_ngcontent-%COMP%]{display:none}}@media (max-width:499px){.sec_column[_ngcontent-%COMP%]{margin-left:0;color:#fff;position:sticky}.column[_ngcontent-%COMP%]{display:none}.row[_ngcontent-%COMP%]{background-color:#032541!important}}"]}),fw);function vw(t,e){if(1&t){var n=u.Mb();u.Lb(0,"div",11),u.Lb(1,"div",12),u.Sb("click",function(){u.bc(n);var t=e.$implicit;return u.Wb().goMoviedetails(t.idcollection)}),u.Jb(2,"img",13),u.Vb(),u.Lb(3,"svg",14),u.Jb(4,"circle",15),u.Lb(5,"text",16),u.fc(6),u.Kb(),u.Kb(),u.Ub(),u.Lb(7,"div",17),u.Lb(8,"p"),u.fc(9,"..."),u.Kb(),u.Kb(),u.Lb(10,"h5",18),u.fc(11),u.Kb(),u.Lb(12,"p"),u.fc(13),u.Kb(),u.Kb(),u.Kb()}if(2&t){var r=e.$implicit;u.yb(2),u.Xb("src",r.poster_path,u.cc),u.yb(4),u.hc("",r.vote_average,"%"),u.yb(5),u.hc("",r.title," "),u.yb(2),u.hc("",r.release_date," ")}}function yw(t,e){if(1&t){var n=u.Mb();u.Lb(0,"div",11),u.Lb(1,"div",12),u.Sb("click",function(){u.bc(n);var t=e.$implicit;return u.Wb().goTopMoviedetails(t.idcollection)}),u.Jb(2,"img",13),u.Vb(),u.Lb(3,"svg",14),u.Jb(4,"circle",15),u.Lb(5,"text",16),u.fc(6),u.Kb(),u.Kb(),u.Ub(),u.Lb(7,"div",17),u.Lb(8,"p"),u.fc(9,"..."),u.Kb(),u.Kb(),u.Lb(10,"h5",18),u.fc(11),u.Kb(),u.Lb(12,"p"),u.fc(13),u.Kb(),u.Kb(),u.Kb()}if(2&t){var r=e.$implicit;u.yb(2),u.Xb("src",r.poster_path,u.cc),u.yb(4),u.hc("",r.vote_average,"%"),u.yb(5),u.hc("",r.title," "),u.yb(2),u.hc("",r.release_date," ")}}var gw,mw,bw,ww,_w=[{path:"Home",component:dw},{path:"",redirectTo:"/Home",pathMatch:"full"},{path:"movie/:idPopularMovie",component:pw},{path:"topRateMovie/:idTopRatedMovie",component:pw},{path:"movies/popular",component:(mw=function(){function t(e,n,r){h(this,t),this.db=e,this.router=n,this.popularMovieService=r,this.popularMoviesList=[],this.retrievePopularMovies()}return p(t,[{key:"ngOnInit",value:function(){}},{key:"retrievePopularMovies",value:function(){var t=this;this.popularMovieService.getAllPopularMovies().snapshotChanges().pipe(Object(se.a)(function(t){return t.map(function(t){return Object.assign({idcollection:t.payload.doc.id},t.payload.doc.data())})})).subscribe(function(e){t.popularMoviesList=e,console.log(t.popularMoviesList)})}},{key:"retrievesortedMovies_Popular_Desc",value:function(){return this.db.collection("PopularMovies",function(t){return t.orderBy("popularity","desc")})}},{key:"sort_Popular_desc",value:function(){var t=this;this.retrievesortedMovies_Popular_Desc().snapshotChanges().pipe(Object(se.a)(function(t){return t.map(function(t){return console.log(Object.assign({},t.payload.doc.data())),Object.assign({},t.payload.doc.data())})})).subscribe(function(e){return t.popularMoviesList=e})}},{key:"retrievesortedMovies_Popular_Asc",value:function(){return this.db.collection("PopularMovies",function(t){return t.orderBy("popularity")})}},{key:"sort_Popular_Asc",value:function(){var t=this;this.retrievesortedMovies_Popular_Asc().snapshotChanges().pipe(Object(se.a)(function(t){return t.map(function(t){return console.log(Object.assign({},t.payload.doc.data())),Object.assign({},t.payload.doc.data())})})).subscribe(function(e){return t.popularMoviesList=e})}},{key:"retrievesortedMovies_Rate_Asc",value:function(){return this.db.collection("PopularMovies",function(t){return t.orderBy("vote_count")})}},{key:"sort_Rate_Asc",value:function(){var t=this;this.retrievesortedMovies_Rate_Asc().snapshotChanges().pipe(Object(se.a)(function(t){return t.map(function(t){return console.log(Object.assign({},t.payload.doc.data())),Object.assign({},t.payload.doc.data())})})).subscribe(function(e){return t.popularMoviesList=e})}},{key:"retrievesortedMovies_Rate_desc",value:function(){return this.db.collection("PopularMovies",function(t){return t.orderBy("vote_count","desc")})}},{key:"sort_Rate_Desc",value:function(){var t=this;this.retrievesortedMovies_Rate_desc().snapshotChanges().pipe(Object(se.a)(function(t){return t.map(function(t){return console.log(Object.assign({},t.payload.doc.data())),Object.assign({},t.payload.doc.data())})})).subscribe(function(e){return t.popularMoviesList=e})}},{key:"goMoviedetails",value:function(t){this.router.navigate(["/movie/"+t])}}]),t}(),mw.\u0275fac=function(t){return new(t||mw)(u.Ib($b),u.Ib(gi),u.Ib(ew))},mw.\u0275cmp=u.Cb({type:mw,selectors:[["app-popular-movies"]],decls:28,vars:1,consts:[[1,"container"],[1,"row","mt-5"],[1,"col-md-6","col-lg-2",2,"flex-wrap","wrap"],[1,"gray-col",2,"padding-top","15px","margin-bottom","15%"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"w-100","shadow","bg-body","rounded","btn","btn-secondary","dropdown-toggle",2,"border","1px solid gray","border-radius","25px","color","black","font-weight","bold"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"col-md-6","col-lg-9"],[1,"row","mb-5"],["class","col-md-12 col-lg-4 cards",4,"ngFor","ngForOf"],[1,"col-md-12","col-lg-4","cards"],[1,"d-flex","flex-column","m-3",2,"background","none","position","relative","width","300px",3,"click"],["width","220","height","300",3,"src"],["height","70","width","70"],["cx","20","cy","30","r","20","stroke","#21D07A","stroke-width","3","fill","#081C22"],["x","10","y","35","fill","white",1,"fw-bold"],[1,"card_menu"],[1,"fw-bold","mt-4"]],template:function(t,e){1&t&&(u.Jb(0,"app-header"),u.Lb(1,"div",0),u.Lb(2,"div",1),u.Lb(3,"div",2),u.Lb(4,"h4",3),u.fc(5,"Popular Movies"),u.Kb(),u.Lb(6,"div",4),u.Lb(7,"button",5),u.fc(8," Sort "),u.Kb(),u.Lb(9,"ul",6),u.Lb(10,"li"),u.Lb(11,"a",7),u.Sb("click",function(){return e.sort_Popular_desc()}),u.fc(12,"Popularity Descending"),u.Kb(),u.Kb(),u.Lb(13,"li"),u.Lb(14,"a",7),u.Sb("click",function(){return e.sort_Popular_Asc()}),u.fc(15,"Popularity Ascending"),u.Kb(),u.Kb(),u.Lb(16,"li"),u.Lb(17,"a",7),u.Sb("click",function(){return e.sort_Rate_Desc()}),u.fc(18,"Rating Descending"),u.Kb(),u.Kb(),u.Lb(19,"li"),u.Lb(20,"a",7),u.Sb("click",function(){return e.sort_Rate_Asc()}),u.fc(21," Rating Ascending"),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Lb(22,"div",8),u.Jb(23,"br"),u.Jb(24,"br"),u.Lb(25,"div",9),u.ec(26,vw,14,4,"div",10),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Jb(27,"app-footer")),2&t&&(u.yb(26),u.Xb("ngForOf",e.popularMoviesList))},directives:[ow,X,aw],styles:[".cards[_ngcontent-%COMP%], .cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:25px}.cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative}.cards[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;top:68%;padding-left:20px}.cards[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-size:12px}.cards[_ngcontent-%COMP%]   .card_menu[_ngcontent-%COMP%]{position:absolute;background-color:rgba(170,165,165,.6);top:3%;left:60%}.cards[_ngcontent-%COMP%]   .card_menu[_ngcontent-%COMP%], .cards[_ngcontent-%COMP%]   .card_menu[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{border-radius:50%;width:30px;height:30px;text-align:center;font-weight:bolder}.cards[_ngcontent-%COMP%]   .card_menu[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#5e95e7}"]}),mw)},{path:"movies/topRated",component:(gw=function(){function t(e,n,r){h(this,t),this.db=e,this.router=n,this.popularMovieService=r,this.topRateMoviesList=[],this.retrieveTopRatedrMovies()}return p(t,[{key:"ngOnInit",value:function(){}},{key:"retrieveTopRatedrMovies",value:function(){var t=this;this.popularMovieService.getAllTopRatedMovies().snapshotChanges().pipe(Object(se.a)(function(t){return t.map(function(t){return Object.assign({idcollection:t.payload.doc.id},t.payload.doc.data())})})).subscribe(function(e){t.topRateMoviesList=e,console.log(t.topRateMoviesList)})}},{key:"goTopMoviedetails",value:function(t){this.router.navigate(["/topRateMovie/"+t])}},{key:"retrievesortedMovies_Popular_Desc",value:function(){return this.db.collection("TopRatedMovies",function(t){return t.orderBy("popularity","desc")})}},{key:"sort_Popular_desc",value:function(){var t=this;this.retrievesortedMovies_Popular_Desc().snapshotChanges().pipe(Object(se.a)(function(t){return t.map(function(t){return console.log(Object.assign({},t.payload.doc.data())),Object.assign({},t.payload.doc.data())})})).subscribe(function(e){return t.topRateMoviesList=e})}},{key:"retrievesortedMovies_Popular_Asc",value:function(){return this.db.collection("TopRatedMovies",function(t){return t.orderBy("popularity")})}},{key:"sort_Popular_Asc",value:function(){var t=this;this.retrievesortedMovies_Popular_Asc().snapshotChanges().pipe(Object(se.a)(function(t){return t.map(function(t){return console.log(Object.assign({},t.payload.doc.data())),Object.assign({},t.payload.doc.data())})})).subscribe(function(e){return t.topRateMoviesList=e})}},{key:"retrievesortedMovies_Rate_Asc",value:function(){return this.db.collection("TopRatedMovies",function(t){return t.orderBy("vote_count")})}},{key:"sort_Rate_Asc",value:function(){var t=this;this.retrievesortedMovies_Rate_Asc().snapshotChanges().pipe(Object(se.a)(function(t){return t.map(function(t){return console.log(Object.assign({},t.payload.doc.data())),Object.assign({},t.payload.doc.data())})})).subscribe(function(e){return t.topRateMoviesList=e})}},{key:"retrievesortedMovies_Rate_desc",value:function(){return this.db.collection("TopRatedMovies",function(t){return t.orderBy("vote_count","desc")})}},{key:"sort_Rate_Desc",value:function(){var t=this;this.retrievesortedMovies_Rate_desc().snapshotChanges().pipe(Object(se.a)(function(t){return t.map(function(t){return console.log(Object.assign({},t.payload.doc.data())),Object.assign({},t.payload.doc.data())})})).subscribe(function(e){return t.topRateMoviesList=e})}}]),t}(),gw.\u0275fac=function(t){return new(t||gw)(u.Ib($b),u.Ib(gi),u.Ib(ew))},gw.\u0275cmp=u.Cb({type:gw,selectors:[["app-top-rated"]],decls:28,vars:1,consts:[[1,"container"],[1,"row","mt-5"],[1,"col-md-6","col-lg-2",2,"flex-wrap","wrap"],[1,"gray-col",2,"padding-top","15px","margin-bottom","15%"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"w-100","shadow","bg-body","rounded","btn","btn-secondary","dropdown-toggle",2,"border","1px solid gray","border-radius","25px","color","black","font-weight","bold"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"col-md-6","col-lg-9"],[1,"row","mb-5"],["class","col-md-12 col-lg-4 cards",4,"ngFor","ngForOf"],[1,"col-md-12","col-lg-4","cards"],[1,"d-flex","flex-column","m-3",2,"background","none","position","relative","width","300px",3,"click"],["width","220","height","300",3,"src"],["height","70","width","70"],["cx","20","cy","30","r","20","stroke","#21D07A","stroke-width","3","fill","#081C22"],["x","10","y","35","fill","white",1,"fw-bold"],[1,"card_menu","dropdown"],[1,"fw-bold","mt-4"]],template:function(t,e){1&t&&(u.Jb(0,"app-header"),u.Lb(1,"div",0),u.Lb(2,"div",1),u.Lb(3,"div",2),u.Lb(4,"h4",3),u.fc(5,"Top Rated Movies"),u.Kb(),u.Lb(6,"div",4),u.Lb(7,"button",5),u.fc(8," Sort "),u.Kb(),u.Lb(9,"ul",6),u.Lb(10,"li"),u.Lb(11,"a",7),u.Sb("click",function(){return e.sort_Popular_desc()}),u.fc(12,"Popularity Descending"),u.Kb(),u.Kb(),u.Lb(13,"li"),u.Lb(14,"a",7),u.Sb("click",function(){return e.sort_Popular_Asc()}),u.fc(15,"Popularity Ascending"),u.Kb(),u.Kb(),u.Lb(16,"li"),u.Lb(17,"a",7),u.Sb("click",function(){return e.sort_Rate_Desc()}),u.fc(18,"Rating Descending"),u.Kb(),u.Kb(),u.Lb(19,"li"),u.Lb(20,"a",7),u.Sb("click",function(){return e.sort_Rate_Asc()}),u.fc(21," Rating Ascending"),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Lb(22,"div",8),u.Jb(23,"br"),u.Jb(24,"br"),u.Lb(25,"div",9),u.ec(26,yw,14,4,"div",10),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Jb(27,"app-footer")),2&t&&(u.yb(26),u.Xb("ngForOf",e.topRateMoviesList))},directives:[ow,X,aw],styles:[".cards[_ngcontent-%COMP%], .cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:25px}.cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative}.cards[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;top:68%;padding-left:20px}.cards[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-size:12px}.cards[_ngcontent-%COMP%]   .card_menu[_ngcontent-%COMP%]{position:absolute;background-color:rgba(170,165,165,.6);top:3%;left:60%}.cards[_ngcontent-%COMP%]   .card_menu[_ngcontent-%COMP%], .cards[_ngcontent-%COMP%]   .card_menu[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{border-radius:50%;width:30px;height:30px;text-align:center;font-weight:bolder}.cards[_ngcontent-%COMP%]   .card_menu[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#5e95e7}"]}),gw)}],kw=((ww=function t(){h(this,t)}).\u0275mod=u.Gb({type:ww}),ww.\u0275inj=u.Fb({factory:function(t){return new(t||ww)},imports:[[Ni.forRoot(_w)],Ni]}),ww),Ow=((bw=function t(){h(this,t),this.title="ElMenus"}).\u0275fac=function(t){return new(t||bw)},bw.\u0275cmp=u.Cb({type:bw,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&u.Jb(0,"router-outlet")},directives:[Oi],styles:[""]}),bw),Sw=function(){function t(e,n){h(this,t),this.dueTime=e,this.scheduler=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Tw(t,this.dueTime,this.scheduler))}}]),t}(),Tw=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return h(this,n),(o=e.call(this,t)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return p(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ew,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(Wt.a);function Ew(t){t.debouncedNext()}var Iw=function(t){function e(n,r){var i=t.call(this,Cw(n),"Firebase Storage: "+r+" ("+Cw(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(ic.c)(e,t),e.prototype._codeEquals=function(t){return Cw(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(to.c);function Cw(t){return"storage/"+t}function xw(){return new Iw("unknown","An unknown error occurred, please check the error payload for server response.")}function Aw(){return new Iw("canceled","User canceled the upload/download.")}function jw(){return new Iw("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Pw(t){return new Iw("invalid-argument",t)}function Rw(){return new Iw("app-deleted","The Firebase app was deleted.")}function Nw(t){return new Iw("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dw(t,e){return new Iw("invalid-format","String does not match format '"+t+"': "+e)}function Lw(t){throw new Iw("internal-error","Internal error: "+t)}var Mw={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Uw=function(t,e){this.data=t,this.contentType=e||null};function Fw(t,e){switch(t){case Mw.RAW:return new Uw(Vw(e));case Mw.BASE64:case Mw.BASE64URL:return new Uw(qw(t,e));case Mw.DATA_URL:return new Uw((n=new Bw(e)).base64?qw(Mw.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(lb){throw Dw(Mw.DATA_URL,"Malformed data URL.")}return Vw(e)}(n.rest),new Bw(e).contentType)}var n;throw xw()}function Vw(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function qw(t,e){switch(t){case Mw.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Dw(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Mw.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Dw(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(lb){throw Dw(t,"Invalid character found")}for(var u=new Uint8Array(a.length),s=0;s<a.length;s++)u[s]=a.charCodeAt(s);return u}var Bw=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Dw(Mw.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},Hw={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Kw(t){switch(t){case"running":case"pausing":case"canceling":return Hw.RUNNING;case"paused":return Hw.PAUSED;case"success":return Hw.SUCCESS;case"canceled":return Hw.CANCELED;case"error":default:return Hw.ERROR}}var zw=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Gw=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=zw.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=zw.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=zw.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Lw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Lw("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Lw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(lb){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Lw("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Ww=function(){function t(){}return t.prototype.createXhrIo=function(){return new Gw},t}(),Qw=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(lb){return new t(e,"")}if(""===n.path)return n;throw new Iw("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],u=0;u<a.length;u++){var s=a[u],c=s.regex.exec(e);if(c){var l=c[s.indices.path];l||(l=""),n=new t(c[s.indices.bucket],l),s.postModify(n);break}}if(null==n)throw function(t){return new Iw("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}(),Yw=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function Xw(t){return"string"==typeof t||t instanceof String}function Jw(t){return Zw()&&t instanceof Blob}function Zw(){return"undefined"!=typeof Blob}function $w(t,e,n,r){if(r<e)throw Pw("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Pw("Invalid value for '"+t+"'. Expected "+n+" or less.")}function t_(t){return"https://firebasestorage.googleapis.com/v0"+t}function e_(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var n_=function(){function t(t,e,n,r,i,o,a,u,s,c,l){var f=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=u,this.progressCallback_=c,this.timeout_=s,this.pool_=l,this.promise_=new Promise(function(t,e){f.resolve_=t,f.reject_=e,f.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var u=t.callback_(a,a.getResponseText());void 0!==u?i(u):i()}catch(lb){o(lb)}else null!==a?((r=xw()).serverResponse=a.getResponseText(),o(t.errorCallback_?t.errorCallback_(a,r):r)):o(r=n.canceled?t.appDelete_?Rw():Aw():new Iw("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new r_(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,a=!1,u=0;function s(){return 2===u}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function f(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new r_(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===zw.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new r_(a,n))}else{var u=n.getErrorCode()===zw.ABORT;e(!1,new r_(!1,null,u))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(h,s())},e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(ic.f)([null,t],e));else{var r;s()||a?l.call.apply(l,Object(ic.f)([null,t],e)):(i<64&&(i*=2),1===u?(u=2,r=0):r=1e3*(i+Math.random()),f(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(u=2),clearTimeout(o),f(0)):t||(u=1)))}return f(0),setTimeout(function(){a=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),r_=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function i_(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function o_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=i_();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Zw())return new Blob(t);throw new Iw("unsupported-environment","This browser doesn't seem to support creating Blobs")}var a_=function(){function t(t,e){var n=0,r="";Jw(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Jw(this.data_)){var r=(o=e,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Zw()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(o_.apply(null,r))}var i=e.map(function(t){return Xw(t)?Fw(Mw.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),u=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[u++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function u_(t){var e,n;try{e=JSON.parse(t)}catch(lb){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function s_(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function c_(t,e){return e}var l_=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||c_},f_=null;function h_(){if(f_)return f_;var t=[];t.push(new l_("bucket")),t.push(new l_("generation")),t.push(new l_("metageneration")),t.push(new l_("name","fullPath",!0));var e=new l_("name");e.xform=function(t,e){return function(t){return!Xw(t)||t.length<2?t:s_(t)}(e)},t.push(e);var n=new l_("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new l_("timeCreated")),t.push(new l_("updated")),t.push(new l_("md5Hash",null,!0)),t.push(new l_("cacheControl",null,!0)),t.push(new l_("contentDisposition",null,!0)),t.push(new l_("contentEncoding",null,!0)),t.push(new l_("contentLanguage",null,!0)),t.push(new l_("contentType",null,!0)),t.push(new l_("metadata","customMetadata",!0)),f_=t}function d_(t,e,n){var r=u_(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Qw(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function p_(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var v_=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function y_(t){if(!t)throw xw()}function g_(t,e){return function(n,r){var i=d_(t,r,e);return y_(null!==i),i}}function m_(t){return function(e,n){var r;return(r=401===e.getStatus()?new Iw("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Iw("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Iw("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function b_(t){var e=m_(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Iw("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function w_(t,e,n){var r=t_(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new v_(r,"GET",g_(t,n),i);return o.errorHandler=b_(e),o}function __(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var k_=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function O_(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(lb){y_(!1)}return y_(!!n&&-1!==(e||["active"]).indexOf(n)),n}var S_=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function T_(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var E_=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=h_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=__(e,r,i),u={name:a.fullPath},s=t_(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=p_(a,n),f=new v_(s,"POST",function(t){var e;O_(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(lb){y_(!1)}return y_(Xw(e)),e},t.maxUploadRetryTime);return f.urlParams=u,f.headers=c,f.body=l,f.errorHandler=m_(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new v_(n,"POST",function(t){var e=O_(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(lb){y_(!1)}n||y_(!1);var i=Number(n);return y_(!isNaN(i)),new k_(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=m_(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new k_(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,a,u){var s=new k_(0,0);if(a?(s.current=a.current,s.total=a.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new Iw("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":s.current},d=r.slice(f,f+l);if(null===d)throw jw();var p=new v_(n,"POST",function(t,n){var i,a=O_(t,["active","final"]),u=s.current+l,c=r.size();return i="final"===a?g_(e,o)(t,n):null,new k_(u,c,"final"===a,i)},e.maxUploadRetryTime);return p.headers=h,p.body=d.uploadData(),p.progressCallback=u||null,p.errorHandler=m_(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(lb){return t._error=lb,void t._transition("error")}var a=t._ref.storage._makeRequest(o,i);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=w_(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},u=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+u;var s=__(e,r,i),c=p_(s,n),l=a_.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===l)throw jw();var f={name:s.fullPath},h=t_(o),d=t.maxUploadRetryTime,p=new v_(h,"POST",g_(t,n),d);return p.urlParams=f,p.headers=a,p.body=l.uploadData(),p.errorHandler=m_(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Aw(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Kw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new S_(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Kw(this._state)){case Hw.SUCCESS:T_(this._resolve.bind(null,this.snapshot))();break;case Hw.CANCELED:case Hw.ERROR:T_(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Kw(this._state)){case Hw.RUNNING:case Hw.PAUSED:t.next&&T_(t.next.bind(t,this.snapshot))();break;case Hw.SUCCESS:t.complete&&T_(t.complete.bind(t))();break;case Hw.CANCELED:case Hw.ERROR:t.error&&T_(t.error.bind(t,this._error))();break;default:t.error&&T_(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),I_=function(){function t(t,e){this._service=t,this._location=e instanceof Qw?e:Qw.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Qw(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return s_(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Qw(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Nw(t)},t}();function C_(t){var e={prefixes:[],items:[]};return x_(t,e).then(function(){return e})}function x_(t,e,n){return Object(ic.b)(this,void 0,void 0,function(){var r,i,o;return Object(ic.d)(this,function(a){switch(a.label){case 0:return[4,A_(t,{pageToken:n})];case 1:return r=a.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,x_(t,e,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function A_(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r,i;return Object(ic.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&$w("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=t_(e.bucketOnlyServerUrl()),u=t.maxOperationRetryTime,s=new v_(a,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=u_(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),u=t._makeStorageReference(new Qw(e,a));r.prefixes.push(u)}if(n.items)for(var s=0,c=n.items;s<c.length;s++)u=t._makeStorageReference(new Qw(e,c[s].name)),r.items.push(u);return r}(t,e,r)}(t,e,r);return y_(null!==i),i}}(t,e.bucket),u);return s.urlParams=o,s.errorHandler=m_(e),s}(t.storage,t._location,0,(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}})})}function j_(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Qw(t._location.bucket,n);return new I_(t.storage,r)}function P_(t){return/^[A-Za-z]+:\/\//.test(t)}function R_(t,e){if(t instanceof D_){var n=t;if(null==n._bucket)throw new Iw("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new I_(n,n._bucket);return null!=e?R_(r,e):r}if(void 0!==e){if(e.includes(".."))throw Pw('`path` param cannot contain ".."');return j_(t,e)}return t}function N_(t,e){if(e&&P_(e)){if(t instanceof D_)return new I_(t,e);throw Pw("To use ref(service, url), the first argument must be a Storage instance.")}return R_(t,e)}var D_=function(){function t(t,e,n,r,i){var o,a;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Qw.makeFromBucketSpec(r):null==(a=null==(o=this.app.options)?void 0:o.storageBucket)?null:Qw.makeFromBucketSpec(a)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){$w("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){$w("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(ic.b)(this,void 0,void 0,function(){var t,e;return Object(ic.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new I_(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new Yw(Rw());var r=function(t,e,n,r,i){var o=e_(t.urlParams),a=t.url+o,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,i),new n_(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}();function L_(t,e){return N_(t,e)}var M_,U_,F_=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),V_=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new F_(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new F_(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new F_(t,i,i._ref))}:{next:e.next?function(t){return e.next(new F_(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),q_=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new B_(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new B_(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),B_=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return j_(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new V_(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new E_(t,new a_(e),n)}(t,e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Mw.RAW),this._throwIfRoot("putString");var r=Fw(e,t),i=Object(ic.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new V_(new E_(this._delegate,new a_(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,C_(t)).then(function(t){return new q_(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return A_(t,e)}(this._delegate,t||void 0).then(function(t){return new q_(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(ic.b)(this,void 0,void 0,function(){var e,n;return Object(ic.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=w_(t.storage,t._location,h_()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(ic.b)(this,void 0,void 0,function(){var n,r;return Object(ic.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=t_(e.fullServerUrl()),o=p_(n,r),a=t.maxOperationRetryTime,u=new v_(i,"PATCH",g_(t,r),a);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=o,u.errorHandler=b_(e),u}(t.storage,t._location,e,h_()),[2,t.storage._makeRequest(r,n).getPromise()]}})})}(t,e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(ic.b)(this,void 0,void 0,function(){var e,n;return Object(ic.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=t_(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new v_(r,"GET",function(t,e){return function(n,r){var i=d_(t,r,e);return y_(null!==i),function(t,e){var n=u_(e);if(null===n)return null;if(!Xw(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return t_("/b/"+i(t.bucket)+"/o/"+i(n))+e_({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=b_(e),o}(t.storage,t._location,h_()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new Iw("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(ic.b)(this,void 0,void 0,function(){var e,n;return Object(ic.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=t_(e.fullServerUrl()),r=new v_(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=b_(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Nw(t)},t}(),H_=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(P_(t))throw Pw("ref() expected a child path but got a URL, use refFromURL instead.");return new B_(L_(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!P_(t))throw Pw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qw.makeFromUrl(t)}catch(lb){throw Pw("refFromUrl() expected a valid full URL but got an invalid one.")}return new B_(L_(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function K_(t){var e=function(t){return new Jt.a(function(e){var n=function(t){return e.next(t)};n(t.snapshot);var r=t.on("state_changed",n);return t.then(function(t){n(t),e.complete()},function(r){n(t.snapshot),function(t){e.error(t)}(r)}),function(){r()}}).pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ki.a;return function(n){return n.lift(new Sw(t,e))}}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:function(){return e},percentageChanges:function(){return e.pipe(Object(se.a)(function(t){return t.bytesTransferred/t.totalBytes*100}))}}}function z_(t,e,n){return{getDownloadURL:function(){return Object(qt.a)(void 0).pipe(Object(Xi.b)(e.outsideAngular),le(function(){return t.getDownloadURL()}),n)},getMetadata:function(){return Object(qt.a)(void 0).pipe(Object(Xi.b)(e.outsideAngular),le(function(){return t.getMetadata()}),n)},delete:function(){return Object(Vt.a)(t.delete())},child:function(r){return z_(t.child(r),e,n)},updateMetadata:function(e){return Object(Vt.a)(t.updateMetadata(e))},put:function(e,n){return K_(t.put(e,n))},putString:function(e,n,r){return K_(t.putString(e,n,r))},listAll:function(){return Object(Vt.a)(t.listAll())}}}U_={TaskState:Hw,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Mw,Storage:D_,Reference:B_},(M_=$i.a).INTERNAL.registerComponent(new db.a("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return new H_(r,new D_(r,i,new Ww,n,$i.a.SDK_VERSION))},"PUBLIC").setServiceProps(U_).setMultipleInstances(!0)),M_.registerVersion("@firebase/storage","0.4.6");var G_,W_,Q_,Y_=new u.q("angularfire2.storageBucket"),X_=new u.q("angularfire2.storage.maxUploadRetryTime"),J_=new u.q("angularfire2.storage.maxOperationRetryTime"),Z_=((Q_=function(){function t(e,n,r,i,o,a,u){h(this,t),this.schedulers=new Ji.d(o),this.keepUnstableUntilFirst=Object(Ji.h)(this.schedulers);var s=Object(Ji.g)(e,o,n);this.storage=Object(Ji.f)("".concat(s.name,".storage.").concat(r),"AngularFireStorage",s,function(){var t=o.runOutsideAngular(function(){return s.storage(r||void 0)});return a&&t.setMaxUploadRetryTime(a),u&&t.setMaxOperationRetryTime(u),t},[a,u])}return p(t,[{key:"ref",value:function(t){return z_(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"refFromURL",value:function(t){return z_(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(t,e,n){return z_(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}]),t}()).\u0275fac=function(t){return new(t||Q_)(u.Pb(Ji.c),u.Pb(Ji.b,8),u.Pb(Y_,8),u.Pb(u.B),u.Pb(u.z),u.Pb(X_,8),u.Pb(J_,8))},Q_.\u0275prov=Object(u.Eb)({factory:function(){return new Q_(Object(u.Pb)(Ji.c),Object(u.Pb)(Ji.b,8),Object(u.Pb)(Y_,8),Object(u.Pb)(u.B),Object(u.Pb)(u.z),Object(u.Pb)(X_,8),Object(u.Pb)(J_,8))},token:Q_,providedIn:"any"}),Q_),$_=((W_=function t(){h(this,t)}).\u0275mod=u.Gb({type:W_}),W_.\u0275inj=u.Fb({factory:function(t){return new(t||W_)}}),W_),tk=((G_=function t(){h(this,t)}).\u0275mod=u.Gb({type:G_}),G_.\u0275inj=u.Fb({factory:function(t){return new(t||G_)},providers:[Z_],imports:[$_]}),G_);o("XoHu");var ek,nk,rk,ik,ok=((rk=function(){function t(){h(this,t),this._accessors=[]}return p(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||rk)},rk.\u0275prov=u.Eb({token:rk,factory:rk.\u0275fac}),rk),ak=((nk=function t(){h(this,t)}).\u0275mod=u.Gb({type:nk}),nk.\u0275inj=u.Fb({factory:function(t){return new(t||nk)}}),nk),uk=((ek=function t(){h(this,t)}).\u0275mod=u.Gb({type:ek}),ek.\u0275inj=u.Fb({factory:function(t){return new(t||ek)},providers:[ok],imports:[ak]}),ek),sk={apiKey:"AIzaSyB8kqKu_hyfoQMpB2NvLAR_FdYNLT1G3Hk",authDomain:"movies-angular-task.firebaseapp.com",projectId:"movies-angular-task",storageBucket:"movies-angular-task.appspot.com",messagingSenderId:"551694970001",appId:"1:551694970001:web:54b692542aa6384f0da330",measurementId:"G-NTYWKKJQP1"},ck=((ik=function t(){h(this,t)}).\u0275mod=u.Gb({type:ik,bootstrap:[Ow]}),ik.\u0275inj=u.Fb({factory:function(t){return new(t||ik)},providers:[],imports:[[Ft,uk,kw,Ji.a.initializeApp(sk),tw,Pb,tk]]}),ik);Object(u.S)(),Mt().bootstrapModule(ck).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return s});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD"),a=function(t){v(n,t);var e=g(n);function n(t){var r;return h(this,n),(r=e.call(this)).parent=t,r}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.a),u=function(t){v(n,t);var e=g(n);function n(){return h(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.a);function s(t,e){if(!e.closed){if(t instanceof i.a)return t.subscribe(e);var n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}}},[[0,0]]])}();